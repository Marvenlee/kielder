diff -urN newlib-1.15.0/config.guess newlib-1.15.0_new/config.guess
--- newlib-1.15.0/config.guess	2006-12-11 04:12:46.000000000 +0000
+++ newlib-1.15.0_new/config.guess	2007-09-22 22:03:36.718750000 +0100
@@ -1,10 +1,9 @@
 #! /bin/sh
 # Attempt to guess a canonical system name.
 #   Copyright (C) 1992, 1993, 1994, 1995, 1996, 1997, 1998, 1999,
-#   2000, 2001, 2002, 2003, 2004, 2005, 2006 Free Software Foundation,
-#   Inc.
+#   2000, 2001, 2002, 2003, 2004, 2005 Free Software Foundation, Inc.
 
-timestamp='2006-12-08'
+timestamp='2005-07-08'
 
 # This file is free software; you can redistribute it and/or modify it
 # under the terms of the GNU General Public License as published by
@@ -107,7 +106,7 @@
 trap "exitcode=\$?; (rm -f \$tmpfiles 2>/dev/null; rmdir \$tmp 2>/dev/null) && exit \$exitcode" 0 ;
 trap "rm -f \$tmpfiles 2>/dev/null; rmdir \$tmp 2>/dev/null; exit 1" 1 2 13 15 ;
 : ${TMPDIR=/tmp} ;
- { tmp=`(umask 077 && mktemp -d "$TMPDIR/cgXXXXXX") 2>/dev/null` && test -n "$tmp" && test -d "$tmp" ; } ||
+ { tmp=`(umask 077 && mktemp -d -q "$TMPDIR/cgXXXXXX") 2>/dev/null` && test -n "$tmp" && test -d "$tmp" ; } ||
  { test -n "$RANDOM" && tmp=$TMPDIR/cg$$-$RANDOM && (umask 077 && mkdir $tmp) ; } ||
  { tmp=$TMPDIR/cg-$$ && (umask 077 && mkdir $tmp) && echo "Warning: creating insecure temp directory" >&2 ; } ||
  { echo "$me: cannot create a temporary directory in $TMPDIR" >&2 ; exit 1 ; } ;
@@ -161,7 +160,6 @@
 	    arm*) machine=arm-unknown ;;
 	    sh3el) machine=shl-unknown ;;
 	    sh3eb) machine=sh-unknown ;;
-	    sh5el) machine=sh5le-unknown ;;
 	    *) machine=${UNAME_MACHINE_ARCH}-unknown ;;
 	esac
 	# The Operating System including object format, if it has switched
@@ -208,11 +206,8 @@
     *:ekkoBSD:*:*)
 	echo ${UNAME_MACHINE}-unknown-ekkobsd${UNAME_RELEASE}
 	exit ;;
-    *:SolidBSD:*:*)
-	echo ${UNAME_MACHINE}-unknown-solidbsd${UNAME_RELEASE}
-	exit ;;
     macppc:MirBSD:*:*)
-	echo powerpc-unknown-mirbsd${UNAME_RELEASE}
+	echo powerppc-unknown-mirbsd${UNAME_RELEASE}
 	exit ;;
     *:MirBSD:*:*)
 	echo ${UNAME_MACHINE}-unknown-mirbsd${UNAME_RELEASE}
@@ -769,14 +764,7 @@
 	echo ${UNAME_MACHINE}-unknown-bsdi${UNAME_RELEASE}
 	exit ;;
     *:FreeBSD:*:*)
-	case ${UNAME_MACHINE} in
-	    pc98)
-		echo i386-unknown-freebsd`echo ${UNAME_RELEASE}|sed -e 's/[-(].*//'` ;;
-	    amd64)
-		echo x86_64-unknown-freebsd`echo ${UNAME_RELEASE}|sed -e 's/[-(].*//'` ;;
-	    *)
-		echo ${UNAME_MACHINE}-unknown-freebsd`echo ${UNAME_RELEASE}|sed -e 's/[-(].*//'` ;;
-	esac
+	echo ${UNAME_MACHINE}-unknown-freebsd`echo ${UNAME_RELEASE}|sed -e 's/[-(].*//'`
 	exit ;;
     i*:CYGWIN*:*)
 	echo ${UNAME_MACHINE}-pc-cygwin
@@ -791,11 +779,8 @@
     i*:PW*:*)
 	echo ${UNAME_MACHINE}-pc-pw32
 	exit ;;
-    x86:Interix*:[3456]*)
-	echo i586-pc-interix${UNAME_RELEASE}
-	exit ;;
-    EM64T:Interix*:[3456]* | authenticamd:Interix*:[3456]*)
-	echo x86_64-unknown-interix${UNAME_RELEASE}
+    x86:Interix*:[34]*)
+	echo i586-pc-interix${UNAME_RELEASE}|sed -e 's/\..*//'
 	exit ;;
     [345]86:Windows_95:* | [345]86:Windows_98:* | [345]86:Windows_NT:*)
 	echo i${UNAME_MACHINE}-pc-mks
@@ -809,7 +794,7 @@
     i*:UWIN*:*)
 	echo ${UNAME_MACHINE}-pc-uwin
 	exit ;;
-    amd64:CYGWIN*:*:* | x86_64:CYGWIN*:*:*)
+    amd64:CYGWIN*:*:*)
 	echo x86_64-unknown-cygwin
 	exit ;;
     p*:CYGWIN*:*)
@@ -832,9 +817,6 @@
     arm*:Linux:*:*)
 	echo ${UNAME_MACHINE}-unknown-linux-gnu
 	exit ;;
-    avr32*:Linux:*:*)
-	echo ${UNAME_MACHINE}-unknown-linux-gnu
-	exit ;;
     cris:Linux:*:*)
 	echo cris-axis-linux-gnu
 	exit ;;
@@ -869,11 +851,7 @@
 	#endif
 	#endif
 EOF
-	eval "`$CC_FOR_BUILD -E $dummy.c 2>/dev/null | sed -n '
-	    /^CPU/{
-		s: ::g
-		p
-	    }'`"
+	eval `$CC_FOR_BUILD -E $dummy.c 2>/dev/null | grep ^CPU=`
 	test x"${CPU}" != x && { echo "${CPU}-unknown-linux-gnu"; exit; }
 	;;
     mips64:Linux:*:*)
@@ -892,16 +870,9 @@
 	#endif
 	#endif
 EOF
-	eval "`$CC_FOR_BUILD -E $dummy.c 2>/dev/null | sed -n '
-	    /^CPU/{
-		s: ::g
-		p
-	    }'`"
+	eval `$CC_FOR_BUILD -E $dummy.c 2>/dev/null | grep ^CPU=`
 	test x"${CPU}" != x && { echo "${CPU}-unknown-linux-gnu"; exit; }
 	;;
-    or32:Linux:*:*)
-	echo or32-unknown-linux-gnu
-	exit ;;
     ppc:Linux:*:*)
 	echo powerpc-unknown-linux-gnu
 	exit ;;
@@ -945,15 +916,9 @@
     sparc:Linux:*:* | sparc64:Linux:*:*)
 	echo ${UNAME_MACHINE}-unknown-linux-gnu
 	exit ;;
-    vax:Linux:*:*)
-	echo ${UNAME_MACHINE}-dec-linux-gnu
-	exit ;;
     x86_64:Linux:*:*)
 	echo x86_64-unknown-linux-gnu
 	exit ;;
-    xtensa:Linux:*:*)
-    	echo xtensa-unknown-linux-gnu
-	exit ;;
     i*86:Linux:*:*)
 	# The BFD linker knows what the default object file format is, so
 	# first see if it will tell us. cd to the root directory to prevent
@@ -996,7 +961,7 @@
 	LIBC=gnulibc1
 	# endif
 	#else
-	#if defined(__INTEL_COMPILER) || defined(__PGI) || defined(__SUNPRO_C) || defined(__SUNPRO_CC)
+	#ifdef __INTEL_COMPILER
 	LIBC=gnu
 	#else
 	LIBC=gnuaout
@@ -1006,11 +971,7 @@
 	LIBC=dietlibc
 	#endif
 EOF
-	eval "`$CC_FOR_BUILD -E $dummy.c 2>/dev/null | sed -n '
-	    /^LIBC/{
-		s: ::g
-		p
-	    }'`"
+	eval `$CC_FOR_BUILD -E $dummy.c 2>/dev/null | grep ^LIBC=`
 	test x"${LIBC}" != x && {
 		echo "${UNAME_MACHINE}-pc-linux-${LIBC}"
 		exit
@@ -1212,12 +1173,6 @@
     SX-6:SUPER-UX:*:*)
 	echo sx6-nec-superux${UNAME_RELEASE}
 	exit ;;
-    SX-7:SUPER-UX:*:*)
-	echo sx7-nec-superux${UNAME_RELEASE}
-	exit ;;
-    SX-8:SUPER-UX:*:*)
-	echo sx8-nec-superux${UNAME_RELEASE}
-	exit ;;
     Power*:Rhapsody:*:*)
 	echo powerpc-apple-rhapsody${UNAME_RELEASE}
 	exit ;;
@@ -1227,6 +1182,7 @@
     *:Darwin:*:*)
 	UNAME_PROCESSOR=`uname -p` || UNAME_PROCESSOR=unknown
 	case $UNAME_PROCESSOR in
+	    *86) UNAME_PROCESSOR=i686 ;;
 	    unknown) UNAME_PROCESSOR=powerpc ;;
 	esac
 	echo ${UNAME_PROCESSOR}-apple-darwin${UNAME_RELEASE}
@@ -1305,9 +1261,6 @@
     i*86:skyos:*:*)
 	echo ${UNAME_MACHINE}-pc-skyos`echo ${UNAME_RELEASE}` | sed -e 's/ .*$//'
 	exit ;;
-    i*86:rdos:*:*)
-	echo ${UNAME_MACHINE}-pc-rdos
-	exit ;;
 esac
 
 #echo '(No uname command or uname output not recognized.)' 1>&2
diff -urN newlib-1.15.0/config.sub newlib-1.15.0_new/config.sub
--- newlib-1.15.0/config.sub	2006-12-11 04:12:46.000000000 +0000
+++ newlib-1.15.0_new/config.sub	2007-09-22 22:38:11.750000000 +0100
@@ -1,10 +1,9 @@
 #! /bin/sh
 # Configuration validation subroutine script.
 #   Copyright (C) 1992, 1993, 1994, 1995, 1996, 1997, 1998, 1999,
-#   2000, 2001, 2002, 2003, 2004, 2005, 2006 Free Software Foundation,
-#   Inc.
+#   2000, 2001, 2002, 2003, 2004, 2005 Free Software Foundation, Inc.
 
-timestamp='2006-12-08'
+timestamp='2005-07-08'
 
 # This file is (in principle) common to ALL GNU software.
 # The presence of a machine in this file suggests that SOME GNU software
@@ -120,9 +119,8 @@
 # Here we must recognize all the valid KERNEL-OS combinations.
 maybe_os=`echo $1 | sed 's/^\(.*\)-\([^-]*-[^-]*\)$/\2/'`
 case $maybe_os in
-  nto-qnx* | linux-gnu* | linux-dietlibc | linux-newlib* | linux-uclibc* | \
-  uclinux-uclibc* | uclinux-gnu* | kfreebsd*-gnu* | knetbsd*-gnu* | netbsd*-gnu* | \
-  storm-chaos* | os2-emx* | rtmk-nova*)
+  nto-qnx* | linux-gnu* | linux-dietlibc | linux-uclibc* | uclinux-uclibc* | uclinux-gnu* | \
+  kfreebsd*-gnu* | knetbsd*-gnu* | netbsd*-gnu* | storm-chaos* | os2-emx* | rtmk-nova*)
     os=-$maybe_os
     basic_machine=`echo $1 | sed 's/^\(.*\)-\([^-]*-[^-]*\)$/\1/'`
     ;;
@@ -173,10 +171,6 @@
 	-hiux*)
 		os=-hiuxwe2
 		;;
-	-sco6)
-		os=-sco5v6
-		basic_machine=`echo $1 | sed -e 's/86-.*/86-pc/'`
-		;;
 	-sco5)
 		os=-sco3.2v5
 		basic_machine=`echo $1 | sed -e 's/86-.*/86-pc/'`
@@ -193,10 +187,6 @@
 		# Don't forget version if it is 3.2v4 or newer.
 		basic_machine=`echo $1 | sed -e 's/86-.*/86-pc/'`
 		;;
-	-sco5v6*)
-		# Don't forget version if it is 3.2v4 or newer.
-		basic_machine=`echo $1 | sed -e 's/86-.*/86-pc/'`
-		;;
 	-sco*)
 		os=-sco3.2v2
 		basic_machine=`echo $1 | sed -e 's/86-.*/86-pc/'`
@@ -241,16 +231,15 @@
 	| alpha | alphaev[4-8] | alphaev56 | alphaev6[78] | alphapca5[67] \
 	| alpha64 | alpha64ev[4-8] | alpha64ev56 | alpha64ev6[78] | alpha64pca5[67] \
 	| am33_2.0 \
-	| arc | arm | arm[bl]e | arme[lb] | armv[2345] | armv[345][lb] | avr | avr32 \
+	| arc | arm | arm[bl]e | arme[lb] | armv[2345] | armv[345][lb] | avr \
 	| bfin \
 	| c4x | clipper \
 	| d10v | d30v | dlx | dsp16xx \
-	| fido | fr30 | frv \
+	| fr30 | frv \
 	| h8300 | h8500 | hppa | hppa1.[01] | hppa2.0 | hppa2.0[nw] | hppa64 \
 	| i370 | i860 | i960 | ia64 \
 	| ip2k | iq2000 \
-	| m32c | m32r | m32rle | m68000 | m68k | m88k \
-	| maxq | mb | microblaze | mcore \
+	| m32r | m32rle | m68000 | m68k | m88k | maxq | mcore \
 	| mips | mipsbe | mipseb | mipsel | mipsle \
 	| mips16 \
 	| mips64 | mips64el \
@@ -268,27 +257,28 @@
 	| mipsisa64sr71k | mipsisa64sr71kel \
 	| mipstx39 | mipstx39el \
 	| mn10200 | mn10300 \
-	| mt \
+	| ms1 \
 	| msp430 \
-	| nios | nios2 \
 	| ns16k | ns32k \
 	| or32 \
 	| pdp10 | pdp11 | pj | pjl \
 	| powerpc | powerpc64 | powerpc64le | powerpcle | ppcbe \
 	| pyramid \
-	| score \
-	| sh | sh[1234] | sh[24]a | sh[23]e | sh[34]eb | sheb | shbe | shle | sh[1234]le | sh3ele \
+	| sh | sh[1234] | sh[24]a | sh[23]e | sh[34]eb | shbe | shle | sh[1234]le | sh3ele \
 	| sh64 | sh64le \
-	| sparc | sparc64 | sparc64b | sparc64v | sparc86x | sparclet | sparclite \
-	| sparcv8 | sparcv9 | sparcv9b | sparcv9v \
-	| spu | strongarm \
+	| sparc | sparc64 | sparc64b | sparc86x | sparclet | sparclite \
+	| sparcv8 | sparcv9 | sparcv9b \
+	| strongarm \
 	| tahoe | thumb | tic4x | tic80 | tron \
 	| v850 | v850e \
 	| we32k \
-	| x86 | xc16x | xscale | xscalee[bl] | xstormy16 | xtensa \
+	| x86 | xscale | xscalee[bl] | xstormy16 | xtensa \
 	| z8k)
 		basic_machine=$basic_machine-unknown
 		;;
+	m32c)
+		basic_machine=$basic_machine-unknown
+		;;
 	m6811 | m68hc11 | m6812 | m68hc12)
 		# Motorola 68HC11/12.
 		basic_machine=$basic_machine-unknown
@@ -296,9 +286,6 @@
 		;;
 	m88110 | m680[12346]0 | m683?2 | m68360 | m5200 | v70 | w65 | z8k)
 		;;
-	ms1)
-		basic_machine=mt-unknown
-		;;
 
 	# We use `pc' rather than `unknown'
 	# because (1) that's what they normally are, and
@@ -318,18 +305,18 @@
 	| alpha64-* | alpha64ev[4-8]-* | alpha64ev56-* | alpha64ev6[78]-* \
 	| alphapca5[67]-* | alpha64pca5[67]-* | arc-* \
 	| arm-*  | armbe-* | armle-* | armeb-* | armv*-* \
-	| avr-* | avr32-* \
+	| avr-* \
 	| bfin-* | bs2000-* \
 	| c[123]* | c30-* | [cjt]90-* | c4x-* | c54x-* | c55x-* | c6x-* \
 	| clipper-* | craynv-* | cydra-* \
 	| d10v-* | d30v-* | dlx-* \
 	| elxsi-* \
-	| f30[01]-* | f700-* | fido-* | fr30-* | frv-* | fx80-* \
+	| f30[01]-* | f700-* | fr30-* | frv-* | fx80-* \
 	| h8300-* | h8500-* \
 	| hppa-* | hppa1.[01]-* | hppa2.0-* | hppa2.0[nw]-* | hppa64-* \
 	| i*86-* | i860-* | i960-* | ia64-* \
 	| ip2k-* | iq2000-* \
-	| m32c-* | m32r-* | m32rle-* \
+	| m32r-* | m32rle-* \
 	| m68000-* | m680[012346]0-* | m68360-* | m683?2-* | m68k-* \
 	| m88110-* | m88k-* | maxq-* | mcore-* \
 	| mips-* | mipsbe-* | mipseb-* | mipsel-* | mipsle-* \
@@ -349,30 +336,31 @@
 	| mipsisa64sr71k-* | mipsisa64sr71kel-* \
 	| mipstx39-* | mipstx39el-* \
 	| mmix-* \
-	| mt-* \
+	| ms1-* \
 	| msp430-* \
-	| nios-* | nios2-* \
 	| none-* | np1-* | ns16k-* | ns32k-* \
 	| orion-* \
 	| pdp10-* | pdp11-* | pj-* | pjl-* | pn-* | power-* \
 	| powerpc-* | powerpc64-* | powerpc64le-* | powerpcle-* | ppcbe-* \
 	| pyramid-* \
 	| romp-* | rs6000-* \
-	| sh-* | sh[1234]-* | sh[24]a-* | sh[23]e-* | sh[34]eb-* | sheb-* | shbe-* \
+	| sh-* | sh[1234]-* | sh[24]a-* | sh[23]e-* | sh[34]eb-* | shbe-* \
 	| shle-* | sh[1234]le-* | sh3ele-* | sh64-* | sh64le-* \
-	| sparc-* | sparc64-* | sparc64b-* | sparc64v-* | sparc86x-* | sparclet-* \
+	| sparc-* | sparc64-* | sparc64b-* | sparc86x-* | sparclet-* \
 	| sparclite-* \
-	| sparcv8-* | sparcv9-* | sparcv9b-* | sparcv9v-* | strongarm-* | sv1-* | sx?-* \
+	| sparcv8-* | sparcv9-* | sparcv9b-* | strongarm-* | sv1-* | sx?-* \
 	| tahoe-* | thumb-* \
 	| tic30-* | tic4x-* | tic54x-* | tic55x-* | tic6x-* | tic80-* \
 	| tron-* \
 	| v850-* | v850e-* | vax-* \
 	| we32k-* \
-	| x86-* | x86_64-* | xc16x-* | xps100-* | xscale-* | xscalee[bl]-* \
+	| x86-* | x86_64-* | xps100-* | xscale-* | xscalee[bl]-* \
 	| xstormy16-* | xtensa-* \
 	| ymp-* \
 	| z8k-*)
 		;;
+	m32c-*)
+		;;
 	# Recognize the various machine names and aliases which stand
 	# for a CPU type and a company and sometimes even an OS.
 	386bsd)
@@ -708,9 +696,6 @@
 		basic_machine=i386-pc
 		os=-msdos
 		;;
-	ms1-*)
-		basic_machine=`echo $basic_machine | sed -e 's/ms1-/mt-/'`
-		;;
 	mvs)
 		basic_machine=i370-ibm
 		os=-mvs
@@ -818,12 +803,6 @@
 	pc532 | pc532-*)
 		basic_machine=ns32k-pc532
 		;;
-	pc98)
-		basic_machine=i386-pc
-		;;
-	pc98-*)
-		basic_machine=i386-`echo $basic_machine | sed 's/^[^-]*-//'`
-		;;
 	pentium | p5 | k5 | k6 | nexgen | viac3)
 		basic_machine=i586-pc
 		;;
@@ -880,10 +859,6 @@
 		basic_machine=i586-unknown
 		os=-pw32
 		;;
-	rdos)
-		basic_machine=i386-pc
-		os=-rdos
-		;;
 	rom68k)
 		basic_machine=m68k-rom68k
 		os=-coff
@@ -910,10 +885,6 @@
 	sb1el)
 		basic_machine=mipsisa64sb1el-unknown
 		;;
-	sde)
-		basic_machine=mipsisa32-sde
-		os=-elf
-		;;
 	sei)
 		basic_machine=mips-sei
 		os=-seiux
@@ -925,9 +896,6 @@
 		basic_machine=sh-hitachi
 		os=-hms
 		;;
-	sh5el)
-		basic_machine=sh5le-unknown
-		;;
 	sh64)
 		basic_machine=sh64-unknown
 		;;
@@ -1133,7 +1101,7 @@
 	sh[1234] | sh[24]a | sh[34]eb | sh[1234]le | sh[23]ele)
 		basic_machine=sh-unknown
 		;;
-	sparc | sparcv8 | sparcv9 | sparcv9b | sparcv9v)
+	sparc | sparcv8 | sparcv9 | sparcv9b)
 		basic_machine=sparc-sun
 		;;
 	cydra)
@@ -1206,23 +1174,21 @@
 	      | -aos* \
 	      | -nindy* | -vxsim* | -vxworks* | -ebmon* | -hms* | -mvs* \
 	      | -clix* | -riscos* | -uniplus* | -iris* | -rtu* | -xenix* \
-	      | -hiux* | -386bsd* | -knetbsd* | -mirbsd* | -netbsd* \
-	      | -openbsd* | -solidbsd* \
+	      | -hiux* | -386bsd* | -knetbsd* | -mirbsd* | -netbsd* | -openbsd* \
 	      | -ekkobsd* | -kfreebsd* | -freebsd* | -riscix* | -lynxos* \
 	      | -bosx* | -nextstep* | -cxux* | -aout* | -elf* | -oabi* \
 	      | -ptx* | -coff* | -ecoff* | -winnt* | -domain* | -vsta* \
 	      | -udi* | -eabi* | -lites* | -ieee* | -go32* | -aux* \
 	      | -chorusos* | -chorusrdb* \
-	      | -cygwin* | -pe* | -psos* | -moss* | -proelf* | -rtems* \
-	      | -mingw32* | -linux-gnu* | -linux-newlib* | -linux-uclibc* \
-	      | -uxpv* | -beos* | -mpeix* | -udk* \
+	      | -cygwin* | -pe* | -psos* | -moss* | -proelf* | -rtems* | -kielder* \
+	      | -mingw32* | -linux-gnu* | -linux-uclibc* | -uxpv* | -beos* | -mpeix* | -udk* \
 	      | -interix* | -uwin* | -mks* | -rhapsody* | -darwin* | -opened* \
 	      | -openstep* | -oskit* | -conix* | -pw32* | -nonstopux* \
 	      | -storm-chaos* | -tops10* | -tenex* | -tops20* | -its* \
 	      | -os2* | -vos* | -palmos* | -uclinux* | -nucleus* \
 	      | -morphos* | -superux* | -rtmk* | -rtmk-nova* | -windiss* \
 	      | -powermax* | -dnix* | -nx6 | -nx7 | -sei* | -dragonfly* \
-	      | -skyos* | -haiku* | -rdos* | -toppers*)
+	      | -skyos* | -haiku*)
 	# Remember, each alternative MUST END IN *, to match a version number.
 		;;
 	-qnx*)
@@ -1374,12 +1340,6 @@
 # system, and we'll never get to this point.
 
 case $basic_machine in
-        score-*)
-		os=-elf
-		;;
-        spu-*)
-		os=-elf
-		;;
 	*-acorn)
 		os=-riscix1.2
 		;;
@@ -1389,9 +1349,9 @@
 	arm*-semi)
 		os=-aout
 		;;
-        c4x-* | tic4x-*)
-        	os=-coff
-		;;
+    c4x-* | tic4x-*)
+        os=-coff
+        ;;
 	# This must come before the *-dec entry.
 	pdp10-*)
 		os=-tops20
diff -urN newlib-1.15.0/configure newlib-1.15.0_new/configure
--- newlib-1.15.0/configure	2006-12-12 01:38:04.000000000 +0000
+++ newlib-1.15.0_new/configure	2007-09-22 20:05:19.546875000 +0100
@@ -1246,6 +1246,9 @@
   *-*-rtems*)
     noconfigdirs="$noconfigdirs target-libgloss ${libgcj}"
     ;;
+  *-*-kielder*)
+    noconfigdirs="$noconfigdirs target-libgloss ${libgcj}"
+    ;;
     # The tpf target doesn't support gdb yet.
   *-*-tpf*)
     noconfigdirs="$noconfigdirs target-newlib target-libgloss target-libiberty ${libgcj} target-libmudflap gdb tcl tk libgui itcl"
diff -urN newlib-1.15.0/configure.in newlib-1.15.0_new/configure.in
--- newlib-1.15.0/configure.in	2006-12-12 01:38:04.000000000 +0000
+++ newlib-1.15.0_new/configure.in	2007-09-22 20:01:05.468750000 +0100
@@ -422,6 +422,9 @@
   *-*-rtems*)
     noconfigdirs="$noconfigdirs target-libgloss ${libgcj}"
     ;;
+  *-*-kielder*)
+    noconfigdirs="$noconfigdirs target-libgloss ${libgcj}"
+    ;;
     # The tpf target doesn't support gdb yet.
   *-*-tpf*)
     noconfigdirs="$noconfigdirs target-newlib target-libgloss target-libiberty ${libgcj} target-libmudflap gdb tcl tk libgui itcl"
diff -urN newlib-1.15.0/newlib/configure.host newlib-1.15.0_new/newlib/configure.host
--- newlib-1.15.0/newlib/configure.host	2006-12-18 21:49:14.000000000 +0000
+++ newlib-1.15.0_new/newlib/configure.host	2007-09-22 19:14:19.984375000 +0100
@@ -328,6 +328,9 @@
 	sys_dir=rtems
         # RTEMS POSIX support is all inside RTEMS
 	;;
+  *-*-kielder*)
+	sys_dir=kielder
+	;;
   a29k-*-*)
 	sys_dir=a29khif
 	signal_dir=
@@ -512,6 +515,10 @@
 	default_newlib_io_long_long="yes"
 	newlib_cflags="${newlib_cflags} -DMALLOC_PROVIDED -DEXIT_PROVIDED -DMISSING_SYSCALL_NAMES -DSIGNAL_PROVIDED -DREENTRANT_SYSCALLS_PROVIDED -DHAVE_OPENDIR -DNO_EXEC -DHAVE_FCNTL"
 	;;
+  *-*-kielder*)
+	default_newlib_io_long_long="yes"
+	newlib_cflags="${newlib_cflags} -DPREFER_SIZE_OVER_SPEED -D_I386MACH_ALLOW_HW_INTERRUPTS -DHAVE_GETTIMEOFDAY -DMALLOC_PROVIDED -DEXIT_PROVIDED -DMISSING_SYSCALL_NAMES -DSIGNAL_PROVIDED -DHAVE_OPENDIR -DHAVE_FCNTL -DHAVE_RENAME"
+	;;
 # VxWorks supplies its own version of malloc, and the newlib one
 # doesn't work because VxWorks does not have sbrk.
   *-wrs-vxworks*)
diff -urN newlib-1.15.0/newlib/libc/sys/configure newlib-1.15.0_new/newlib/libc/sys/configure
--- newlib-1.15.0/newlib/libc/sys/configure	2006-12-18 22:21:54.000000000 +0000
+++ newlib-1.15.0_new/newlib/libc/sys/configure	2007-09-22 19:48:53.046875000 +0100
@@ -279,6 +279,7 @@
 ac_subdirs_all="$ac_subdirs_all decstation"
 ac_subdirs_all="$ac_subdirs_all h8300hms"
 ac_subdirs_all="$ac_subdirs_all h8500hms"
+ac_subdirs_all="$ac_subdirs_all kielder"
 ac_subdirs_all="$ac_subdirs_all linux"
 ac_subdirs_all="$ac_subdirs_all m88kbug"
 ac_subdirs_all="$ac_subdirs_all mmixware"
@@ -4909,6 +4910,10 @@
 
 subdirs="$subdirs h8500hms"
  ;;
+	kielder)
+
+subdirs="$subdirs kielder"
+ ;;
 	linux)
 
 subdirs="$subdirs linux"
diff -urN newlib-1.15.0/newlib/libc/sys/configure.in newlib-1.15.0_new/newlib/libc/sys/configure.in
--- newlib-1.15.0/newlib/libc/sys/configure.in	2006-04-13 20:56:27.000000000 +0100
+++ newlib-1.15.0_new/newlib/libc/sys/configure.in	2007-09-22 19:49:17.203125000 +0100
@@ -27,6 +27,7 @@
 	decstation) AC_CONFIG_SUBDIRS(decstation) ;;
 	h8300hms) AC_CONFIG_SUBDIRS(h8300hms) ;;
 	h8500hms) AC_CONFIG_SUBDIRS(h8500hms) ;;
+	kielder) AC_CONFIG_SUBDIRS(kielder) ;;
 	linux) AC_CONFIG_SUBDIRS(linux) ;;
 	m88kbug) AC_CONFIG_SUBDIRS(m88kbug) ;;
 	mmixware) AC_CONFIG_SUBDIRS(mmixware) ;;
diff -urN newlib-1.15.0/newlib/libc/sys/kielder/Makefile.am newlib-1.15.0_new/newlib/libc/sys/kielder/Makefile.am
--- newlib-1.15.0/newlib/libc/sys/kielder/Makefile.am	1970-01-01 00:00:00.000000000 +0000
+++ newlib-1.15.0_new/newlib/libc/sys/kielder/Makefile.am	2008-04-15 10:06:04.812500000 +0100
@@ -0,0 +1,101 @@
+## Process this file with automake to generate Makefile.in
+
+AUTOMAKE_OPTIONS = cygnus
+
+INCLUDES = $(NEWLIB_CFLAGS) $(CROSS_CFLAGS) $(TARGET_CFLAGS)
+
+AM_CCASFLAGS = $(INCLUDES)
+
+noinst_LIBRARIES = lib.a
+
+lib_a_SOURCES = \
+	_exit.c \
+	access.c \
+	alarm.c \
+	assign.c \
+	chmod.c \
+	close.c \
+	closedir.c \
+	creat.c \
+	debug.c \
+	dir.c \
+	dup.c \
+	environ.c \
+	execl.c \
+	execle.c \
+	execlp.c \
+	execv.c \
+	execve.c \
+	execvp.c \
+	fcntl.c \
+	fork.c \
+	format.c \
+	fstat.c \
+	getpid.c \
+	gettod.c \
+	id.c \
+	inhibit.c \
+	ioctl.c \
+	link.c \
+	lseek.c \
+	malloc.c \
+	mmap.c \
+	mknod.c \
+	mntent.c \
+	mount.c \
+	open.c \
+	opendir.c \
+	pathconf.c \
+	pipe.c \
+	popen.c \
+	pwd.c \
+	read.c \
+	readdir.c \
+	reboot.c \
+	rename.c \
+	resource.c \
+	rewinddir.c \
+	select.c \
+	siglist.c \
+	signal.c \
+	sigtramp.s \
+	sleep.c \
+	stat.c \
+	statvfs.c \
+	sync.c \
+	sysconf.c \
+	termios.c \
+	time.c \
+	times.c \
+	truncate.c \
+	unlink.c \
+	wait.c \
+	write.c
+	
+	
+	
+EXTRA_lib_a_SOURCES = dummy.S
+
+lib_a_CCASFLAGS = $(AM_CCASFLAGS)
+lib_a_CFLAGS = $(AM_CFLAGS)
+
+all: crt0.o
+
+ACLOCAL_AMFLAGS = -I ../../..
+CONFIG_STATUS_DEPENDENCIES = $(newlib_basedir)/configure.host
+
+	
+install-data-local:
+	$(mkinstalldirs) $(DESTDIR)$(tooldir)/include/netinet; \
+		for i in $(srcdir)/netinet/*.h; do \
+		$(INSTALL_DATA) $$i $(DESTDIR)$(tooldir)/include/netinet/`basename $$i`; done
+
+
+
+		
+
+
+
+
+
+
diff -urN newlib-1.15.0/newlib/libc/sys/kielder/Makefile.in newlib-1.15.0_new/newlib/libc/sys/kielder/Makefile.in
--- newlib-1.15.0/newlib/libc/sys/kielder/Makefile.in	1970-01-01 00:00:00.000000000 +0000
+++ newlib-1.15.0_new/newlib/libc/sys/kielder/Makefile.in	2008-04-15 11:28:38.140625000 +0100
@@ -0,0 +1,908 @@
+# Makefile.in generated by automake 1.9.6 from Makefile.am.
+# @configure_input@
+
+# Copyright (C) 1994, 1995, 1996, 1997, 1998, 1999, 2000, 2001, 2002,
+# 2003, 2004, 2005  Free Software Foundation, Inc.
+# This Makefile.in is free software; the Free Software Foundation
+# gives unlimited permission to copy and/or distribute it,
+# with or without modifications, as long as this notice is preserved.
+
+# This program is distributed in the hope that it will be useful,
+# but WITHOUT ANY WARRANTY, to the extent permitted by law; without
+# even the implied warranty of MERCHANTABILITY or FITNESS FOR A
+# PARTICULAR PURPOSE.
+
+@SET_MAKE@
+
+srcdir = @srcdir@
+top_srcdir = @top_srcdir@
+VPATH = @srcdir@
+pkgdatadir = $(datadir)/@PACKAGE@
+pkglibdir = $(libdir)/@PACKAGE@
+pkgincludedir = $(includedir)/@PACKAGE@
+top_builddir = .
+am__cd = CDPATH="$${ZSH_VERSION+.}$(PATH_SEPARATOR)" && cd
+INSTALL = @INSTALL@
+install_sh_DATA = $(install_sh) -c -m 644
+install_sh_PROGRAM = $(install_sh) -c
+install_sh_SCRIPT = $(install_sh) -c
+INSTALL_HEADER = $(INSTALL_DATA)
+transform = $(program_transform_name)
+NORMAL_INSTALL = :
+PRE_INSTALL = :
+POST_INSTALL = :
+NORMAL_UNINSTALL = :
+PRE_UNINSTALL = :
+POST_UNINSTALL = :
+build_triplet = @build@
+host_triplet = @host@
+LIBOBJDIR =
+DIST_COMMON = $(srcdir)/../../../../config.guess \
+	$(srcdir)/../../../../config.sub $(srcdir)/Makefile.in \
+	$(srcdir)/Makefile.am $(top_srcdir)/configure \
+	$(am__configure_deps) acconfig.h \
+	$(srcdir)/../../../../mkinstalldirs \
+	$(srcdir)/../../../../compile $(srcdir)/../../../../compile \
+	$(srcdir)/../../../../compile $(srcdir)/../../../../compile \
+	$(srcdir)/../../../../compile $(srcdir)/../../../../compile \
+	$(srcdir)/../../../../compile $(srcdir)/../../../../compile \
+	$(srcdir)/../../../../compile $(srcdir)/../../../../compile \
+	$(srcdir)/../../../../compile $(srcdir)/../../../../compile \
+	$(srcdir)/../../../../compile $(srcdir)/../../../../compile \
+	$(srcdir)/../../../../compile $(srcdir)/../../../../compile \
+	$(srcdir)/../../../../compile $(srcdir)/../../../../compile \
+	$(srcdir)/../../../../compile $(srcdir)/../../../../compile \
+	$(srcdir)/../../../../compile $(srcdir)/../../../../compile \
+	$(srcdir)/../../../../compile $(srcdir)/../../../../compile \
+	$(srcdir)/../../../../compile $(srcdir)/../../../../compile \
+	$(srcdir)/../../../../compile $(srcdir)/../../../../compile \
+	$(srcdir)/../../../../compile $(srcdir)/../../../../compile \
+	$(srcdir)/../../../../compile $(srcdir)/../../../../compile \
+	$(srcdir)/../../../../compile $(srcdir)/../../../../compile \
+	$(srcdir)/../../../../compile $(srcdir)/../../../../compile \
+	$(srcdir)/../../../../compile $(srcdir)/../../../../compile \
+	$(srcdir)/../../../../compile $(srcdir)/../../../../compile \
+	$(srcdir)/../../../../compile $(srcdir)/../../../../compile \
+	$(srcdir)/../../../../compile $(srcdir)/../../../../compile \
+	$(srcdir)/../../../../compile $(srcdir)/../../../../compile \
+	$(srcdir)/../../../../compile $(srcdir)/../../../../compile \
+	$(srcdir)/../../../../compile $(srcdir)/../../../../compile \
+	$(srcdir)/../../../../compile $(srcdir)/../../../../compile \
+	$(srcdir)/../../../../compile $(srcdir)/../../../../compile \
+	$(srcdir)/../../../../compile $(srcdir)/../../../../compile \
+	$(srcdir)/../../../../compile $(srcdir)/../../../../compile \
+	$(srcdir)/../../../../compile $(srcdir)/../../../../compile \
+	$(srcdir)/../../../../compile
+subdir = .
+ACLOCAL_M4 = $(top_srcdir)/aclocal.m4
+am__aclocal_m4_deps = $(top_srcdir)/../../../acinclude.m4 \
+	$(top_srcdir)/configure.in
+am__configure_deps = $(am__aclocal_m4_deps) $(CONFIGURE_DEPENDENCIES) \
+	$(ACLOCAL_M4)
+am__CONFIG_DISTCLEAN_FILES = config.status config.cache config.log \
+ configure.lineno configure.status.lineno
+mkinstalldirs = $(SHELL) $(top_srcdir)/../../../../mkinstalldirs
+CONFIG_CLEAN_FILES =
+LIBRARIES = $(noinst_LIBRARIES)
+ARFLAGS = cru
+lib_a_AR = $(AR) $(ARFLAGS)
+lib_a_LIBADD =
+am_lib_a_OBJECTS = lib_a-_exit.$(OBJEXT) lib_a-access.$(OBJEXT) \
+	lib_a-alarm.$(OBJEXT) lib_a-assign.$(OBJEXT) \
+	lib_a-chmod.$(OBJEXT) lib_a-close.$(OBJEXT) \
+	lib_a-closedir.$(OBJEXT) lib_a-creat.$(OBJEXT) \
+	lib_a-debug.$(OBJEXT) lib_a-dir.$(OBJEXT) lib_a-dup.$(OBJEXT) \
+	lib_a-environ.$(OBJEXT) lib_a-execl.$(OBJEXT) \
+	lib_a-execle.$(OBJEXT) lib_a-execlp.$(OBJEXT) \
+	lib_a-execv.$(OBJEXT) lib_a-execve.$(OBJEXT) \
+	lib_a-execvp.$(OBJEXT) lib_a-fcntl.$(OBJEXT) \
+	lib_a-fork.$(OBJEXT) lib_a-format.$(OBJEXT) \
+	lib_a-fstat.$(OBJEXT) lib_a-getpid.$(OBJEXT) \
+	lib_a-gettod.$(OBJEXT) lib_a-id.$(OBJEXT) \
+	lib_a-inhibit.$(OBJEXT) lib_a-ioctl.$(OBJEXT) \
+	lib_a-link.$(OBJEXT) lib_a-lseek.$(OBJEXT) \
+	lib_a-malloc.$(OBJEXT) lib_a-mmap.$(OBJEXT) \
+	lib_a-mknod.$(OBJEXT) lib_a-mntent.$(OBJEXT) \
+	lib_a-mount.$(OBJEXT) lib_a-open.$(OBJEXT) \
+	lib_a-opendir.$(OBJEXT) lib_a-pathconf.$(OBJEXT) \
+	lib_a-pipe.$(OBJEXT) lib_a-popen.$(OBJEXT) lib_a-pwd.$(OBJEXT) \
+	lib_a-read.$(OBJEXT) lib_a-readdir.$(OBJEXT) \
+	lib_a-reboot.$(OBJEXT) lib_a-rename.$(OBJEXT) \
+	lib_a-resource.$(OBJEXT) lib_a-rewinddir.$(OBJEXT) \
+	lib_a-select.$(OBJEXT) lib_a-siglist.$(OBJEXT) \
+	lib_a-signal.$(OBJEXT) lib_a-sigtramp.$(OBJEXT) \
+	lib_a-sleep.$(OBJEXT) lib_a-stat.$(OBJEXT) \
+	lib_a-statvfs.$(OBJEXT) lib_a-sync.$(OBJEXT) \
+	lib_a-sysconf.$(OBJEXT) lib_a-termios.$(OBJEXT) \
+	lib_a-time.$(OBJEXT) lib_a-times.$(OBJEXT) \
+	lib_a-truncate.$(OBJEXT) lib_a-unlink.$(OBJEXT) \
+	lib_a-wait.$(OBJEXT) lib_a-write.$(OBJEXT)
+lib_a_OBJECTS = $(am_lib_a_OBJECTS)
+DEFAULT_INCLUDES = -I. -I$(srcdir)
+depcomp =
+am__depfiles_maybe =
+CCASCOMPILE = $(CCAS) $(AM_CCASFLAGS) $(CCASFLAGS)
+COMPILE = $(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(AM_CPPFLAGS) \
+	$(CPPFLAGS) $(AM_CFLAGS) $(CFLAGS)
+CCLD = $(CC)
+LINK = $(CCLD) $(AM_CFLAGS) $(CFLAGS) $(AM_LDFLAGS) $(LDFLAGS) -o $@
+SOURCES = $(lib_a_SOURCES) $(EXTRA_lib_a_SOURCES)
+ETAGS = etags
+CTAGS = ctags
+ACLOCAL = @ACLOCAL@
+AMDEP_FALSE = @AMDEP_FALSE@
+AMDEP_TRUE = @AMDEP_TRUE@
+AMTAR = @AMTAR@
+AR = @AR@
+AS = @AS@
+AUTOCONF = @AUTOCONF@
+AUTOHEADER = @AUTOHEADER@
+AUTOMAKE = @AUTOMAKE@
+AWK = @AWK@
+CC = @CC@
+CCAS = @CCAS@
+CCASFLAGS = @CCASFLAGS@
+CCDEPMODE = @CCDEPMODE@
+CYGPATH_W = @CYGPATH_W@
+DEFS = @DEFS@
+DEPDIR = @DEPDIR@
+ECHO_C = @ECHO_C@
+ECHO_N = @ECHO_N@
+ECHO_T = @ECHO_T@
+ELIX_LEVEL_0_FALSE = @ELIX_LEVEL_0_FALSE@
+ELIX_LEVEL_0_TRUE = @ELIX_LEVEL_0_TRUE@
+ELIX_LEVEL_1_FALSE = @ELIX_LEVEL_1_FALSE@
+ELIX_LEVEL_1_TRUE = @ELIX_LEVEL_1_TRUE@
+ELIX_LEVEL_2_FALSE = @ELIX_LEVEL_2_FALSE@
+ELIX_LEVEL_2_TRUE = @ELIX_LEVEL_2_TRUE@
+ELIX_LEVEL_3_FALSE = @ELIX_LEVEL_3_FALSE@
+ELIX_LEVEL_3_TRUE = @ELIX_LEVEL_3_TRUE@
+ELIX_LEVEL_4_FALSE = @ELIX_LEVEL_4_FALSE@
+ELIX_LEVEL_4_TRUE = @ELIX_LEVEL_4_TRUE@
+INSTALL_DATA = @INSTALL_DATA@
+INSTALL_PROGRAM = @INSTALL_PROGRAM@
+INSTALL_SCRIPT = @INSTALL_SCRIPT@
+INSTALL_STRIP_PROGRAM = @INSTALL_STRIP_PROGRAM@
+LDFLAGS = @LDFLAGS@
+LIBOBJS = @LIBOBJS@
+LIBS = @LIBS@
+LTLIBOBJS = @LTLIBOBJS@
+MAINT = @MAINT@
+MAINTAINER_MODE_FALSE = @MAINTAINER_MODE_FALSE@
+MAINTAINER_MODE_TRUE = @MAINTAINER_MODE_TRUE@
+MAKEINFO = @MAKEINFO@
+MAY_SUPPLY_SYSCALLS_FALSE = @MAY_SUPPLY_SYSCALLS_FALSE@
+MAY_SUPPLY_SYSCALLS_TRUE = @MAY_SUPPLY_SYSCALLS_TRUE@
+NEWLIB_CFLAGS = @NEWLIB_CFLAGS@
+OBJEXT = @OBJEXT@
+PACKAGE = @PACKAGE@
+PACKAGE_BUGREPORT = @PACKAGE_BUGREPORT@
+PACKAGE_NAME = @PACKAGE_NAME@
+PACKAGE_STRING = @PACKAGE_STRING@
+PACKAGE_TARNAME = @PACKAGE_TARNAME@
+PACKAGE_VERSION = @PACKAGE_VERSION@
+PATH_SEPARATOR = @PATH_SEPARATOR@
+RANLIB = @RANLIB@
+READELF = @READELF@
+SET_MAKE = @SET_MAKE@
+SHELL = @SHELL@
+STRIP = @STRIP@
+USE_LIBTOOL_FALSE = @USE_LIBTOOL_FALSE@
+USE_LIBTOOL_TRUE = @USE_LIBTOOL_TRUE@
+VERSION = @VERSION@
+aext = @aext@
+am__fastdepCC_FALSE = @am__fastdepCC_FALSE@
+am__fastdepCC_TRUE = @am__fastdepCC_TRUE@
+am__include = @am__include@
+am__leading_dot = @am__leading_dot@
+am__quote = @am__quote@
+am__tar = @am__tar@
+am__untar = @am__untar@
+bindir = @bindir@
+build = @build@
+build_alias = @build_alias@
+build_cpu = @build_cpu@
+build_os = @build_os@
+build_vendor = @build_vendor@
+datadir = @datadir@
+datarootdir = @datarootdir@
+docdir = @docdir@
+dvidir = @dvidir@
+exec_prefix = @exec_prefix@
+host = @host@
+host_alias = @host_alias@
+host_cpu = @host_cpu@
+host_os = @host_os@
+host_vendor = @host_vendor@
+htmldir = @htmldir@
+includedir = @includedir@
+infodir = @infodir@
+install_sh = @install_sh@
+libdir = @libdir@
+libexecdir = @libexecdir@
+libm_machine_dir = @libm_machine_dir@
+localedir = @localedir@
+localstatedir = @localstatedir@
+lpfx = @lpfx@
+machine_dir = @machine_dir@
+mandir = @mandir@
+mkdir_p = @mkdir_p@
+newlib_basedir = @newlib_basedir@
+oext = @oext@
+oldincludedir = @oldincludedir@
+pdfdir = @pdfdir@
+prefix = @prefix@
+program_transform_name = @program_transform_name@
+psdir = @psdir@
+sbindir = @sbindir@
+sharedstatedir = @sharedstatedir@
+sys_dir = @sys_dir@
+sysconfdir = @sysconfdir@
+target_alias = @target_alias@
+AUTOMAKE_OPTIONS = cygnus
+INCLUDES = $(NEWLIB_CFLAGS) $(CROSS_CFLAGS) $(TARGET_CFLAGS)
+AM_CCASFLAGS = $(INCLUDES)
+noinst_LIBRARIES = lib.a
+lib_a_SOURCES = \
+	_exit.c \
+	access.c \
+	alarm.c \
+	assign.c \
+	chmod.c \
+	close.c \
+	closedir.c \
+	creat.c \
+	debug.c \
+	dir.c \
+	dup.c \
+	environ.c \
+	execl.c \
+	execle.c \
+	execlp.c \
+	execv.c \
+	execve.c \
+	execvp.c \
+	fcntl.c \
+	fork.c \
+	format.c \
+	fstat.c \
+	getpid.c \
+	gettod.c \
+	id.c \
+	inhibit.c \
+	ioctl.c \
+	link.c \
+	lseek.c \
+	malloc.c \
+	mmap.c \
+	mknod.c \
+	mntent.c \
+	mount.c \
+	open.c \
+	opendir.c \
+	pathconf.c \
+	pipe.c \
+	popen.c \
+	pwd.c \
+	read.c \
+	readdir.c \
+	reboot.c \
+	rename.c \
+	resource.c \
+	rewinddir.c \
+	select.c \
+	siglist.c \
+	signal.c \
+	sigtramp.s \
+	sleep.c \
+	stat.c \
+	statvfs.c \
+	sync.c \
+	sysconf.c \
+	termios.c \
+	time.c \
+	times.c \
+	truncate.c \
+	unlink.c \
+	wait.c \
+	write.c
+
+EXTRA_lib_a_SOURCES = dummy.S
+lib_a_CCASFLAGS = $(AM_CCASFLAGS)
+lib_a_CFLAGS = $(AM_CFLAGS)
+ACLOCAL_AMFLAGS = -I ../../..
+CONFIG_STATUS_DEPENDENCIES = $(newlib_basedir)/configure.host
+all: all-am
+
+.SUFFIXES:
+.SUFFIXES: .S .c .o .obj .s
+am--refresh:
+	@:
+$(srcdir)/Makefile.in: @MAINTAINER_MODE_TRUE@ $(srcdir)/Makefile.am  $(am__configure_deps)
+	@for dep in $?; do \
+	  case '$(am__configure_deps)' in \
+	    *$$dep*) \
+	      echo ' cd $(srcdir) && $(AUTOMAKE) --cygnus '; \
+	      cd $(srcdir) && $(AUTOMAKE) --cygnus  \
+		&& exit 0; \
+	      exit 1;; \
+	  esac; \
+	done; \
+	echo ' cd $(top_srcdir) && $(AUTOMAKE) --cygnus  Makefile'; \
+	cd $(top_srcdir) && \
+	  $(AUTOMAKE) --cygnus  Makefile
+.PRECIOUS: Makefile
+Makefile: $(srcdir)/Makefile.in $(top_builddir)/config.status
+	@case '$?' in \
+	  *config.status*) \
+	    echo ' $(SHELL) ./config.status'; \
+	    $(SHELL) ./config.status;; \
+	  *) \
+	    echo ' cd $(top_builddir) && $(SHELL) ./config.status $@ $(am__depfiles_maybe)'; \
+	    cd $(top_builddir) && $(SHELL) ./config.status $@ $(am__depfiles_maybe);; \
+	esac;
+
+$(top_builddir)/config.status: $(top_srcdir)/configure $(CONFIG_STATUS_DEPENDENCIES)
+	$(SHELL) ./config.status --recheck
+
+$(top_srcdir)/configure: @MAINTAINER_MODE_TRUE@ $(am__configure_deps)
+	cd $(srcdir) && $(AUTOCONF)
+$(ACLOCAL_M4): @MAINTAINER_MODE_TRUE@ $(am__aclocal_m4_deps)
+	cd $(srcdir) && $(ACLOCAL) $(ACLOCAL_AMFLAGS)
+
+clean-noinstLIBRARIES:
+	-test -z "$(noinst_LIBRARIES)" || rm -f $(noinst_LIBRARIES)
+lib.a: $(lib_a_OBJECTS) $(lib_a_DEPENDENCIES) 
+	-rm -f lib.a
+	$(lib_a_AR) lib.a $(lib_a_OBJECTS) $(lib_a_LIBADD)
+	$(RANLIB) lib.a
+
+mostlyclean-compile:
+	-rm -f *.$(OBJEXT)
+
+distclean-compile:
+	-rm -f *.tab.c
+
+.S.o:
+	$(CCASCOMPILE) -c $<
+
+.S.obj:
+	$(CCASCOMPILE) -c `$(CYGPATH_W) '$<'`
+
+lib_a-sigtramp.o: sigtramp.s
+	$(CCAS) $(lib_a_CCASFLAGS) $(CCASFLAGS) -c -o lib_a-sigtramp.o `test -f 'sigtramp.s' || echo '$(srcdir)/'`sigtramp.s
+
+lib_a-sigtramp.obj: sigtramp.s
+	$(CCAS) $(lib_a_CCASFLAGS) $(CCASFLAGS) -c -o lib_a-sigtramp.obj `if test -f 'sigtramp.s'; then $(CYGPATH_W) 'sigtramp.s'; else $(CYGPATH_W) '$(srcdir)/sigtramp.s'; fi`
+
+lib_a-dummy.o: dummy.S
+	$(CCAS) $(lib_a_CCASFLAGS) $(CCASFLAGS) -c -o lib_a-dummy.o `test -f 'dummy.S' || echo '$(srcdir)/'`dummy.S
+
+lib_a-dummy.obj: dummy.S
+	$(CCAS) $(lib_a_CCASFLAGS) $(CCASFLAGS) -c -o lib_a-dummy.obj `if test -f 'dummy.S'; then $(CYGPATH_W) 'dummy.S'; else $(CYGPATH_W) '$(srcdir)/dummy.S'; fi`
+
+.c.o:
+	$(COMPILE) -c $<
+
+.c.obj:
+	$(COMPILE) -c `$(CYGPATH_W) '$<'`
+
+lib_a-_exit.o: _exit.c
+	$(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(AM_CPPFLAGS) $(CPPFLAGS) $(lib_a_CFLAGS) $(CFLAGS) -c -o lib_a-_exit.o `test -f '_exit.c' || echo '$(srcdir)/'`_exit.c
+
+lib_a-_exit.obj: _exit.c
+	$(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(AM_CPPFLAGS) $(CPPFLAGS) $(lib_a_CFLAGS) $(CFLAGS) -c -o lib_a-_exit.obj `if test -f '_exit.c'; then $(CYGPATH_W) '_exit.c'; else $(CYGPATH_W) '$(srcdir)/_exit.c'; fi`
+
+lib_a-access.o: access.c
+	$(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(AM_CPPFLAGS) $(CPPFLAGS) $(lib_a_CFLAGS) $(CFLAGS) -c -o lib_a-access.o `test -f 'access.c' || echo '$(srcdir)/'`access.c
+
+lib_a-access.obj: access.c
+	$(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(AM_CPPFLAGS) $(CPPFLAGS) $(lib_a_CFLAGS) $(CFLAGS) -c -o lib_a-access.obj `if test -f 'access.c'; then $(CYGPATH_W) 'access.c'; else $(CYGPATH_W) '$(srcdir)/access.c'; fi`
+
+lib_a-alarm.o: alarm.c
+	$(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(AM_CPPFLAGS) $(CPPFLAGS) $(lib_a_CFLAGS) $(CFLAGS) -c -o lib_a-alarm.o `test -f 'alarm.c' || echo '$(srcdir)/'`alarm.c
+
+lib_a-alarm.obj: alarm.c
+	$(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(AM_CPPFLAGS) $(CPPFLAGS) $(lib_a_CFLAGS) $(CFLAGS) -c -o lib_a-alarm.obj `if test -f 'alarm.c'; then $(CYGPATH_W) 'alarm.c'; else $(CYGPATH_W) '$(srcdir)/alarm.c'; fi`
+
+lib_a-assign.o: assign.c
+	$(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(AM_CPPFLAGS) $(CPPFLAGS) $(lib_a_CFLAGS) $(CFLAGS) -c -o lib_a-assign.o `test -f 'assign.c' || echo '$(srcdir)/'`assign.c
+
+lib_a-assign.obj: assign.c
+	$(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(AM_CPPFLAGS) $(CPPFLAGS) $(lib_a_CFLAGS) $(CFLAGS) -c -o lib_a-assign.obj `if test -f 'assign.c'; then $(CYGPATH_W) 'assign.c'; else $(CYGPATH_W) '$(srcdir)/assign.c'; fi`
+
+lib_a-chmod.o: chmod.c
+	$(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(AM_CPPFLAGS) $(CPPFLAGS) $(lib_a_CFLAGS) $(CFLAGS) -c -o lib_a-chmod.o `test -f 'chmod.c' || echo '$(srcdir)/'`chmod.c
+
+lib_a-chmod.obj: chmod.c
+	$(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(AM_CPPFLAGS) $(CPPFLAGS) $(lib_a_CFLAGS) $(CFLAGS) -c -o lib_a-chmod.obj `if test -f 'chmod.c'; then $(CYGPATH_W) 'chmod.c'; else $(CYGPATH_W) '$(srcdir)/chmod.c'; fi`
+
+lib_a-close.o: close.c
+	$(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(AM_CPPFLAGS) $(CPPFLAGS) $(lib_a_CFLAGS) $(CFLAGS) -c -o lib_a-close.o `test -f 'close.c' || echo '$(srcdir)/'`close.c
+
+lib_a-close.obj: close.c
+	$(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(AM_CPPFLAGS) $(CPPFLAGS) $(lib_a_CFLAGS) $(CFLAGS) -c -o lib_a-close.obj `if test -f 'close.c'; then $(CYGPATH_W) 'close.c'; else $(CYGPATH_W) '$(srcdir)/close.c'; fi`
+
+lib_a-closedir.o: closedir.c
+	$(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(AM_CPPFLAGS) $(CPPFLAGS) $(lib_a_CFLAGS) $(CFLAGS) -c -o lib_a-closedir.o `test -f 'closedir.c' || echo '$(srcdir)/'`closedir.c
+
+lib_a-closedir.obj: closedir.c
+	$(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(AM_CPPFLAGS) $(CPPFLAGS) $(lib_a_CFLAGS) $(CFLAGS) -c -o lib_a-closedir.obj `if test -f 'closedir.c'; then $(CYGPATH_W) 'closedir.c'; else $(CYGPATH_W) '$(srcdir)/closedir.c'; fi`
+
+lib_a-creat.o: creat.c
+	$(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(AM_CPPFLAGS) $(CPPFLAGS) $(lib_a_CFLAGS) $(CFLAGS) -c -o lib_a-creat.o `test -f 'creat.c' || echo '$(srcdir)/'`creat.c
+
+lib_a-creat.obj: creat.c
+	$(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(AM_CPPFLAGS) $(CPPFLAGS) $(lib_a_CFLAGS) $(CFLAGS) -c -o lib_a-creat.obj `if test -f 'creat.c'; then $(CYGPATH_W) 'creat.c'; else $(CYGPATH_W) '$(srcdir)/creat.c'; fi`
+
+lib_a-debug.o: debug.c
+	$(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(AM_CPPFLAGS) $(CPPFLAGS) $(lib_a_CFLAGS) $(CFLAGS) -c -o lib_a-debug.o `test -f 'debug.c' || echo '$(srcdir)/'`debug.c
+
+lib_a-debug.obj: debug.c
+	$(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(AM_CPPFLAGS) $(CPPFLAGS) $(lib_a_CFLAGS) $(CFLAGS) -c -o lib_a-debug.obj `if test -f 'debug.c'; then $(CYGPATH_W) 'debug.c'; else $(CYGPATH_W) '$(srcdir)/debug.c'; fi`
+
+lib_a-dir.o: dir.c
+	$(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(AM_CPPFLAGS) $(CPPFLAGS) $(lib_a_CFLAGS) $(CFLAGS) -c -o lib_a-dir.o `test -f 'dir.c' || echo '$(srcdir)/'`dir.c
+
+lib_a-dir.obj: dir.c
+	$(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(AM_CPPFLAGS) $(CPPFLAGS) $(lib_a_CFLAGS) $(CFLAGS) -c -o lib_a-dir.obj `if test -f 'dir.c'; then $(CYGPATH_W) 'dir.c'; else $(CYGPATH_W) '$(srcdir)/dir.c'; fi`
+
+lib_a-dup.o: dup.c
+	$(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(AM_CPPFLAGS) $(CPPFLAGS) $(lib_a_CFLAGS) $(CFLAGS) -c -o lib_a-dup.o `test -f 'dup.c' || echo '$(srcdir)/'`dup.c
+
+lib_a-dup.obj: dup.c
+	$(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(AM_CPPFLAGS) $(CPPFLAGS) $(lib_a_CFLAGS) $(CFLAGS) -c -o lib_a-dup.obj `if test -f 'dup.c'; then $(CYGPATH_W) 'dup.c'; else $(CYGPATH_W) '$(srcdir)/dup.c'; fi`
+
+lib_a-environ.o: environ.c
+	$(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(AM_CPPFLAGS) $(CPPFLAGS) $(lib_a_CFLAGS) $(CFLAGS) -c -o lib_a-environ.o `test -f 'environ.c' || echo '$(srcdir)/'`environ.c
+
+lib_a-environ.obj: environ.c
+	$(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(AM_CPPFLAGS) $(CPPFLAGS) $(lib_a_CFLAGS) $(CFLAGS) -c -o lib_a-environ.obj `if test -f 'environ.c'; then $(CYGPATH_W) 'environ.c'; else $(CYGPATH_W) '$(srcdir)/environ.c'; fi`
+
+lib_a-execl.o: execl.c
+	$(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(AM_CPPFLAGS) $(CPPFLAGS) $(lib_a_CFLAGS) $(CFLAGS) -c -o lib_a-execl.o `test -f 'execl.c' || echo '$(srcdir)/'`execl.c
+
+lib_a-execl.obj: execl.c
+	$(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(AM_CPPFLAGS) $(CPPFLAGS) $(lib_a_CFLAGS) $(CFLAGS) -c -o lib_a-execl.obj `if test -f 'execl.c'; then $(CYGPATH_W) 'execl.c'; else $(CYGPATH_W) '$(srcdir)/execl.c'; fi`
+
+lib_a-execle.o: execle.c
+	$(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(AM_CPPFLAGS) $(CPPFLAGS) $(lib_a_CFLAGS) $(CFLAGS) -c -o lib_a-execle.o `test -f 'execle.c' || echo '$(srcdir)/'`execle.c
+
+lib_a-execle.obj: execle.c
+	$(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(AM_CPPFLAGS) $(CPPFLAGS) $(lib_a_CFLAGS) $(CFLAGS) -c -o lib_a-execle.obj `if test -f 'execle.c'; then $(CYGPATH_W) 'execle.c'; else $(CYGPATH_W) '$(srcdir)/execle.c'; fi`
+
+lib_a-execlp.o: execlp.c
+	$(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(AM_CPPFLAGS) $(CPPFLAGS) $(lib_a_CFLAGS) $(CFLAGS) -c -o lib_a-execlp.o `test -f 'execlp.c' || echo '$(srcdir)/'`execlp.c
+
+lib_a-execlp.obj: execlp.c
+	$(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(AM_CPPFLAGS) $(CPPFLAGS) $(lib_a_CFLAGS) $(CFLAGS) -c -o lib_a-execlp.obj `if test -f 'execlp.c'; then $(CYGPATH_W) 'execlp.c'; else $(CYGPATH_W) '$(srcdir)/execlp.c'; fi`
+
+lib_a-execv.o: execv.c
+	$(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(AM_CPPFLAGS) $(CPPFLAGS) $(lib_a_CFLAGS) $(CFLAGS) -c -o lib_a-execv.o `test -f 'execv.c' || echo '$(srcdir)/'`execv.c
+
+lib_a-execv.obj: execv.c
+	$(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(AM_CPPFLAGS) $(CPPFLAGS) $(lib_a_CFLAGS) $(CFLAGS) -c -o lib_a-execv.obj `if test -f 'execv.c'; then $(CYGPATH_W) 'execv.c'; else $(CYGPATH_W) '$(srcdir)/execv.c'; fi`
+
+lib_a-execve.o: execve.c
+	$(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(AM_CPPFLAGS) $(CPPFLAGS) $(lib_a_CFLAGS) $(CFLAGS) -c -o lib_a-execve.o `test -f 'execve.c' || echo '$(srcdir)/'`execve.c
+
+lib_a-execve.obj: execve.c
+	$(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(AM_CPPFLAGS) $(CPPFLAGS) $(lib_a_CFLAGS) $(CFLAGS) -c -o lib_a-execve.obj `if test -f 'execve.c'; then $(CYGPATH_W) 'execve.c'; else $(CYGPATH_W) '$(srcdir)/execve.c'; fi`
+
+lib_a-execvp.o: execvp.c
+	$(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(AM_CPPFLAGS) $(CPPFLAGS) $(lib_a_CFLAGS) $(CFLAGS) -c -o lib_a-execvp.o `test -f 'execvp.c' || echo '$(srcdir)/'`execvp.c
+
+lib_a-execvp.obj: execvp.c
+	$(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(AM_CPPFLAGS) $(CPPFLAGS) $(lib_a_CFLAGS) $(CFLAGS) -c -o lib_a-execvp.obj `if test -f 'execvp.c'; then $(CYGPATH_W) 'execvp.c'; else $(CYGPATH_W) '$(srcdir)/execvp.c'; fi`
+
+lib_a-fcntl.o: fcntl.c
+	$(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(AM_CPPFLAGS) $(CPPFLAGS) $(lib_a_CFLAGS) $(CFLAGS) -c -o lib_a-fcntl.o `test -f 'fcntl.c' || echo '$(srcdir)/'`fcntl.c
+
+lib_a-fcntl.obj: fcntl.c
+	$(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(AM_CPPFLAGS) $(CPPFLAGS) $(lib_a_CFLAGS) $(CFLAGS) -c -o lib_a-fcntl.obj `if test -f 'fcntl.c'; then $(CYGPATH_W) 'fcntl.c'; else $(CYGPATH_W) '$(srcdir)/fcntl.c'; fi`
+
+lib_a-fork.o: fork.c
+	$(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(AM_CPPFLAGS) $(CPPFLAGS) $(lib_a_CFLAGS) $(CFLAGS) -c -o lib_a-fork.o `test -f 'fork.c' || echo '$(srcdir)/'`fork.c
+
+lib_a-fork.obj: fork.c
+	$(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(AM_CPPFLAGS) $(CPPFLAGS) $(lib_a_CFLAGS) $(CFLAGS) -c -o lib_a-fork.obj `if test -f 'fork.c'; then $(CYGPATH_W) 'fork.c'; else $(CYGPATH_W) '$(srcdir)/fork.c'; fi`
+
+lib_a-format.o: format.c
+	$(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(AM_CPPFLAGS) $(CPPFLAGS) $(lib_a_CFLAGS) $(CFLAGS) -c -o lib_a-format.o `test -f 'format.c' || echo '$(srcdir)/'`format.c
+
+lib_a-format.obj: format.c
+	$(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(AM_CPPFLAGS) $(CPPFLAGS) $(lib_a_CFLAGS) $(CFLAGS) -c -o lib_a-format.obj `if test -f 'format.c'; then $(CYGPATH_W) 'format.c'; else $(CYGPATH_W) '$(srcdir)/format.c'; fi`
+
+lib_a-fstat.o: fstat.c
+	$(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(AM_CPPFLAGS) $(CPPFLAGS) $(lib_a_CFLAGS) $(CFLAGS) -c -o lib_a-fstat.o `test -f 'fstat.c' || echo '$(srcdir)/'`fstat.c
+
+lib_a-fstat.obj: fstat.c
+	$(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(AM_CPPFLAGS) $(CPPFLAGS) $(lib_a_CFLAGS) $(CFLAGS) -c -o lib_a-fstat.obj `if test -f 'fstat.c'; then $(CYGPATH_W) 'fstat.c'; else $(CYGPATH_W) '$(srcdir)/fstat.c'; fi`
+
+lib_a-getpid.o: getpid.c
+	$(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(AM_CPPFLAGS) $(CPPFLAGS) $(lib_a_CFLAGS) $(CFLAGS) -c -o lib_a-getpid.o `test -f 'getpid.c' || echo '$(srcdir)/'`getpid.c
+
+lib_a-getpid.obj: getpid.c
+	$(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(AM_CPPFLAGS) $(CPPFLAGS) $(lib_a_CFLAGS) $(CFLAGS) -c -o lib_a-getpid.obj `if test -f 'getpid.c'; then $(CYGPATH_W) 'getpid.c'; else $(CYGPATH_W) '$(srcdir)/getpid.c'; fi`
+
+lib_a-gettod.o: gettod.c
+	$(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(AM_CPPFLAGS) $(CPPFLAGS) $(lib_a_CFLAGS) $(CFLAGS) -c -o lib_a-gettod.o `test -f 'gettod.c' || echo '$(srcdir)/'`gettod.c
+
+lib_a-gettod.obj: gettod.c
+	$(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(AM_CPPFLAGS) $(CPPFLAGS) $(lib_a_CFLAGS) $(CFLAGS) -c -o lib_a-gettod.obj `if test -f 'gettod.c'; then $(CYGPATH_W) 'gettod.c'; else $(CYGPATH_W) '$(srcdir)/gettod.c'; fi`
+
+lib_a-id.o: id.c
+	$(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(AM_CPPFLAGS) $(CPPFLAGS) $(lib_a_CFLAGS) $(CFLAGS) -c -o lib_a-id.o `test -f 'id.c' || echo '$(srcdir)/'`id.c
+
+lib_a-id.obj: id.c
+	$(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(AM_CPPFLAGS) $(CPPFLAGS) $(lib_a_CFLAGS) $(CFLAGS) -c -o lib_a-id.obj `if test -f 'id.c'; then $(CYGPATH_W) 'id.c'; else $(CYGPATH_W) '$(srcdir)/id.c'; fi`
+
+lib_a-inhibit.o: inhibit.c
+	$(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(AM_CPPFLAGS) $(CPPFLAGS) $(lib_a_CFLAGS) $(CFLAGS) -c -o lib_a-inhibit.o `test -f 'inhibit.c' || echo '$(srcdir)/'`inhibit.c
+
+lib_a-inhibit.obj: inhibit.c
+	$(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(AM_CPPFLAGS) $(CPPFLAGS) $(lib_a_CFLAGS) $(CFLAGS) -c -o lib_a-inhibit.obj `if test -f 'inhibit.c'; then $(CYGPATH_W) 'inhibit.c'; else $(CYGPATH_W) '$(srcdir)/inhibit.c'; fi`
+
+lib_a-ioctl.o: ioctl.c
+	$(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(AM_CPPFLAGS) $(CPPFLAGS) $(lib_a_CFLAGS) $(CFLAGS) -c -o lib_a-ioctl.o `test -f 'ioctl.c' || echo '$(srcdir)/'`ioctl.c
+
+lib_a-ioctl.obj: ioctl.c
+	$(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(AM_CPPFLAGS) $(CPPFLAGS) $(lib_a_CFLAGS) $(CFLAGS) -c -o lib_a-ioctl.obj `if test -f 'ioctl.c'; then $(CYGPATH_W) 'ioctl.c'; else $(CYGPATH_W) '$(srcdir)/ioctl.c'; fi`
+
+lib_a-link.o: link.c
+	$(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(AM_CPPFLAGS) $(CPPFLAGS) $(lib_a_CFLAGS) $(CFLAGS) -c -o lib_a-link.o `test -f 'link.c' || echo '$(srcdir)/'`link.c
+
+lib_a-link.obj: link.c
+	$(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(AM_CPPFLAGS) $(CPPFLAGS) $(lib_a_CFLAGS) $(CFLAGS) -c -o lib_a-link.obj `if test -f 'link.c'; then $(CYGPATH_W) 'link.c'; else $(CYGPATH_W) '$(srcdir)/link.c'; fi`
+
+lib_a-lseek.o: lseek.c
+	$(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(AM_CPPFLAGS) $(CPPFLAGS) $(lib_a_CFLAGS) $(CFLAGS) -c -o lib_a-lseek.o `test -f 'lseek.c' || echo '$(srcdir)/'`lseek.c
+
+lib_a-lseek.obj: lseek.c
+	$(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(AM_CPPFLAGS) $(CPPFLAGS) $(lib_a_CFLAGS) $(CFLAGS) -c -o lib_a-lseek.obj `if test -f 'lseek.c'; then $(CYGPATH_W) 'lseek.c'; else $(CYGPATH_W) '$(srcdir)/lseek.c'; fi`
+
+lib_a-malloc.o: malloc.c
+	$(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(AM_CPPFLAGS) $(CPPFLAGS) $(lib_a_CFLAGS) $(CFLAGS) -c -o lib_a-malloc.o `test -f 'malloc.c' || echo '$(srcdir)/'`malloc.c
+
+lib_a-malloc.obj: malloc.c
+	$(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(AM_CPPFLAGS) $(CPPFLAGS) $(lib_a_CFLAGS) $(CFLAGS) -c -o lib_a-malloc.obj `if test -f 'malloc.c'; then $(CYGPATH_W) 'malloc.c'; else $(CYGPATH_W) '$(srcdir)/malloc.c'; fi`
+
+lib_a-mmap.o: mmap.c
+	$(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(AM_CPPFLAGS) $(CPPFLAGS) $(lib_a_CFLAGS) $(CFLAGS) -c -o lib_a-mmap.o `test -f 'mmap.c' || echo '$(srcdir)/'`mmap.c
+
+lib_a-mmap.obj: mmap.c
+	$(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(AM_CPPFLAGS) $(CPPFLAGS) $(lib_a_CFLAGS) $(CFLAGS) -c -o lib_a-mmap.obj `if test -f 'mmap.c'; then $(CYGPATH_W) 'mmap.c'; else $(CYGPATH_W) '$(srcdir)/mmap.c'; fi`
+
+lib_a-mknod.o: mknod.c
+	$(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(AM_CPPFLAGS) $(CPPFLAGS) $(lib_a_CFLAGS) $(CFLAGS) -c -o lib_a-mknod.o `test -f 'mknod.c' || echo '$(srcdir)/'`mknod.c
+
+lib_a-mknod.obj: mknod.c
+	$(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(AM_CPPFLAGS) $(CPPFLAGS) $(lib_a_CFLAGS) $(CFLAGS) -c -o lib_a-mknod.obj `if test -f 'mknod.c'; then $(CYGPATH_W) 'mknod.c'; else $(CYGPATH_W) '$(srcdir)/mknod.c'; fi`
+
+lib_a-mntent.o: mntent.c
+	$(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(AM_CPPFLAGS) $(CPPFLAGS) $(lib_a_CFLAGS) $(CFLAGS) -c -o lib_a-mntent.o `test -f 'mntent.c' || echo '$(srcdir)/'`mntent.c
+
+lib_a-mntent.obj: mntent.c
+	$(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(AM_CPPFLAGS) $(CPPFLAGS) $(lib_a_CFLAGS) $(CFLAGS) -c -o lib_a-mntent.obj `if test -f 'mntent.c'; then $(CYGPATH_W) 'mntent.c'; else $(CYGPATH_W) '$(srcdir)/mntent.c'; fi`
+
+lib_a-mount.o: mount.c
+	$(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(AM_CPPFLAGS) $(CPPFLAGS) $(lib_a_CFLAGS) $(CFLAGS) -c -o lib_a-mount.o `test -f 'mount.c' || echo '$(srcdir)/'`mount.c
+
+lib_a-mount.obj: mount.c
+	$(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(AM_CPPFLAGS) $(CPPFLAGS) $(lib_a_CFLAGS) $(CFLAGS) -c -o lib_a-mount.obj `if test -f 'mount.c'; then $(CYGPATH_W) 'mount.c'; else $(CYGPATH_W) '$(srcdir)/mount.c'; fi`
+
+lib_a-open.o: open.c
+	$(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(AM_CPPFLAGS) $(CPPFLAGS) $(lib_a_CFLAGS) $(CFLAGS) -c -o lib_a-open.o `test -f 'open.c' || echo '$(srcdir)/'`open.c
+
+lib_a-open.obj: open.c
+	$(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(AM_CPPFLAGS) $(CPPFLAGS) $(lib_a_CFLAGS) $(CFLAGS) -c -o lib_a-open.obj `if test -f 'open.c'; then $(CYGPATH_W) 'open.c'; else $(CYGPATH_W) '$(srcdir)/open.c'; fi`
+
+lib_a-opendir.o: opendir.c
+	$(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(AM_CPPFLAGS) $(CPPFLAGS) $(lib_a_CFLAGS) $(CFLAGS) -c -o lib_a-opendir.o `test -f 'opendir.c' || echo '$(srcdir)/'`opendir.c
+
+lib_a-opendir.obj: opendir.c
+	$(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(AM_CPPFLAGS) $(CPPFLAGS) $(lib_a_CFLAGS) $(CFLAGS) -c -o lib_a-opendir.obj `if test -f 'opendir.c'; then $(CYGPATH_W) 'opendir.c'; else $(CYGPATH_W) '$(srcdir)/opendir.c'; fi`
+
+lib_a-pathconf.o: pathconf.c
+	$(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(AM_CPPFLAGS) $(CPPFLAGS) $(lib_a_CFLAGS) $(CFLAGS) -c -o lib_a-pathconf.o `test -f 'pathconf.c' || echo '$(srcdir)/'`pathconf.c
+
+lib_a-pathconf.obj: pathconf.c
+	$(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(AM_CPPFLAGS) $(CPPFLAGS) $(lib_a_CFLAGS) $(CFLAGS) -c -o lib_a-pathconf.obj `if test -f 'pathconf.c'; then $(CYGPATH_W) 'pathconf.c'; else $(CYGPATH_W) '$(srcdir)/pathconf.c'; fi`
+
+lib_a-pipe.o: pipe.c
+	$(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(AM_CPPFLAGS) $(CPPFLAGS) $(lib_a_CFLAGS) $(CFLAGS) -c -o lib_a-pipe.o `test -f 'pipe.c' || echo '$(srcdir)/'`pipe.c
+
+lib_a-pipe.obj: pipe.c
+	$(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(AM_CPPFLAGS) $(CPPFLAGS) $(lib_a_CFLAGS) $(CFLAGS) -c -o lib_a-pipe.obj `if test -f 'pipe.c'; then $(CYGPATH_W) 'pipe.c'; else $(CYGPATH_W) '$(srcdir)/pipe.c'; fi`
+
+lib_a-popen.o: popen.c
+	$(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(AM_CPPFLAGS) $(CPPFLAGS) $(lib_a_CFLAGS) $(CFLAGS) -c -o lib_a-popen.o `test -f 'popen.c' || echo '$(srcdir)/'`popen.c
+
+lib_a-popen.obj: popen.c
+	$(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(AM_CPPFLAGS) $(CPPFLAGS) $(lib_a_CFLAGS) $(CFLAGS) -c -o lib_a-popen.obj `if test -f 'popen.c'; then $(CYGPATH_W) 'popen.c'; else $(CYGPATH_W) '$(srcdir)/popen.c'; fi`
+
+lib_a-pwd.o: pwd.c
+	$(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(AM_CPPFLAGS) $(CPPFLAGS) $(lib_a_CFLAGS) $(CFLAGS) -c -o lib_a-pwd.o `test -f 'pwd.c' || echo '$(srcdir)/'`pwd.c
+
+lib_a-pwd.obj: pwd.c
+	$(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(AM_CPPFLAGS) $(CPPFLAGS) $(lib_a_CFLAGS) $(CFLAGS) -c -o lib_a-pwd.obj `if test -f 'pwd.c'; then $(CYGPATH_W) 'pwd.c'; else $(CYGPATH_W) '$(srcdir)/pwd.c'; fi`
+
+lib_a-read.o: read.c
+	$(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(AM_CPPFLAGS) $(CPPFLAGS) $(lib_a_CFLAGS) $(CFLAGS) -c -o lib_a-read.o `test -f 'read.c' || echo '$(srcdir)/'`read.c
+
+lib_a-read.obj: read.c
+	$(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(AM_CPPFLAGS) $(CPPFLAGS) $(lib_a_CFLAGS) $(CFLAGS) -c -o lib_a-read.obj `if test -f 'read.c'; then $(CYGPATH_W) 'read.c'; else $(CYGPATH_W) '$(srcdir)/read.c'; fi`
+
+lib_a-readdir.o: readdir.c
+	$(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(AM_CPPFLAGS) $(CPPFLAGS) $(lib_a_CFLAGS) $(CFLAGS) -c -o lib_a-readdir.o `test -f 'readdir.c' || echo '$(srcdir)/'`readdir.c
+
+lib_a-readdir.obj: readdir.c
+	$(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(AM_CPPFLAGS) $(CPPFLAGS) $(lib_a_CFLAGS) $(CFLAGS) -c -o lib_a-readdir.obj `if test -f 'readdir.c'; then $(CYGPATH_W) 'readdir.c'; else $(CYGPATH_W) '$(srcdir)/readdir.c'; fi`
+
+lib_a-reboot.o: reboot.c
+	$(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(AM_CPPFLAGS) $(CPPFLAGS) $(lib_a_CFLAGS) $(CFLAGS) -c -o lib_a-reboot.o `test -f 'reboot.c' || echo '$(srcdir)/'`reboot.c
+
+lib_a-reboot.obj: reboot.c
+	$(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(AM_CPPFLAGS) $(CPPFLAGS) $(lib_a_CFLAGS) $(CFLAGS) -c -o lib_a-reboot.obj `if test -f 'reboot.c'; then $(CYGPATH_W) 'reboot.c'; else $(CYGPATH_W) '$(srcdir)/reboot.c'; fi`
+
+lib_a-rename.o: rename.c
+	$(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(AM_CPPFLAGS) $(CPPFLAGS) $(lib_a_CFLAGS) $(CFLAGS) -c -o lib_a-rename.o `test -f 'rename.c' || echo '$(srcdir)/'`rename.c
+
+lib_a-rename.obj: rename.c
+	$(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(AM_CPPFLAGS) $(CPPFLAGS) $(lib_a_CFLAGS) $(CFLAGS) -c -o lib_a-rename.obj `if test -f 'rename.c'; then $(CYGPATH_W) 'rename.c'; else $(CYGPATH_W) '$(srcdir)/rename.c'; fi`
+
+lib_a-resource.o: resource.c
+	$(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(AM_CPPFLAGS) $(CPPFLAGS) $(lib_a_CFLAGS) $(CFLAGS) -c -o lib_a-resource.o `test -f 'resource.c' || echo '$(srcdir)/'`resource.c
+
+lib_a-resource.obj: resource.c
+	$(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(AM_CPPFLAGS) $(CPPFLAGS) $(lib_a_CFLAGS) $(CFLAGS) -c -o lib_a-resource.obj `if test -f 'resource.c'; then $(CYGPATH_W) 'resource.c'; else $(CYGPATH_W) '$(srcdir)/resource.c'; fi`
+
+lib_a-rewinddir.o: rewinddir.c
+	$(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(AM_CPPFLAGS) $(CPPFLAGS) $(lib_a_CFLAGS) $(CFLAGS) -c -o lib_a-rewinddir.o `test -f 'rewinddir.c' || echo '$(srcdir)/'`rewinddir.c
+
+lib_a-rewinddir.obj: rewinddir.c
+	$(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(AM_CPPFLAGS) $(CPPFLAGS) $(lib_a_CFLAGS) $(CFLAGS) -c -o lib_a-rewinddir.obj `if test -f 'rewinddir.c'; then $(CYGPATH_W) 'rewinddir.c'; else $(CYGPATH_W) '$(srcdir)/rewinddir.c'; fi`
+
+lib_a-select.o: select.c
+	$(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(AM_CPPFLAGS) $(CPPFLAGS) $(lib_a_CFLAGS) $(CFLAGS) -c -o lib_a-select.o `test -f 'select.c' || echo '$(srcdir)/'`select.c
+
+lib_a-select.obj: select.c
+	$(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(AM_CPPFLAGS) $(CPPFLAGS) $(lib_a_CFLAGS) $(CFLAGS) -c -o lib_a-select.obj `if test -f 'select.c'; then $(CYGPATH_W) 'select.c'; else $(CYGPATH_W) '$(srcdir)/select.c'; fi`
+
+lib_a-siglist.o: siglist.c
+	$(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(AM_CPPFLAGS) $(CPPFLAGS) $(lib_a_CFLAGS) $(CFLAGS) -c -o lib_a-siglist.o `test -f 'siglist.c' || echo '$(srcdir)/'`siglist.c
+
+lib_a-siglist.obj: siglist.c
+	$(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(AM_CPPFLAGS) $(CPPFLAGS) $(lib_a_CFLAGS) $(CFLAGS) -c -o lib_a-siglist.obj `if test -f 'siglist.c'; then $(CYGPATH_W) 'siglist.c'; else $(CYGPATH_W) '$(srcdir)/siglist.c'; fi`
+
+lib_a-signal.o: signal.c
+	$(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(AM_CPPFLAGS) $(CPPFLAGS) $(lib_a_CFLAGS) $(CFLAGS) -c -o lib_a-signal.o `test -f 'signal.c' || echo '$(srcdir)/'`signal.c
+
+lib_a-signal.obj: signal.c
+	$(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(AM_CPPFLAGS) $(CPPFLAGS) $(lib_a_CFLAGS) $(CFLAGS) -c -o lib_a-signal.obj `if test -f 'signal.c'; then $(CYGPATH_W) 'signal.c'; else $(CYGPATH_W) '$(srcdir)/signal.c'; fi`
+
+lib_a-sleep.o: sleep.c
+	$(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(AM_CPPFLAGS) $(CPPFLAGS) $(lib_a_CFLAGS) $(CFLAGS) -c -o lib_a-sleep.o `test -f 'sleep.c' || echo '$(srcdir)/'`sleep.c
+
+lib_a-sleep.obj: sleep.c
+	$(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(AM_CPPFLAGS) $(CPPFLAGS) $(lib_a_CFLAGS) $(CFLAGS) -c -o lib_a-sleep.obj `if test -f 'sleep.c'; then $(CYGPATH_W) 'sleep.c'; else $(CYGPATH_W) '$(srcdir)/sleep.c'; fi`
+
+lib_a-stat.o: stat.c
+	$(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(AM_CPPFLAGS) $(CPPFLAGS) $(lib_a_CFLAGS) $(CFLAGS) -c -o lib_a-stat.o `test -f 'stat.c' || echo '$(srcdir)/'`stat.c
+
+lib_a-stat.obj: stat.c
+	$(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(AM_CPPFLAGS) $(CPPFLAGS) $(lib_a_CFLAGS) $(CFLAGS) -c -o lib_a-stat.obj `if test -f 'stat.c'; then $(CYGPATH_W) 'stat.c'; else $(CYGPATH_W) '$(srcdir)/stat.c'; fi`
+
+lib_a-statvfs.o: statvfs.c
+	$(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(AM_CPPFLAGS) $(CPPFLAGS) $(lib_a_CFLAGS) $(CFLAGS) -c -o lib_a-statvfs.o `test -f 'statvfs.c' || echo '$(srcdir)/'`statvfs.c
+
+lib_a-statvfs.obj: statvfs.c
+	$(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(AM_CPPFLAGS) $(CPPFLAGS) $(lib_a_CFLAGS) $(CFLAGS) -c -o lib_a-statvfs.obj `if test -f 'statvfs.c'; then $(CYGPATH_W) 'statvfs.c'; else $(CYGPATH_W) '$(srcdir)/statvfs.c'; fi`
+
+lib_a-sync.o: sync.c
+	$(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(AM_CPPFLAGS) $(CPPFLAGS) $(lib_a_CFLAGS) $(CFLAGS) -c -o lib_a-sync.o `test -f 'sync.c' || echo '$(srcdir)/'`sync.c
+
+lib_a-sync.obj: sync.c
+	$(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(AM_CPPFLAGS) $(CPPFLAGS) $(lib_a_CFLAGS) $(CFLAGS) -c -o lib_a-sync.obj `if test -f 'sync.c'; then $(CYGPATH_W) 'sync.c'; else $(CYGPATH_W) '$(srcdir)/sync.c'; fi`
+
+lib_a-sysconf.o: sysconf.c
+	$(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(AM_CPPFLAGS) $(CPPFLAGS) $(lib_a_CFLAGS) $(CFLAGS) -c -o lib_a-sysconf.o `test -f 'sysconf.c' || echo '$(srcdir)/'`sysconf.c
+
+lib_a-sysconf.obj: sysconf.c
+	$(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(AM_CPPFLAGS) $(CPPFLAGS) $(lib_a_CFLAGS) $(CFLAGS) -c -o lib_a-sysconf.obj `if test -f 'sysconf.c'; then $(CYGPATH_W) 'sysconf.c'; else $(CYGPATH_W) '$(srcdir)/sysconf.c'; fi`
+
+lib_a-termios.o: termios.c
+	$(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(AM_CPPFLAGS) $(CPPFLAGS) $(lib_a_CFLAGS) $(CFLAGS) -c -o lib_a-termios.o `test -f 'termios.c' || echo '$(srcdir)/'`termios.c
+
+lib_a-termios.obj: termios.c
+	$(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(AM_CPPFLAGS) $(CPPFLAGS) $(lib_a_CFLAGS) $(CFLAGS) -c -o lib_a-termios.obj `if test -f 'termios.c'; then $(CYGPATH_W) 'termios.c'; else $(CYGPATH_W) '$(srcdir)/termios.c'; fi`
+
+lib_a-time.o: time.c
+	$(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(AM_CPPFLAGS) $(CPPFLAGS) $(lib_a_CFLAGS) $(CFLAGS) -c -o lib_a-time.o `test -f 'time.c' || echo '$(srcdir)/'`time.c
+
+lib_a-time.obj: time.c
+	$(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(AM_CPPFLAGS) $(CPPFLAGS) $(lib_a_CFLAGS) $(CFLAGS) -c -o lib_a-time.obj `if test -f 'time.c'; then $(CYGPATH_W) 'time.c'; else $(CYGPATH_W) '$(srcdir)/time.c'; fi`
+
+lib_a-times.o: times.c
+	$(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(AM_CPPFLAGS) $(CPPFLAGS) $(lib_a_CFLAGS) $(CFLAGS) -c -o lib_a-times.o `test -f 'times.c' || echo '$(srcdir)/'`times.c
+
+lib_a-times.obj: times.c
+	$(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(AM_CPPFLAGS) $(CPPFLAGS) $(lib_a_CFLAGS) $(CFLAGS) -c -o lib_a-times.obj `if test -f 'times.c'; then $(CYGPATH_W) 'times.c'; else $(CYGPATH_W) '$(srcdir)/times.c'; fi`
+
+lib_a-truncate.o: truncate.c
+	$(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(AM_CPPFLAGS) $(CPPFLAGS) $(lib_a_CFLAGS) $(CFLAGS) -c -o lib_a-truncate.o `test -f 'truncate.c' || echo '$(srcdir)/'`truncate.c
+
+lib_a-truncate.obj: truncate.c
+	$(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(AM_CPPFLAGS) $(CPPFLAGS) $(lib_a_CFLAGS) $(CFLAGS) -c -o lib_a-truncate.obj `if test -f 'truncate.c'; then $(CYGPATH_W) 'truncate.c'; else $(CYGPATH_W) '$(srcdir)/truncate.c'; fi`
+
+lib_a-unlink.o: unlink.c
+	$(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(AM_CPPFLAGS) $(CPPFLAGS) $(lib_a_CFLAGS) $(CFLAGS) -c -o lib_a-unlink.o `test -f 'unlink.c' || echo '$(srcdir)/'`unlink.c
+
+lib_a-unlink.obj: unlink.c
+	$(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(AM_CPPFLAGS) $(CPPFLAGS) $(lib_a_CFLAGS) $(CFLAGS) -c -o lib_a-unlink.obj `if test -f 'unlink.c'; then $(CYGPATH_W) 'unlink.c'; else $(CYGPATH_W) '$(srcdir)/unlink.c'; fi`
+
+lib_a-wait.o: wait.c
+	$(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(AM_CPPFLAGS) $(CPPFLAGS) $(lib_a_CFLAGS) $(CFLAGS) -c -o lib_a-wait.o `test -f 'wait.c' || echo '$(srcdir)/'`wait.c
+
+lib_a-wait.obj: wait.c
+	$(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(AM_CPPFLAGS) $(CPPFLAGS) $(lib_a_CFLAGS) $(CFLAGS) -c -o lib_a-wait.obj `if test -f 'wait.c'; then $(CYGPATH_W) 'wait.c'; else $(CYGPATH_W) '$(srcdir)/wait.c'; fi`
+
+lib_a-write.o: write.c
+	$(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(AM_CPPFLAGS) $(CPPFLAGS) $(lib_a_CFLAGS) $(CFLAGS) -c -o lib_a-write.o `test -f 'write.c' || echo '$(srcdir)/'`write.c
+
+lib_a-write.obj: write.c
+	$(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(AM_CPPFLAGS) $(CPPFLAGS) $(lib_a_CFLAGS) $(CFLAGS) -c -o lib_a-write.obj `if test -f 'write.c'; then $(CYGPATH_W) 'write.c'; else $(CYGPATH_W) '$(srcdir)/write.c'; fi`
+
+.s.o:
+	$(CCASCOMPILE) -c $<
+
+.s.obj:
+	$(CCASCOMPILE) -c `$(CYGPATH_W) '$<'`
+uninstall-info-am:
+
+ID: $(HEADERS) $(SOURCES) $(LISP) $(TAGS_FILES)
+	list='$(SOURCES) $(HEADERS) $(LISP) $(TAGS_FILES)'; \
+	unique=`for i in $$list; do \
+	    if test -f "$$i"; then echo $$i; else echo $(srcdir)/$$i; fi; \
+	  done | \
+	  $(AWK) '    { files[$$0] = 1; } \
+	       END { for (i in files) print i; }'`; \
+	mkid -fID $$unique
+tags: TAGS
+
+TAGS:  $(HEADERS) $(SOURCES)  $(TAGS_DEPENDENCIES) \
+		$(TAGS_FILES) $(LISP)
+	tags=; \
+	here=`pwd`; \
+	list='$(SOURCES) $(HEADERS)  $(LISP) $(TAGS_FILES)'; \
+	unique=`for i in $$list; do \
+	    if test -f "$$i"; then echo $$i; else echo $(srcdir)/$$i; fi; \
+	  done | \
+	  $(AWK) '    { files[$$0] = 1; } \
+	       END { for (i in files) print i; }'`; \
+	if test -z "$(ETAGS_ARGS)$$tags$$unique"; then :; else \
+	  test -n "$$unique" || unique=$$empty_fix; \
+	  $(ETAGS) $(ETAGSFLAGS) $(AM_ETAGSFLAGS) $(ETAGS_ARGS) \
+	    $$tags $$unique; \
+	fi
+ctags: CTAGS
+CTAGS:  $(HEADERS) $(SOURCES)  $(TAGS_DEPENDENCIES) \
+		$(TAGS_FILES) $(LISP)
+	tags=; \
+	here=`pwd`; \
+	list='$(SOURCES) $(HEADERS)  $(LISP) $(TAGS_FILES)'; \
+	unique=`for i in $$list; do \
+	    if test -f "$$i"; then echo $$i; else echo $(srcdir)/$$i; fi; \
+	  done | \
+	  $(AWK) '    { files[$$0] = 1; } \
+	       END { for (i in files) print i; }'`; \
+	test -z "$(CTAGS_ARGS)$$tags$$unique" \
+	  || $(CTAGS) $(CTAGSFLAGS) $(AM_CTAGSFLAGS) $(CTAGS_ARGS) \
+	     $$tags $$unique
+
+GTAGS:
+	here=`$(am__cd) $(top_builddir) && pwd` \
+	  && cd $(top_srcdir) \
+	  && gtags -i $(GTAGS_ARGS) $$here
+
+distclean-tags:
+	-rm -f TAGS ID GTAGS GRTAGS GSYMS GPATH tags
+check-am:
+check: check-am
+all-am: Makefile $(LIBRARIES)
+installdirs:
+install: install-am
+install-exec: install-exec-am
+install-data: install-data-am
+uninstall: uninstall-am
+
+install-am: all-am
+	@$(MAKE) $(AM_MAKEFLAGS) install-exec-am install-data-am
+
+installcheck: installcheck-am
+install-strip:
+	$(MAKE) $(AM_MAKEFLAGS) INSTALL_PROGRAM="$(INSTALL_STRIP_PROGRAM)" \
+	  install_sh_PROGRAM="$(INSTALL_STRIP_PROGRAM)" INSTALL_STRIP_FLAG=-s \
+	  `test -z '$(STRIP)' || \
+	    echo "INSTALL_PROGRAM_ENV=STRIPPROG='$(STRIP)'"` install
+mostlyclean-generic:
+
+clean-generic:
+
+distclean-generic:
+	-test -z "$(CONFIG_CLEAN_FILES)" || rm -f $(CONFIG_CLEAN_FILES)
+
+maintainer-clean-generic:
+	@echo "This command is intended for maintainers to use"
+	@echo "it deletes files that may require special tools to rebuild."
+clean: clean-am
+
+clean-am: clean-generic clean-noinstLIBRARIES mostlyclean-am
+
+distclean: distclean-am
+	-rm -f $(am__CONFIG_DISTCLEAN_FILES)
+	-rm -f Makefile
+distclean-am: clean-am distclean-compile distclean-generic \
+	distclean-tags
+
+dvi: dvi-am
+
+dvi-am:
+
+html: html-am
+
+info: info-am
+
+info-am:
+
+install-data-am: install-data-local
+
+install-exec-am:
+
+install-info: install-info-am
+
+install-man:
+
+installcheck-am:
+
+maintainer-clean: maintainer-clean-am
+	-rm -f $(am__CONFIG_DISTCLEAN_FILES)
+	-rm -rf $(top_srcdir)/autom4te.cache
+	-rm -f Makefile
+maintainer-clean-am: distclean-am maintainer-clean-generic
+
+mostlyclean: mostlyclean-am
+
+mostlyclean-am: mostlyclean-compile mostlyclean-generic
+
+pdf: pdf-am
+
+pdf-am:
+
+ps: ps-am
+
+ps-am:
+
+uninstall-am:
+
+.PHONY: CTAGS GTAGS all all-am am--refresh check check-am clean \
+	clean-generic clean-noinstLIBRARIES ctags distclean \
+	distclean-compile distclean-generic distclean-tags dvi dvi-am \
+	html html-am info info-am install install-am install-data \
+	install-data-am install-data-local install-exec \
+	install-exec-am install-info install-info-am install-man \
+	install-strip installcheck installcheck-am installdirs \
+	maintainer-clean maintainer-clean-generic mostlyclean \
+	mostlyclean-compile mostlyclean-generic pdf pdf-am ps ps-am \
+	tags uninstall uninstall-am uninstall-info-am
+
+
+all: crt0.o
+
+install-data-local:
+	$(mkinstalldirs) $(DESTDIR)$(tooldir)/include/netinet; \
+		for i in $(srcdir)/netinet/*.h; do \
+		$(INSTALL_DATA) $$i $(DESTDIR)$(tooldir)/include/netinet/`basename $$i`; done
+# Tell versions [3.59,3.63) of GNU make to not export all variables.
+# Otherwise a system limit (for SysV at least) may be exceeded.
+.NOEXPORT:
diff -urN newlib-1.15.0/newlib/libc/sys/kielder/_exit.c newlib-1.15.0_new/newlib/libc/sys/kielder/_exit.c
--- newlib-1.15.0/newlib/libc/sys/kielder/_exit.c	1970-01-01 00:00:00.000000000 +0000
+++ newlib-1.15.0_new/newlib/libc/sys/kielder/_exit.c	2007-09-22 16:27:54.750000000 +0100
@@ -0,0 +1,18 @@
+#include <limits.h>
+#include "config.h"
+#include <_ansi.h>
+#include <_syslist.h>
+#include <sys/syscall.h>
+
+
+
+
+/*
+ *
+ */
+
+void _exit (int rc)
+{
+	__syscall1 (_sysidx_exit, rc);
+	while (1);
+}
diff -urN newlib-1.15.0/newlib/libc/sys/kielder/access.c newlib-1.15.0_new/newlib/libc/sys/kielder/access.c
--- newlib-1.15.0/newlib/libc/sys/kielder/access.c	1970-01-01 00:00:00.000000000 +0000
+++ newlib-1.15.0_new/newlib/libc/sys/kielder/access.c	2007-09-22 16:27:54.750000000 +0100
@@ -0,0 +1,33 @@
+#include <_ansi.h>
+#include <_syslist.h>
+#include <sys/syscall.h>
+#include <errno.h>
+#include <sys/syscall.h>
+#include <sys/ksyscalls.h>
+#include <sys/stat.h>
+#include <unistd.h>
+
+
+
+
+/*
+ *
+ */
+
+int access(const char *path, int amode)
+{
+	return __syscall2 (_sysidx_access, path, amode);
+}
+
+
+
+
+/*
+ *
+ */
+
+mode_t umask(mode_t cmask)
+{
+	return __syscall1 (_sysidx_umask, cmask);
+}
+
diff -urN newlib-1.15.0/newlib/libc/sys/kielder/acconfig.h newlib-1.15.0_new/newlib/libc/sys/kielder/acconfig.h
--- newlib-1.15.0/newlib/libc/sys/kielder/acconfig.h	1970-01-01 00:00:00.000000000 +0000
+++ newlib-1.15.0_new/newlib/libc/sys/kielder/acconfig.h	2007-09-22 16:27:54.750000000 +0100
@@ -0,0 +1,26 @@
+/* Name of package.  */
+#undef PACKAGE
+
+/* Version of package.  */
+#undef VERSION
+
+/* Missing syscall names */
+#undef MISSING_SYSCALL_NAMES
+
+/* Using ELF format */
+#undef HAVE_ELF
+
+/* Using GNU LD */
+#undef HAVE_GNU_LD
+
+/* .previous directive allowed */
+#undef HAVE_ASM_PREVIOUS_DIRECTIVE
+
+/* .pushsection/.popsection directives allowed */
+#undef HAVE_ASM_POPSECTION_DIRECTIVE
+
+/* support for section attributes */
+#undef HAVE_SECTION_ATTRIBUTES
+
+/* symbol prefix */
+#undef __SYMBOL_PREFIX
diff -urN newlib-1.15.0/newlib/libc/sys/kielder/aclocal.m4 newlib-1.15.0_new/newlib/libc/sys/kielder/aclocal.m4
--- newlib-1.15.0/newlib/libc/sys/kielder/aclocal.m4	1970-01-01 00:00:00.000000000 +0000
+++ newlib-1.15.0_new/newlib/libc/sys/kielder/aclocal.m4	2007-09-22 22:02:28.812500000 +0100
@@ -0,0 +1,880 @@
+# generated automatically by aclocal 1.9.6 -*- Autoconf -*-
+
+# Copyright (C) 1996, 1997, 1998, 1999, 2000, 2001, 2002, 2003, 2004,
+# 2005  Free Software Foundation, Inc.
+# This file is free software; the Free Software Foundation
+# gives unlimited permission to copy and/or distribute it,
+# with or without modifications, as long as this notice is preserved.
+
+# This program is distributed in the hope that it will be useful,
+# but WITHOUT ANY WARRANTY, to the extent permitted by law; without
+# even the implied warranty of MERCHANTABILITY or FITNESS FOR A
+# PARTICULAR PURPOSE.
+
+# Copyright (C) 2002, 2003, 2005  Free Software Foundation, Inc.
+#
+# This file is free software; the Free Software Foundation
+# gives unlimited permission to copy and/or distribute it,
+# with or without modifications, as long as this notice is preserved.
+
+# AM_AUTOMAKE_VERSION(VERSION)
+# ----------------------------
+# Automake X.Y traces this macro to ensure aclocal.m4 has been
+# generated from the m4 files accompanying Automake X.Y.
+AC_DEFUN([AM_AUTOMAKE_VERSION], [am__api_version="1.9"])
+
+# AM_SET_CURRENT_AUTOMAKE_VERSION
+# -------------------------------
+# Call AM_AUTOMAKE_VERSION so it can be traced.
+# This function is AC_REQUIREd by AC_INIT_AUTOMAKE.
+AC_DEFUN([AM_SET_CURRENT_AUTOMAKE_VERSION],
+	 [AM_AUTOMAKE_VERSION([1.9.6])])
+
+# AM_AUX_DIR_EXPAND                                         -*- Autoconf -*-
+
+# Copyright (C) 2001, 2003, 2005  Free Software Foundation, Inc.
+#
+# This file is free software; the Free Software Foundation
+# gives unlimited permission to copy and/or distribute it,
+# with or without modifications, as long as this notice is preserved.
+
+# For projects using AC_CONFIG_AUX_DIR([foo]), Autoconf sets
+# $ac_aux_dir to `$srcdir/foo'.  In other projects, it is set to
+# `$srcdir', `$srcdir/..', or `$srcdir/../..'.
+#
+# Of course, Automake must honor this variable whenever it calls a
+# tool from the auxiliary directory.  The problem is that $srcdir (and
+# therefore $ac_aux_dir as well) can be either absolute or relative,
+# depending on how configure is run.  This is pretty annoying, since
+# it makes $ac_aux_dir quite unusable in subdirectories: in the top
+# source directory, any form will work fine, but in subdirectories a
+# relative path needs to be adjusted first.
+#
+# $ac_aux_dir/missing
+#    fails when called from a subdirectory if $ac_aux_dir is relative
+# $top_srcdir/$ac_aux_dir/missing
+#    fails if $ac_aux_dir is absolute,
+#    fails when called from a subdirectory in a VPATH build with
+#          a relative $ac_aux_dir
+#
+# The reason of the latter failure is that $top_srcdir and $ac_aux_dir
+# are both prefixed by $srcdir.  In an in-source build this is usually
+# harmless because $srcdir is `.', but things will broke when you
+# start a VPATH build or use an absolute $srcdir.
+#
+# So we could use something similar to $top_srcdir/$ac_aux_dir/missing,
+# iff we strip the leading $srcdir from $ac_aux_dir.  That would be:
+#   am_aux_dir='\$(top_srcdir)/'`expr "$ac_aux_dir" : "$srcdir//*\(.*\)"`
+# and then we would define $MISSING as
+#   MISSING="\${SHELL} $am_aux_dir/missing"
+# This will work as long as MISSING is not called from configure, because
+# unfortunately $(top_srcdir) has no meaning in configure.
+# However there are other variables, like CC, which are often used in
+# configure, and could therefore not use this "fixed" $ac_aux_dir.
+#
+# Another solution, used here, is to always expand $ac_aux_dir to an
+# absolute PATH.  The drawback is that using absolute paths prevent a
+# configured tree to be moved without reconfiguration.
+
+AC_DEFUN([AM_AUX_DIR_EXPAND],
+[dnl Rely on autoconf to set up CDPATH properly.
+AC_PREREQ([2.50])dnl
+# expand $ac_aux_dir to an absolute path
+am_aux_dir=`cd $ac_aux_dir && pwd`
+])
+
+# AM_CONDITIONAL                                            -*- Autoconf -*-
+
+# Copyright (C) 1997, 2000, 2001, 2003, 2004, 2005
+# Free Software Foundation, Inc.
+#
+# This file is free software; the Free Software Foundation
+# gives unlimited permission to copy and/or distribute it,
+# with or without modifications, as long as this notice is preserved.
+
+# serial 7
+
+# AM_CONDITIONAL(NAME, SHELL-CONDITION)
+# -------------------------------------
+# Define a conditional.
+AC_DEFUN([AM_CONDITIONAL],
+[AC_PREREQ(2.52)dnl
+ ifelse([$1], [TRUE],  [AC_FATAL([$0: invalid condition: $1])],
+	[$1], [FALSE], [AC_FATAL([$0: invalid condition: $1])])dnl
+AC_SUBST([$1_TRUE])
+AC_SUBST([$1_FALSE])
+if $2; then
+  $1_TRUE=
+  $1_FALSE='#'
+else
+  $1_TRUE='#'
+  $1_FALSE=
+fi
+AC_CONFIG_COMMANDS_PRE(
+[if test -z "${$1_TRUE}" && test -z "${$1_FALSE}"; then
+  AC_MSG_ERROR([[conditional "$1" was never defined.
+Usually this means the macro was only invoked conditionally.]])
+fi])])
+
+
+# Copyright (C) 1999, 2000, 2001, 2002, 2003, 2004, 2005
+# Free Software Foundation, Inc.
+#
+# This file is free software; the Free Software Foundation
+# gives unlimited permission to copy and/or distribute it,
+# with or without modifications, as long as this notice is preserved.
+
+# serial 8
+
+# There are a few dirty hacks below to avoid letting `AC_PROG_CC' be
+# written in clear, in which case automake, when reading aclocal.m4,
+# will think it sees a *use*, and therefore will trigger all it's
+# C support machinery.  Also note that it means that autoscan, seeing
+# CC etc. in the Makefile, will ask for an AC_PROG_CC use...
+
+
+# _AM_DEPENDENCIES(NAME)
+# ----------------------
+# See how the compiler implements dependency checking.
+# NAME is "CC", "CXX", "GCJ", or "OBJC".
+# We try a few techniques and use that to set a single cache variable.
+#
+# We don't AC_REQUIRE the corresponding AC_PROG_CC since the latter was
+# modified to invoke _AM_DEPENDENCIES(CC); we would have a circular
+# dependency, and given that the user is not expected to run this macro,
+# just rely on AC_PROG_CC.
+AC_DEFUN([_AM_DEPENDENCIES],
+[AC_REQUIRE([AM_SET_DEPDIR])dnl
+AC_REQUIRE([AM_OUTPUT_DEPENDENCY_COMMANDS])dnl
+AC_REQUIRE([AM_MAKE_INCLUDE])dnl
+AC_REQUIRE([AM_DEP_TRACK])dnl
+
+ifelse([$1], CC,   [depcc="$CC"   am_compiler_list=],
+       [$1], CXX,  [depcc="$CXX"  am_compiler_list=],
+       [$1], OBJC, [depcc="$OBJC" am_compiler_list='gcc3 gcc'],
+       [$1], GCJ,  [depcc="$GCJ"  am_compiler_list='gcc3 gcc'],
+                   [depcc="$$1"   am_compiler_list=])
+
+AC_CACHE_CHECK([dependency style of $depcc],
+               [am_cv_$1_dependencies_compiler_type],
+[if test -z "$AMDEP_TRUE" && test -f "$am_depcomp"; then
+  # We make a subdir and do the tests there.  Otherwise we can end up
+  # making bogus files that we don't know about and never remove.  For
+  # instance it was reported that on HP-UX the gcc test will end up
+  # making a dummy file named `D' -- because `-MD' means `put the output
+  # in D'.
+  mkdir conftest.dir
+  # Copy depcomp to subdir because otherwise we won't find it if we're
+  # using a relative directory.
+  cp "$am_depcomp" conftest.dir
+  cd conftest.dir
+  # We will build objects and dependencies in a subdirectory because
+  # it helps to detect inapplicable dependency modes.  For instance
+  # both Tru64's cc and ICC support -MD to output dependencies as a
+  # side effect of compilation, but ICC will put the dependencies in
+  # the current directory while Tru64 will put them in the object
+  # directory.
+  mkdir sub
+
+  am_cv_$1_dependencies_compiler_type=none
+  if test "$am_compiler_list" = ""; then
+     am_compiler_list=`sed -n ['s/^#*\([a-zA-Z0-9]*\))$/\1/p'] < ./depcomp`
+  fi
+  for depmode in $am_compiler_list; do
+    # Setup a source with many dependencies, because some compilers
+    # like to wrap large dependency lists on column 80 (with \), and
+    # we should not choose a depcomp mode which is confused by this.
+    #
+    # We need to recreate these files for each test, as the compiler may
+    # overwrite some of them when testing with obscure command lines.
+    # This happens at least with the AIX C compiler.
+    : > sub/conftest.c
+    for i in 1 2 3 4 5 6; do
+      echo '#include "conftst'$i'.h"' >> sub/conftest.c
+      # Using `: > sub/conftst$i.h' creates only sub/conftst1.h with
+      # Solaris 8's {/usr,}/bin/sh.
+      touch sub/conftst$i.h
+    done
+    echo "${am__include} ${am__quote}sub/conftest.Po${am__quote}" > confmf
+
+    case $depmode in
+    nosideeffect)
+      # after this tag, mechanisms are not by side-effect, so they'll
+      # only be used when explicitly requested
+      if test "x$enable_dependency_tracking" = xyes; then
+	continue
+      else
+	break
+      fi
+      ;;
+    none) break ;;
+    esac
+    # We check with `-c' and `-o' for the sake of the "dashmstdout"
+    # mode.  It turns out that the SunPro C++ compiler does not properly
+    # handle `-M -o', and we need to detect this.
+    if depmode=$depmode \
+       source=sub/conftest.c object=sub/conftest.${OBJEXT-o} \
+       depfile=sub/conftest.Po tmpdepfile=sub/conftest.TPo \
+       $SHELL ./depcomp $depcc -c -o sub/conftest.${OBJEXT-o} sub/conftest.c \
+         >/dev/null 2>conftest.err &&
+       grep sub/conftst6.h sub/conftest.Po > /dev/null 2>&1 &&
+       grep sub/conftest.${OBJEXT-o} sub/conftest.Po > /dev/null 2>&1 &&
+       ${MAKE-make} -s -f confmf > /dev/null 2>&1; then
+      # icc doesn't choke on unknown options, it will just issue warnings
+      # or remarks (even with -Werror).  So we grep stderr for any message
+      # that says an option was ignored or not supported.
+      # When given -MP, icc 7.0 and 7.1 complain thusly:
+      #   icc: Command line warning: ignoring option '-M'; no argument required
+      # The diagnosis changed in icc 8.0:
+      #   icc: Command line remark: option '-MP' not supported
+      if (grep 'ignoring option' conftest.err ||
+          grep 'not supported' conftest.err) >/dev/null 2>&1; then :; else
+        am_cv_$1_dependencies_compiler_type=$depmode
+        break
+      fi
+    fi
+  done
+
+  cd ..
+  rm -rf conftest.dir
+else
+  am_cv_$1_dependencies_compiler_type=none
+fi
+])
+AC_SUBST([$1DEPMODE], [depmode=$am_cv_$1_dependencies_compiler_type])
+AM_CONDITIONAL([am__fastdep$1], [
+  test "x$enable_dependency_tracking" != xno \
+  && test "$am_cv_$1_dependencies_compiler_type" = gcc3])
+])
+
+
+# AM_SET_DEPDIR
+# -------------
+# Choose a directory name for dependency files.
+# This macro is AC_REQUIREd in _AM_DEPENDENCIES
+AC_DEFUN([AM_SET_DEPDIR],
+[AC_REQUIRE([AM_SET_LEADING_DOT])dnl
+AC_SUBST([DEPDIR], ["${am__leading_dot}deps"])dnl
+])
+
+
+# AM_DEP_TRACK
+# ------------
+AC_DEFUN([AM_DEP_TRACK],
+[AC_ARG_ENABLE(dependency-tracking,
+[  --disable-dependency-tracking  speeds up one-time build
+  --enable-dependency-tracking   do not reject slow dependency extractors])
+if test "x$enable_dependency_tracking" != xno; then
+  am_depcomp="$ac_aux_dir/depcomp"
+  AMDEPBACKSLASH='\'
+fi
+AM_CONDITIONAL([AMDEP], [test "x$enable_dependency_tracking" != xno])
+AC_SUBST([AMDEPBACKSLASH])
+])
+
+# Generate code to set up dependency tracking.              -*- Autoconf -*-
+
+# Copyright (C) 1999, 2000, 2001, 2002, 2003, 2004, 2005
+# Free Software Foundation, Inc.
+#
+# This file is free software; the Free Software Foundation
+# gives unlimited permission to copy and/or distribute it,
+# with or without modifications, as long as this notice is preserved.
+
+#serial 3
+
+# _AM_OUTPUT_DEPENDENCY_COMMANDS
+# ------------------------------
+AC_DEFUN([_AM_OUTPUT_DEPENDENCY_COMMANDS],
+[for mf in $CONFIG_FILES; do
+  # Strip MF so we end up with the name of the file.
+  mf=`echo "$mf" | sed -e 's/:.*$//'`
+  # Check whether this is an Automake generated Makefile or not.
+  # We used to match only the files named `Makefile.in', but
+  # some people rename them; so instead we look at the file content.
+  # Grep'ing the first line is not enough: some people post-process
+  # each Makefile.in and add a new line on top of each file to say so.
+  # So let's grep whole file.
+  if grep '^#.*generated by automake' $mf > /dev/null 2>&1; then
+    dirpart=`AS_DIRNAME("$mf")`
+  else
+    continue
+  fi
+  # Extract the definition of DEPDIR, am__include, and am__quote
+  # from the Makefile without running `make'.
+  DEPDIR=`sed -n 's/^DEPDIR = //p' < "$mf"`
+  test -z "$DEPDIR" && continue
+  am__include=`sed -n 's/^am__include = //p' < "$mf"`
+  test -z "am__include" && continue
+  am__quote=`sed -n 's/^am__quote = //p' < "$mf"`
+  # When using ansi2knr, U may be empty or an underscore; expand it
+  U=`sed -n 's/^U = //p' < "$mf"`
+  # Find all dependency output files, they are included files with
+  # $(DEPDIR) in their names.  We invoke sed twice because it is the
+  # simplest approach to changing $(DEPDIR) to its actual value in the
+  # expansion.
+  for file in `sed -n "
+    s/^$am__include $am__quote\(.*(DEPDIR).*\)$am__quote"'$/\1/p' <"$mf" | \
+       sed -e 's/\$(DEPDIR)/'"$DEPDIR"'/g' -e 's/\$U/'"$U"'/g'`; do
+    # Make sure the directory exists.
+    test -f "$dirpart/$file" && continue
+    fdir=`AS_DIRNAME(["$file"])`
+    AS_MKDIR_P([$dirpart/$fdir])
+    # echo "creating $dirpart/$file"
+    echo '# dummy' > "$dirpart/$file"
+  done
+done
+])# _AM_OUTPUT_DEPENDENCY_COMMANDS
+
+
+# AM_OUTPUT_DEPENDENCY_COMMANDS
+# -----------------------------
+# This macro should only be invoked once -- use via AC_REQUIRE.
+#
+# This code is only required when automatic dependency tracking
+# is enabled.  FIXME.  This creates each `.P' file that we will
+# need in order to bootstrap the dependency handling code.
+AC_DEFUN([AM_OUTPUT_DEPENDENCY_COMMANDS],
+[AC_CONFIG_COMMANDS([depfiles],
+     [test x"$AMDEP_TRUE" != x"" || _AM_OUTPUT_DEPENDENCY_COMMANDS],
+     [AMDEP_TRUE="$AMDEP_TRUE" ac_aux_dir="$ac_aux_dir"])
+])
+
+# Do all the work for Automake.                             -*- Autoconf -*-
+
+# Copyright (C) 1996, 1997, 1998, 1999, 2000, 2001, 2002, 2003, 2004, 2005
+# Free Software Foundation, Inc.
+#
+# This file is free software; the Free Software Foundation
+# gives unlimited permission to copy and/or distribute it,
+# with or without modifications, as long as this notice is preserved.
+
+# serial 12
+
+# This macro actually does too much.  Some checks are only needed if
+# your package does certain things.  But this isn't really a big deal.
+
+# AM_INIT_AUTOMAKE(PACKAGE, VERSION, [NO-DEFINE])
+# AM_INIT_AUTOMAKE([OPTIONS])
+# -----------------------------------------------
+# The call with PACKAGE and VERSION arguments is the old style
+# call (pre autoconf-2.50), which is being phased out.  PACKAGE
+# and VERSION should now be passed to AC_INIT and removed from
+# the call to AM_INIT_AUTOMAKE.
+# We support both call styles for the transition.  After
+# the next Automake release, Autoconf can make the AC_INIT
+# arguments mandatory, and then we can depend on a new Autoconf
+# release and drop the old call support.
+AC_DEFUN([AM_INIT_AUTOMAKE],
+[AC_PREREQ([2.58])dnl
+dnl Autoconf wants to disallow AM_ names.  We explicitly allow
+dnl the ones we care about.
+m4_pattern_allow([^AM_[A-Z]+FLAGS$])dnl
+AC_REQUIRE([AM_SET_CURRENT_AUTOMAKE_VERSION])dnl
+AC_REQUIRE([AC_PROG_INSTALL])dnl
+# test to see if srcdir already configured
+if test "`cd $srcdir && pwd`" != "`pwd`" &&
+   test -f $srcdir/config.status; then
+  AC_MSG_ERROR([source directory already configured; run "make distclean" there first])
+fi
+
+# test whether we have cygpath
+if test -z "$CYGPATH_W"; then
+  if (cygpath --version) >/dev/null 2>/dev/null; then
+    CYGPATH_W='cygpath -w'
+  else
+    CYGPATH_W=echo
+  fi
+fi
+AC_SUBST([CYGPATH_W])
+
+# Define the identity of the package.
+dnl Distinguish between old-style and new-style calls.
+m4_ifval([$2],
+[m4_ifval([$3], [_AM_SET_OPTION([no-define])])dnl
+ AC_SUBST([PACKAGE], [$1])dnl
+ AC_SUBST([VERSION], [$2])],
+[_AM_SET_OPTIONS([$1])dnl
+ AC_SUBST([PACKAGE], ['AC_PACKAGE_TARNAME'])dnl
+ AC_SUBST([VERSION], ['AC_PACKAGE_VERSION'])])dnl
+
+_AM_IF_OPTION([no-define],,
+[AC_DEFINE_UNQUOTED(PACKAGE, "$PACKAGE", [Name of package])
+ AC_DEFINE_UNQUOTED(VERSION, "$VERSION", [Version number of package])])dnl
+
+# Some tools Automake needs.
+AC_REQUIRE([AM_SANITY_CHECK])dnl
+AC_REQUIRE([AC_ARG_PROGRAM])dnl
+AM_MISSING_PROG(ACLOCAL, aclocal-${am__api_version})
+AM_MISSING_PROG(AUTOCONF, autoconf)
+AM_MISSING_PROG(AUTOMAKE, automake-${am__api_version})
+AM_MISSING_PROG(AUTOHEADER, autoheader)
+AM_MISSING_PROG(MAKEINFO, makeinfo)
+AM_PROG_INSTALL_SH
+AM_PROG_INSTALL_STRIP
+AC_REQUIRE([AM_PROG_MKDIR_P])dnl
+# We need awk for the "check" target.  The system "awk" is bad on
+# some platforms.
+AC_REQUIRE([AC_PROG_AWK])dnl
+AC_REQUIRE([AC_PROG_MAKE_SET])dnl
+AC_REQUIRE([AM_SET_LEADING_DOT])dnl
+_AM_IF_OPTION([tar-ustar], [_AM_PROG_TAR([ustar])],
+              [_AM_IF_OPTION([tar-pax], [_AM_PROG_TAR([pax])],
+	      		     [_AM_PROG_TAR([v7])])])
+_AM_IF_OPTION([no-dependencies],,
+[AC_PROVIDE_IFELSE([AC_PROG_CC],
+                  [_AM_DEPENDENCIES(CC)],
+                  [define([AC_PROG_CC],
+                          defn([AC_PROG_CC])[_AM_DEPENDENCIES(CC)])])dnl
+AC_PROVIDE_IFELSE([AC_PROG_CXX],
+                  [_AM_DEPENDENCIES(CXX)],
+                  [define([AC_PROG_CXX],
+                          defn([AC_PROG_CXX])[_AM_DEPENDENCIES(CXX)])])dnl
+])
+])
+
+
+# When config.status generates a header, we must update the stamp-h file.
+# This file resides in the same directory as the config header
+# that is generated.  The stamp files are numbered to have different names.
+
+# Autoconf calls _AC_AM_CONFIG_HEADER_HOOK (when defined) in the
+# loop where config.status creates the headers, so we can generate
+# our stamp files there.
+AC_DEFUN([_AC_AM_CONFIG_HEADER_HOOK],
+[# Compute $1's index in $config_headers.
+_am_stamp_count=1
+for _am_header in $config_headers :; do
+  case $_am_header in
+    $1 | $1:* )
+      break ;;
+    * )
+      _am_stamp_count=`expr $_am_stamp_count + 1` ;;
+  esac
+done
+echo "timestamp for $1" >`AS_DIRNAME([$1])`/stamp-h[]$_am_stamp_count])
+
+# Copyright (C) 2001, 2003, 2005  Free Software Foundation, Inc.
+#
+# This file is free software; the Free Software Foundation
+# gives unlimited permission to copy and/or distribute it,
+# with or without modifications, as long as this notice is preserved.
+
+# AM_PROG_INSTALL_SH
+# ------------------
+# Define $install_sh.
+AC_DEFUN([AM_PROG_INSTALL_SH],
+[AC_REQUIRE([AM_AUX_DIR_EXPAND])dnl
+install_sh=${install_sh-"$am_aux_dir/install-sh"}
+AC_SUBST(install_sh)])
+
+# Copyright (C) 2003, 2005  Free Software Foundation, Inc.
+#
+# This file is free software; the Free Software Foundation
+# gives unlimited permission to copy and/or distribute it,
+# with or without modifications, as long as this notice is preserved.
+
+# serial 2
+
+# Check whether the underlying file-system supports filenames
+# with a leading dot.  For instance MS-DOS doesn't.
+AC_DEFUN([AM_SET_LEADING_DOT],
+[rm -rf .tst 2>/dev/null
+mkdir .tst 2>/dev/null
+if test -d .tst; then
+  am__leading_dot=.
+else
+  am__leading_dot=_
+fi
+rmdir .tst 2>/dev/null
+AC_SUBST([am__leading_dot])])
+
+# Add --enable-maintainer-mode option to configure.         -*- Autoconf -*-
+# From Jim Meyering
+
+# Copyright (C) 1996, 1998, 2000, 2001, 2002, 2003, 2004, 2005
+# Free Software Foundation, Inc.
+#
+# This file is free software; the Free Software Foundation
+# gives unlimited permission to copy and/or distribute it,
+# with or without modifications, as long as this notice is preserved.
+
+# serial 4
+
+AC_DEFUN([AM_MAINTAINER_MODE],
+[AC_MSG_CHECKING([whether to enable maintainer-specific portions of Makefiles])
+  dnl maintainer-mode is disabled by default
+  AC_ARG_ENABLE(maintainer-mode,
+[  --enable-maintainer-mode  enable make rules and dependencies not useful
+			  (and sometimes confusing) to the casual installer],
+      USE_MAINTAINER_MODE=$enableval,
+      USE_MAINTAINER_MODE=no)
+  AC_MSG_RESULT([$USE_MAINTAINER_MODE])
+  AM_CONDITIONAL(MAINTAINER_MODE, [test $USE_MAINTAINER_MODE = yes])
+  MAINT=$MAINTAINER_MODE_TRUE
+  AC_SUBST(MAINT)dnl
+]
+)
+
+AU_DEFUN([jm_MAINTAINER_MODE], [AM_MAINTAINER_MODE])
+
+# Check to see how 'make' treats includes.	            -*- Autoconf -*-
+
+# Copyright (C) 2001, 2002, 2003, 2005  Free Software Foundation, Inc.
+#
+# This file is free software; the Free Software Foundation
+# gives unlimited permission to copy and/or distribute it,
+# with or without modifications, as long as this notice is preserved.
+
+# serial 3
+
+# AM_MAKE_INCLUDE()
+# -----------------
+# Check to see how make treats includes.
+AC_DEFUN([AM_MAKE_INCLUDE],
+[am_make=${MAKE-make}
+cat > confinc << 'END'
+am__doit:
+	@echo done
+.PHONY: am__doit
+END
+# If we don't find an include directive, just comment out the code.
+AC_MSG_CHECKING([for style of include used by $am_make])
+am__include="#"
+am__quote=
+_am_result=none
+# First try GNU make style include.
+echo "include confinc" > confmf
+# We grep out `Entering directory' and `Leaving directory'
+# messages which can occur if `w' ends up in MAKEFLAGS.
+# In particular we don't look at `^make:' because GNU make might
+# be invoked under some other name (usually "gmake"), in which
+# case it prints its new name instead of `make'.
+if test "`$am_make -s -f confmf 2> /dev/null | grep -v 'ing directory'`" = "done"; then
+   am__include=include
+   am__quote=
+   _am_result=GNU
+fi
+# Now try BSD make style include.
+if test "$am__include" = "#"; then
+   echo '.include "confinc"' > confmf
+   if test "`$am_make -s -f confmf 2> /dev/null`" = "done"; then
+      am__include=.include
+      am__quote="\""
+      _am_result=BSD
+   fi
+fi
+AC_SUBST([am__include])
+AC_SUBST([am__quote])
+AC_MSG_RESULT([$_am_result])
+rm -f confinc confmf
+])
+
+# Fake the existence of programs that GNU maintainers use.  -*- Autoconf -*-
+
+# Copyright (C) 1997, 1999, 2000, 2001, 2003, 2005
+# Free Software Foundation, Inc.
+#
+# This file is free software; the Free Software Foundation
+# gives unlimited permission to copy and/or distribute it,
+# with or without modifications, as long as this notice is preserved.
+
+# serial 4
+
+# AM_MISSING_PROG(NAME, PROGRAM)
+# ------------------------------
+AC_DEFUN([AM_MISSING_PROG],
+[AC_REQUIRE([AM_MISSING_HAS_RUN])
+$1=${$1-"${am_missing_run}$2"}
+AC_SUBST($1)])
+
+
+# AM_MISSING_HAS_RUN
+# ------------------
+# Define MISSING if not defined so far and test if it supports --run.
+# If it does, set am_missing_run to use it, otherwise, to nothing.
+AC_DEFUN([AM_MISSING_HAS_RUN],
+[AC_REQUIRE([AM_AUX_DIR_EXPAND])dnl
+test x"${MISSING+set}" = xset || MISSING="\${SHELL} $am_aux_dir/missing"
+# Use eval to expand $SHELL
+if eval "$MISSING --run true"; then
+  am_missing_run="$MISSING --run "
+else
+  am_missing_run=
+  AC_MSG_WARN([`missing' script is too old or missing])
+fi
+])
+
+# Copyright (C) 2003, 2004, 2005  Free Software Foundation, Inc.
+#
+# This file is free software; the Free Software Foundation
+# gives unlimited permission to copy and/or distribute it,
+# with or without modifications, as long as this notice is preserved.
+
+# AM_PROG_MKDIR_P
+# ---------------
+# Check whether `mkdir -p' is supported, fallback to mkinstalldirs otherwise.
+#
+# Automake 1.8 used `mkdir -m 0755 -p --' to ensure that directories
+# created by `make install' are always world readable, even if the
+# installer happens to have an overly restrictive umask (e.g. 077).
+# This was a mistake.  There are at least two reasons why we must not
+# use `-m 0755':
+#   - it causes special bits like SGID to be ignored,
+#   - it may be too restrictive (some setups expect 775 directories).
+#
+# Do not use -m 0755 and let people choose whatever they expect by
+# setting umask.
+#
+# We cannot accept any implementation of `mkdir' that recognizes `-p'.
+# Some implementations (such as Solaris 8's) are not thread-safe: if a
+# parallel make tries to run `mkdir -p a/b' and `mkdir -p a/c'
+# concurrently, both version can detect that a/ is missing, but only
+# one can create it and the other will error out.  Consequently we
+# restrict ourselves to GNU make (using the --version option ensures
+# this.)
+AC_DEFUN([AM_PROG_MKDIR_P],
+[if mkdir -p --version . >/dev/null 2>&1 && test ! -d ./--version; then
+  # We used to keeping the `.' as first argument, in order to
+  # allow $(mkdir_p) to be used without argument.  As in
+  #   $(mkdir_p) $(somedir)
+  # where $(somedir) is conditionally defined.  However this is wrong
+  # for two reasons:
+  #  1. if the package is installed by a user who cannot write `.'
+  #     make install will fail,
+  #  2. the above comment should most certainly read
+  #     $(mkdir_p) $(DESTDIR)$(somedir)
+  #     so it does not work when $(somedir) is undefined and
+  #     $(DESTDIR) is not.
+  #  To support the latter case, we have to write
+  #     test -z "$(somedir)" || $(mkdir_p) $(DESTDIR)$(somedir),
+  #  so the `.' trick is pointless.
+  mkdir_p='mkdir -p --'
+else
+  # On NextStep and OpenStep, the `mkdir' command does not
+  # recognize any option.  It will interpret all options as
+  # directories to create, and then abort because `.' already
+  # exists.
+  for d in ./-p ./--version;
+  do
+    test -d $d && rmdir $d
+  done
+  # $(mkinstalldirs) is defined by Automake if mkinstalldirs exists.
+  if test -f "$ac_aux_dir/mkinstalldirs"; then
+    mkdir_p='$(mkinstalldirs)'
+  else
+    mkdir_p='$(install_sh) -d'
+  fi
+fi
+AC_SUBST([mkdir_p])])
+
+# Helper functions for option handling.                     -*- Autoconf -*-
+
+# Copyright (C) 2001, 2002, 2003, 2005  Free Software Foundation, Inc.
+#
+# This file is free software; the Free Software Foundation
+# gives unlimited permission to copy and/or distribute it,
+# with or without modifications, as long as this notice is preserved.
+
+# serial 3
+
+# _AM_MANGLE_OPTION(NAME)
+# -----------------------
+AC_DEFUN([_AM_MANGLE_OPTION],
+[[_AM_OPTION_]m4_bpatsubst($1, [[^a-zA-Z0-9_]], [_])])
+
+# _AM_SET_OPTION(NAME)
+# ------------------------------
+# Set option NAME.  Presently that only means defining a flag for this option.
+AC_DEFUN([_AM_SET_OPTION],
+[m4_define(_AM_MANGLE_OPTION([$1]), 1)])
+
+# _AM_SET_OPTIONS(OPTIONS)
+# ----------------------------------
+# OPTIONS is a space-separated list of Automake options.
+AC_DEFUN([_AM_SET_OPTIONS],
+[AC_FOREACH([_AM_Option], [$1], [_AM_SET_OPTION(_AM_Option)])])
+
+# _AM_IF_OPTION(OPTION, IF-SET, [IF-NOT-SET])
+# -------------------------------------------
+# Execute IF-SET if OPTION is set, IF-NOT-SET otherwise.
+AC_DEFUN([_AM_IF_OPTION],
+[m4_ifset(_AM_MANGLE_OPTION([$1]), [$2], [$3])])
+
+# Check to make sure that the build environment is sane.    -*- Autoconf -*-
+
+# Copyright (C) 1996, 1997, 2000, 2001, 2003, 2005
+# Free Software Foundation, Inc.
+#
+# This file is free software; the Free Software Foundation
+# gives unlimited permission to copy and/or distribute it,
+# with or without modifications, as long as this notice is preserved.
+
+# serial 4
+
+# AM_SANITY_CHECK
+# ---------------
+AC_DEFUN([AM_SANITY_CHECK],
+[AC_MSG_CHECKING([whether build environment is sane])
+# Just in case
+sleep 1
+echo timestamp > conftest.file
+# Do `set' in a subshell so we don't clobber the current shell's
+# arguments.  Must try -L first in case configure is actually a
+# symlink; some systems play weird games with the mod time of symlinks
+# (eg FreeBSD returns the mod time of the symlink's containing
+# directory).
+if (
+   set X `ls -Lt $srcdir/configure conftest.file 2> /dev/null`
+   if test "$[*]" = "X"; then
+      # -L didn't work.
+      set X `ls -t $srcdir/configure conftest.file`
+   fi
+   rm -f conftest.file
+   if test "$[*]" != "X $srcdir/configure conftest.file" \
+      && test "$[*]" != "X conftest.file $srcdir/configure"; then
+
+      # If neither matched, then we have a broken ls.  This can happen
+      # if, for instance, CONFIG_SHELL is bash and it inherits a
+      # broken ls alias from the environment.  This has actually
+      # happened.  Such a system could not be considered "sane".
+      AC_MSG_ERROR([ls -t appears to fail.  Make sure there is not a broken
+alias in your environment])
+   fi
+
+   test "$[2]" = conftest.file
+   )
+then
+   # Ok.
+   :
+else
+   AC_MSG_ERROR([newly created file is older than distributed files!
+Check your system clock])
+fi
+AC_MSG_RESULT(yes)])
+
+# Copyright (C) 2001, 2003, 2005  Free Software Foundation, Inc.
+#
+# This file is free software; the Free Software Foundation
+# gives unlimited permission to copy and/or distribute it,
+# with or without modifications, as long as this notice is preserved.
+
+# AM_PROG_INSTALL_STRIP
+# ---------------------
+# One issue with vendor `install' (even GNU) is that you can't
+# specify the program used to strip binaries.  This is especially
+# annoying in cross-compiling environments, where the build's strip
+# is unlikely to handle the host's binaries.
+# Fortunately install-sh will honor a STRIPPROG variable, so we
+# always use install-sh in `make install-strip', and initialize
+# STRIPPROG with the value of the STRIP variable (set by the user).
+AC_DEFUN([AM_PROG_INSTALL_STRIP],
+[AC_REQUIRE([AM_PROG_INSTALL_SH])dnl
+# Installed binaries are usually stripped using `strip' when the user
+# run `make install-strip'.  However `strip' might not be the right
+# tool to use in cross-compilation environments, therefore Automake
+# will honor the `STRIP' environment variable to overrule this program.
+dnl Don't test for $cross_compiling = yes, because it might be `maybe'.
+if test "$cross_compiling" != no; then
+  AC_CHECK_TOOL([STRIP], [strip], :)
+fi
+INSTALL_STRIP_PROGRAM="\${SHELL} \$(install_sh) -c -s"
+AC_SUBST([INSTALL_STRIP_PROGRAM])])
+
+# Check how to create a tarball.                            -*- Autoconf -*-
+
+# Copyright (C) 2004, 2005  Free Software Foundation, Inc.
+#
+# This file is free software; the Free Software Foundation
+# gives unlimited permission to copy and/or distribute it,
+# with or without modifications, as long as this notice is preserved.
+
+# serial 2
+
+# _AM_PROG_TAR(FORMAT)
+# --------------------
+# Check how to create a tarball in format FORMAT.
+# FORMAT should be one of `v7', `ustar', or `pax'.
+#
+# Substitute a variable $(am__tar) that is a command
+# writing to stdout a FORMAT-tarball containing the directory
+# $tardir.
+#     tardir=directory && $(am__tar) > result.tar
+#
+# Substitute a variable $(am__untar) that extract such
+# a tarball read from stdin.
+#     $(am__untar) < result.tar
+AC_DEFUN([_AM_PROG_TAR],
+[# Always define AMTAR for backward compatibility.
+AM_MISSING_PROG([AMTAR], [tar])
+m4_if([$1], [v7],
+     [am__tar='${AMTAR} chof - "$$tardir"'; am__untar='${AMTAR} xf -'],
+     [m4_case([$1], [ustar],, [pax],,
+              [m4_fatal([Unknown tar format])])
+AC_MSG_CHECKING([how to create a $1 tar archive])
+# Loop over all known methods to create a tar archive until one works.
+_am_tools='gnutar m4_if([$1], [ustar], [plaintar]) pax cpio none'
+_am_tools=${am_cv_prog_tar_$1-$_am_tools}
+# Do not fold the above two line into one, because Tru64 sh and
+# Solaris sh will not grok spaces in the rhs of `-'.
+for _am_tool in $_am_tools
+do
+  case $_am_tool in
+  gnutar)
+    for _am_tar in tar gnutar gtar;
+    do
+      AM_RUN_LOG([$_am_tar --version]) && break
+    done
+    am__tar="$_am_tar --format=m4_if([$1], [pax], [posix], [$1]) -chf - "'"$$tardir"'
+    am__tar_="$_am_tar --format=m4_if([$1], [pax], [posix], [$1]) -chf - "'"$tardir"'
+    am__untar="$_am_tar -xf -"
+    ;;
+  plaintar)
+    # Must skip GNU tar: if it does not support --format= it doesn't create
+    # ustar tarball either.
+    (tar --version) >/dev/null 2>&1 && continue
+    am__tar='tar chf - "$$tardir"'
+    am__tar_='tar chf - "$tardir"'
+    am__untar='tar xf -'
+    ;;
+  pax)
+    am__tar='pax -L -x $1 -w "$$tardir"'
+    am__tar_='pax -L -x $1 -w "$tardir"'
+    am__untar='pax -r'
+    ;;
+  cpio)
+    am__tar='find "$$tardir" -print | cpio -o -H $1 -L'
+    am__tar_='find "$tardir" -print | cpio -o -H $1 -L'
+    am__untar='cpio -i -H $1 -d'
+    ;;
+  none)
+    am__tar=false
+    am__tar_=false
+    am__untar=false
+    ;;
+  esac
+
+  # If the value was cached, stop now.  We just wanted to have am__tar
+  # and am__untar set.
+  test -n "${am_cv_prog_tar_$1}" && break
+
+  # tar/untar a dummy directory, and stop if the command works
+  rm -rf conftest.dir
+  mkdir conftest.dir
+  echo GrepMe > conftest.dir/file
+  AM_RUN_LOG([tardir=conftest.dir && eval $am__tar_ >conftest.tar])
+  rm -rf conftest.dir
+  if test -s conftest.tar; then
+    AM_RUN_LOG([$am__untar <conftest.tar])
+    grep GrepMe conftest.dir/file >/dev/null 2>&1 && break
+  fi
+done
+rm -rf conftest.dir
+
+AC_CACHE_VAL([am_cv_prog_tar_$1], [am_cv_prog_tar_$1=$_am_tool])
+AC_MSG_RESULT([$am_cv_prog_tar_$1])])
+AC_SUBST([am__tar])
+AC_SUBST([am__untar])
+]) # _AM_PROG_TAR
+
+m4_include([../../../acinclude.m4])
diff -urN newlib-1.15.0/newlib/libc/sys/kielder/alarm.c newlib-1.15.0_new/newlib/libc/sys/kielder/alarm.c
--- newlib-1.15.0/newlib/libc/sys/kielder/alarm.c	1970-01-01 00:00:00.000000000 +0000
+++ newlib-1.15.0_new/newlib/libc/sys/kielder/alarm.c	2007-09-22 16:27:54.765625000 +0100
@@ -0,0 +1,17 @@
+#include <_ansi.h>
+#include <_syslist.h>
+#include <sys/syscall.h>
+#include <errno.h>
+#include <unistd.h>
+
+
+
+
+/*
+ *
+ */
+
+unsigned int alarm (unsigned int seconds)
+{
+	return (unsigned int) __syscall1 (_sysidx_alarm, seconds);
+}
diff -urN newlib-1.15.0/newlib/libc/sys/kielder/assign.c newlib-1.15.0_new/newlib/libc/sys/kielder/assign.c
--- newlib-1.15.0/newlib/libc/sys/kielder/assign.c	1970-01-01 00:00:00.000000000 +0000
+++ newlib-1.15.0_new/newlib/libc/sys/kielder/assign.c	2008-04-25 12:20:18.203125000 +0100
@@ -0,0 +1,29 @@
+#include <_ansi.h>
+#include <_syslist.h>
+#include <errno.h>
+#include <sys/syscall.h>
+#include <sys/ksyscalls.h>
+
+
+
+
+/*
+ * Set a pathname alias
+ */
+
+int kos_set_assign (char *alias, char *path)
+{
+	return __syscall2 (_sysidx_setassign, alias, path);
+}
+
+
+
+
+/*
+ * Retrieve alias from the kernel's list of pathname aliases.
+ */
+
+int kos_get_assign (int idx, char *alias, char *path)
+{
+	return __syscall3 (_sysidx_getassign, idx, alias, path);
+}
diff -urN newlib-1.15.0/newlib/libc/sys/kielder/chmod.c newlib-1.15.0_new/newlib/libc/sys/kielder/chmod.c
--- newlib-1.15.0/newlib/libc/sys/kielder/chmod.c	1970-01-01 00:00:00.000000000 +0000
+++ newlib-1.15.0_new/newlib/libc/sys/kielder/chmod.c	2007-09-22 16:27:54.781250000 +0100
@@ -0,0 +1,32 @@
+#include <_ansi.h>
+#include <_syslist.h>
+#include <sys/syscall.h>
+#include <errno.h>
+#include <sys/syscall.h>
+#include <sys/ksyscalls.h>
+#include <sys/stat.h>
+#include <unistd.h>
+
+
+
+
+/*
+ *
+ */
+
+int chown(const char *path, uid_t owner, gid_t group)
+{
+	return __syscall2 (_sysidx_chown, owner, group);
+}
+
+
+
+
+/*
+ *
+ */
+
+int chmod(const char *path, mode_t mode)
+{
+	return __syscall1 (_sysidx_chmod, mode);
+}
diff -urN newlib-1.15.0/newlib/libc/sys/kielder/close.c newlib-1.15.0_new/newlib/libc/sys/kielder/close.c
--- newlib-1.15.0/newlib/libc/sys/kielder/close.c	1970-01-01 00:00:00.000000000 +0000
+++ newlib-1.15.0_new/newlib/libc/sys/kielder/close.c	2007-09-22 16:27:54.781250000 +0100
@@ -0,0 +1,16 @@
+#include <_ansi.h>
+#include <_syslist.h>
+#include <sys/syscall.h>
+#include <errno.h>
+
+
+
+
+/*
+ *
+ */
+
+int close (int fildes)
+{
+	return __syscall1 (_sysidx_close, fildes);
+}
diff -urN newlib-1.15.0/newlib/libc/sys/kielder/closedir.c newlib-1.15.0_new/newlib/libc/sys/kielder/closedir.c
--- newlib-1.15.0/newlib/libc/sys/kielder/closedir.c	1970-01-01 00:00:00.000000000 +0000
+++ newlib-1.15.0_new/newlib/libc/sys/kielder/closedir.c	2007-09-22 16:27:54.796875000 +0100
@@ -0,0 +1,30 @@
+#include <sys/types.h>
+#include <dirent.h>
+#include <stdlib.h>
+#include <unistd.h>
+#include <sys/syscall.h>
+
+
+
+
+/*
+ *
+ */
+
+int closedir (DIR *dirp)
+{
+	int fd;
+
+	fd = dirp->dd_fd;
+
+	if (fd != -1)
+	{
+		free((void *)dirp->dirent);
+		free((void *)dirp);
+		
+		return __syscall1 (_sysidx_closedir, fd);
+	}
+
+	errno = EBADF;
+	return -1;
+}
diff -urN newlib-1.15.0/newlib/libc/sys/kielder/config.h newlib-1.15.0_new/newlib/libc/sys/kielder/config.h
--- newlib-1.15.0/newlib/libc/sys/kielder/config.h	1970-01-01 00:00:00.000000000 +0000
+++ newlib-1.15.0_new/newlib/libc/sys/kielder/config.h	2007-09-22 16:27:54.796875000 +0100
@@ -0,0 +1,22 @@
+
+
+/* Missing syscall names */
+#undef MISSING_SYSCALL_NAMES
+
+/* Using ELF format */
+#undef HAVE_ELF
+
+/* Using GNU LD */
+#undef HAVE_GNU_LD
+
+/* .previous directive allowed */
+#undef HAVE_ASM_PREVIOUS_DIRECTIVE
+
+/* .pushsection/.popsection directives allowed */
+#undef HAVE_ASM_POPSECTION_DIRECTIVE
+
+/* support for section attributes */
+#undef HAVE_SECTION_ATTRIBUTES
+
+/* symbol prefix */
+#undef __SYMBOL_PREFIX
diff -urN newlib-1.15.0/newlib/libc/sys/kielder/configure newlib-1.15.0_new/newlib/libc/sys/kielder/configure
--- newlib-1.15.0/newlib/libc/sys/kielder/configure	1970-01-01 00:00:00.000000000 +0000
+++ newlib-1.15.0_new/newlib/libc/sys/kielder/configure	2008-04-15 10:07:27.828125000 +0100
@@ -0,0 +1,4806 @@
+#! /bin/sh
+# Guess values for system-dependent variables and create Makefiles.
+# Generated by GNU Autoconf 2.61 for newlib 1.15.0.
+#
+# Copyright (C) 1992, 1993, 1994, 1995, 1996, 1998, 1999, 2000, 2001,
+# 2002, 2003, 2004, 2005, 2006 Free Software Foundation, Inc.
+# This configure script is free software; the Free Software Foundation
+# gives unlimited permission to copy, distribute and modify it.
+## --------------------- ##
+## M4sh Initialization.  ##
+## --------------------- ##
+
+# Be more Bourne compatible
+DUALCASE=1; export DUALCASE # for MKS sh
+if test -n "${ZSH_VERSION+set}" && (emulate sh) >/dev/null 2>&1; then
+  emulate sh
+  NULLCMD=:
+  # Zsh 3.x and 4.x performs word splitting on ${1+"$@"}, which
+  # is contrary to our usage.  Disable this feature.
+  alias -g '${1+"$@"}'='"$@"'
+  setopt NO_GLOB_SUBST
+else
+  case `(set -o) 2>/dev/null` in
+  *posix*) set -o posix ;;
+esac
+
+fi
+
+
+
+
+# PATH needs CR
+# Avoid depending upon Character Ranges.
+as_cr_letters='abcdefghijklmnopqrstuvwxyz'
+as_cr_LETTERS='ABCDEFGHIJKLMNOPQRSTUVWXYZ'
+as_cr_Letters=$as_cr_letters$as_cr_LETTERS
+as_cr_digits='0123456789'
+as_cr_alnum=$as_cr_Letters$as_cr_digits
+
+# The user is always right.
+if test "${PATH_SEPARATOR+set}" != set; then
+  echo "#! /bin/sh" >conf$$.sh
+  echo  "exit 0"   >>conf$$.sh
+  chmod +x conf$$.sh
+  if (PATH="/nonexistent;."; conf$$.sh) >/dev/null 2>&1; then
+    PATH_SEPARATOR=';'
+  else
+    PATH_SEPARATOR=:
+  fi
+  rm -f conf$$.sh
+fi
+
+# Support unset when possible.
+if ( (MAIL=60; unset MAIL) || exit) >/dev/null 2>&1; then
+  as_unset=unset
+else
+  as_unset=false
+fi
+
+
+# IFS
+# We need space, tab and new line, in precisely that order.  Quoting is
+# there to prevent editors from complaining about space-tab.
+# (If _AS_PATH_WALK were called with IFS unset, it would disable word
+# splitting by setting IFS to empty value.)
+as_nl='
+'
+IFS=" ""	$as_nl"
+
+# Find who we are.  Look in the path if we contain no directory separator.
+case $0 in
+  *[\\/]* ) as_myself=$0 ;;
+  *) as_save_IFS=$IFS; IFS=$PATH_SEPARATOR
+for as_dir in $PATH
+do
+  IFS=$as_save_IFS
+  test -z "$as_dir" && as_dir=.
+  test -r "$as_dir/$0" && as_myself=$as_dir/$0 && break
+done
+IFS=$as_save_IFS
+
+     ;;
+esac
+# We did not find ourselves, most probably we were run as `sh COMMAND'
+# in which case we are not to be found in the path.
+if test "x$as_myself" = x; then
+  as_myself=$0
+fi
+if test ! -f "$as_myself"; then
+  echo "$as_myself: error: cannot find myself; rerun with an absolute file name" >&2
+  { (exit 1); exit 1; }
+fi
+
+# Work around bugs in pre-3.0 UWIN ksh.
+for as_var in ENV MAIL MAILPATH
+do ($as_unset $as_var) >/dev/null 2>&1 && $as_unset $as_var
+done
+PS1='$ '
+PS2='> '
+PS4='+ '
+
+# NLS nuisances.
+for as_var in \
+  LANG LANGUAGE LC_ADDRESS LC_ALL LC_COLLATE LC_CTYPE LC_IDENTIFICATION \
+  LC_MEASUREMENT LC_MESSAGES LC_MONETARY LC_NAME LC_NUMERIC LC_PAPER \
+  LC_TELEPHONE LC_TIME
+do
+  if (set +x; test -z "`(eval $as_var=C; export $as_var) 2>&1`"); then
+    eval $as_var=C; export $as_var
+  else
+    ($as_unset $as_var) >/dev/null 2>&1 && $as_unset $as_var
+  fi
+done
+
+# Required to use basename.
+if expr a : '\(a\)' >/dev/null 2>&1 &&
+   test "X`expr 00001 : '.*\(...\)'`" = X001; then
+  as_expr=expr
+else
+  as_expr=false
+fi
+
+if (basename -- /) >/dev/null 2>&1 && test "X`basename -- / 2>&1`" = "X/"; then
+  as_basename=basename
+else
+  as_basename=false
+fi
+
+
+# Name of the executable.
+as_me=`$as_basename -- "$0" ||
+$as_expr X/"$0" : '.*/\([^/][^/]*\)/*$' \| \
+	 X"$0" : 'X\(//\)$' \| \
+	 X"$0" : 'X\(/\)' \| . 2>/dev/null ||
+echo X/"$0" |
+    sed '/^.*\/\([^/][^/]*\)\/*$/{
+	    s//\1/
+	    q
+	  }
+	  /^X\/\(\/\/\)$/{
+	    s//\1/
+	    q
+	  }
+	  /^X\/\(\/\).*/{
+	    s//\1/
+	    q
+	  }
+	  s/.*/./; q'`
+
+# CDPATH.
+$as_unset CDPATH
+
+
+if test "x$CONFIG_SHELL" = x; then
+  if (eval ":") 2>/dev/null; then
+  as_have_required=yes
+else
+  as_have_required=no
+fi
+
+  if test $as_have_required = yes && 	 (eval ":
+(as_func_return () {
+  (exit \$1)
+}
+as_func_success () {
+  as_func_return 0
+}
+as_func_failure () {
+  as_func_return 1
+}
+as_func_ret_success () {
+  return 0
+}
+as_func_ret_failure () {
+  return 1
+}
+
+exitcode=0
+if as_func_success; then
+  :
+else
+  exitcode=1
+  echo as_func_success failed.
+fi
+
+if as_func_failure; then
+  exitcode=1
+  echo as_func_failure succeeded.
+fi
+
+if as_func_ret_success; then
+  :
+else
+  exitcode=1
+  echo as_func_ret_success failed.
+fi
+
+if as_func_ret_failure; then
+  exitcode=1
+  echo as_func_ret_failure succeeded.
+fi
+
+if ( set x; as_func_ret_success y && test x = \"\$1\" ); then
+  :
+else
+  exitcode=1
+  echo positional parameters were not saved.
+fi
+
+test \$exitcode = 0) || { (exit 1); exit 1; }
+
+(
+  as_lineno_1=\$LINENO
+  as_lineno_2=\$LINENO
+  test \"x\$as_lineno_1\" != \"x\$as_lineno_2\" &&
+  test \"x\`expr \$as_lineno_1 + 1\`\" = \"x\$as_lineno_2\") || { (exit 1); exit 1; }
+") 2> /dev/null; then
+  :
+else
+  as_candidate_shells=
+    as_save_IFS=$IFS; IFS=$PATH_SEPARATOR
+for as_dir in /bin$PATH_SEPARATOR/usr/bin$PATH_SEPARATOR$PATH
+do
+  IFS=$as_save_IFS
+  test -z "$as_dir" && as_dir=.
+  case $as_dir in
+	 /*)
+	   for as_base in sh bash ksh sh5; do
+	     as_candidate_shells="$as_candidate_shells $as_dir/$as_base"
+	   done;;
+       esac
+done
+IFS=$as_save_IFS
+
+
+      for as_shell in $as_candidate_shells $SHELL; do
+	 # Try only shells that exist, to save several forks.
+	 if { test -f "$as_shell" || test -f "$as_shell.exe"; } &&
+		{ ("$as_shell") 2> /dev/null <<\_ASEOF
+if test -n "${ZSH_VERSION+set}" && (emulate sh) >/dev/null 2>&1; then
+  emulate sh
+  NULLCMD=:
+  # Zsh 3.x and 4.x performs word splitting on ${1+"$@"}, which
+  # is contrary to our usage.  Disable this feature.
+  alias -g '${1+"$@"}'='"$@"'
+  setopt NO_GLOB_SUBST
+else
+  case `(set -o) 2>/dev/null` in
+  *posix*) set -o posix ;;
+esac
+
+fi
+
+
+:
+_ASEOF
+}; then
+  CONFIG_SHELL=$as_shell
+	       as_have_required=yes
+	       if { "$as_shell" 2> /dev/null <<\_ASEOF
+if test -n "${ZSH_VERSION+set}" && (emulate sh) >/dev/null 2>&1; then
+  emulate sh
+  NULLCMD=:
+  # Zsh 3.x and 4.x performs word splitting on ${1+"$@"}, which
+  # is contrary to our usage.  Disable this feature.
+  alias -g '${1+"$@"}'='"$@"'
+  setopt NO_GLOB_SUBST
+else
+  case `(set -o) 2>/dev/null` in
+  *posix*) set -o posix ;;
+esac
+
+fi
+
+
+:
+(as_func_return () {
+  (exit $1)
+}
+as_func_success () {
+  as_func_return 0
+}
+as_func_failure () {
+  as_func_return 1
+}
+as_func_ret_success () {
+  return 0
+}
+as_func_ret_failure () {
+  return 1
+}
+
+exitcode=0
+if as_func_success; then
+  :
+else
+  exitcode=1
+  echo as_func_success failed.
+fi
+
+if as_func_failure; then
+  exitcode=1
+  echo as_func_failure succeeded.
+fi
+
+if as_func_ret_success; then
+  :
+else
+  exitcode=1
+  echo as_func_ret_success failed.
+fi
+
+if as_func_ret_failure; then
+  exitcode=1
+  echo as_func_ret_failure succeeded.
+fi
+
+if ( set x; as_func_ret_success y && test x = "$1" ); then
+  :
+else
+  exitcode=1
+  echo positional parameters were not saved.
+fi
+
+test $exitcode = 0) || { (exit 1); exit 1; }
+
+(
+  as_lineno_1=$LINENO
+  as_lineno_2=$LINENO
+  test "x$as_lineno_1" != "x$as_lineno_2" &&
+  test "x`expr $as_lineno_1 + 1`" = "x$as_lineno_2") || { (exit 1); exit 1; }
+
+_ASEOF
+}; then
+  break
+fi
+
+fi
+
+      done
+
+      if test "x$CONFIG_SHELL" != x; then
+  for as_var in BASH_ENV ENV
+        do ($as_unset $as_var) >/dev/null 2>&1 && $as_unset $as_var
+        done
+        export CONFIG_SHELL
+        exec "$CONFIG_SHELL" "$as_myself" ${1+"$@"}
+fi
+
+
+    if test $as_have_required = no; then
+  echo This script requires a shell more modern than all the
+      echo shells that I found on your system.  Please install a
+      echo modern shell, or manually run the script under such a
+      echo shell if you do have one.
+      { (exit 1); exit 1; }
+fi
+
+
+fi
+
+fi
+
+
+
+(eval "as_func_return () {
+  (exit \$1)
+}
+as_func_success () {
+  as_func_return 0
+}
+as_func_failure () {
+  as_func_return 1
+}
+as_func_ret_success () {
+  return 0
+}
+as_func_ret_failure () {
+  return 1
+}
+
+exitcode=0
+if as_func_success; then
+  :
+else
+  exitcode=1
+  echo as_func_success failed.
+fi
+
+if as_func_failure; then
+  exitcode=1
+  echo as_func_failure succeeded.
+fi
+
+if as_func_ret_success; then
+  :
+else
+  exitcode=1
+  echo as_func_ret_success failed.
+fi
+
+if as_func_ret_failure; then
+  exitcode=1
+  echo as_func_ret_failure succeeded.
+fi
+
+if ( set x; as_func_ret_success y && test x = \"\$1\" ); then
+  :
+else
+  exitcode=1
+  echo positional parameters were not saved.
+fi
+
+test \$exitcode = 0") || {
+  echo No shell found that supports shell functions.
+  echo Please tell autoconf@gnu.org about your system,
+  echo including any error possibly output before this
+  echo message
+}
+
+
+
+  as_lineno_1=$LINENO
+  as_lineno_2=$LINENO
+  test "x$as_lineno_1" != "x$as_lineno_2" &&
+  test "x`expr $as_lineno_1 + 1`" = "x$as_lineno_2" || {
+
+  # Create $as_me.lineno as a copy of $as_myself, but with $LINENO
+  # uniformly replaced by the line number.  The first 'sed' inserts a
+  # line-number line after each line using $LINENO; the second 'sed'
+  # does the real work.  The second script uses 'N' to pair each
+  # line-number line with the line containing $LINENO, and appends
+  # trailing '-' during substitution so that $LINENO is not a special
+  # case at line end.
+  # (Raja R Harinath suggested sed '=', and Paul Eggert wrote the
+  # scripts with optimization help from Paolo Bonzini.  Blame Lee
+  # E. McMahon (1931-1989) for sed's syntax.  :-)
+  sed -n '
+    p
+    /[$]LINENO/=
+  ' <$as_myself |
+    sed '
+      s/[$]LINENO.*/&-/
+      t lineno
+      b
+      :lineno
+      N
+      :loop
+      s/[$]LINENO\([^'$as_cr_alnum'_].*\n\)\(.*\)/\2\1\2/
+      t loop
+      s/-\n.*//
+    ' >$as_me.lineno &&
+  chmod +x "$as_me.lineno" ||
+    { echo "$as_me: error: cannot create $as_me.lineno; rerun with a POSIX shell" >&2
+   { (exit 1); exit 1; }; }
+
+  # Don't try to exec as it changes $[0], causing all sort of problems
+  # (the dirname of $[0] is not the place where we might find the
+  # original and so on.  Autoconf is especially sensitive to this).
+  . "./$as_me.lineno"
+  # Exit status is that of the last command.
+  exit
+}
+
+
+if (as_dir=`dirname -- /` && test "X$as_dir" = X/) >/dev/null 2>&1; then
+  as_dirname=dirname
+else
+  as_dirname=false
+fi
+
+ECHO_C= ECHO_N= ECHO_T=
+case `echo -n x` in
+-n*)
+  case `echo 'x\c'` in
+  *c*) ECHO_T='	';;	# ECHO_T is single tab character.
+  *)   ECHO_C='\c';;
+  esac;;
+*)
+  ECHO_N='-n';;
+esac
+
+if expr a : '\(a\)' >/dev/null 2>&1 &&
+   test "X`expr 00001 : '.*\(...\)'`" = X001; then
+  as_expr=expr
+else
+  as_expr=false
+fi
+
+rm -f conf$$ conf$$.exe conf$$.file
+if test -d conf$$.dir; then
+  rm -f conf$$.dir/conf$$.file
+else
+  rm -f conf$$.dir
+  mkdir conf$$.dir
+fi
+echo >conf$$.file
+if ln -s conf$$.file conf$$ 2>/dev/null; then
+  as_ln_s='ln -s'
+  # ... but there are two gotchas:
+  # 1) On MSYS, both `ln -s file dir' and `ln file dir' fail.
+  # 2) DJGPP < 2.04 has no symlinks; `ln -s' creates a wrapper executable.
+  # In both cases, we have to default to `cp -p'.
+  ln -s conf$$.file conf$$.dir 2>/dev/null && test ! -f conf$$.exe ||
+    as_ln_s='cp -p'
+elif ln conf$$.file conf$$ 2>/dev/null; then
+  as_ln_s=ln
+else
+  as_ln_s='cp -p'
+fi
+rm -f conf$$ conf$$.exe conf$$.dir/conf$$.file conf$$.file
+rmdir conf$$.dir 2>/dev/null
+
+if mkdir -p . 2>/dev/null; then
+  as_mkdir_p=:
+else
+  test -d ./-p && rmdir ./-p
+  as_mkdir_p=false
+fi
+
+if test -x / >/dev/null 2>&1; then
+  as_test_x='test -x'
+else
+  if ls -dL / >/dev/null 2>&1; then
+    as_ls_L_option=L
+  else
+    as_ls_L_option=
+  fi
+  as_test_x='
+    eval sh -c '\''
+      if test -d "$1"; then
+        test -d "$1/.";
+      else
+	case $1 in
+        -*)set "./$1";;
+	esac;
+	case `ls -ld'$as_ls_L_option' "$1" 2>/dev/null` in
+	???[sx]*):;;*)false;;esac;fi
+    '\'' sh
+  '
+fi
+as_executable_p=$as_test_x
+
+# Sed expression to map a string onto a valid CPP name.
+as_tr_cpp="eval sed 'y%*$as_cr_letters%P$as_cr_LETTERS%;s%[^_$as_cr_alnum]%_%g'"
+
+# Sed expression to map a string onto a valid variable name.
+as_tr_sh="eval sed 'y%*+%pp%;s%[^_$as_cr_alnum]%_%g'"
+
+
+
+exec 7<&0 </dev/null 6>&1
+
+# Name of the host.
+# hostname on some systems (SVR3.2, Linux) returns a bogus exit status,
+# so uname gets run too.
+ac_hostname=`(hostname || uname -n) 2>/dev/null | sed 1q`
+
+#
+# Initializations.
+#
+ac_default_prefix=/usr/local
+ac_clean_files=
+ac_config_libobj_dir=.
+LIBOBJS=
+cross_compiling=no
+subdirs=
+MFLAGS=
+MAKEFLAGS=
+SHELL=${CONFIG_SHELL-/bin/sh}
+
+# Identity of this package.
+PACKAGE_NAME='newlib'
+PACKAGE_TARNAME='newlib'
+PACKAGE_VERSION='1.15.0'
+PACKAGE_STRING='newlib 1.15.0'
+PACKAGE_BUGREPORT=''
+
+ac_unique_file="environ.c"
+ac_subst_vars='SHELL
+PATH_SEPARATOR
+PACKAGE_NAME
+PACKAGE_TARNAME
+PACKAGE_VERSION
+PACKAGE_STRING
+PACKAGE_BUGREPORT
+exec_prefix
+prefix
+program_transform_name
+bindir
+sbindir
+libexecdir
+datarootdir
+datadir
+sysconfdir
+sharedstatedir
+localstatedir
+includedir
+oldincludedir
+docdir
+infodir
+htmldir
+dvidir
+pdfdir
+psdir
+libdir
+localedir
+mandir
+DEFS
+ECHO_C
+ECHO_N
+ECHO_T
+LIBS
+build_alias
+host_alias
+target_alias
+MAY_SUPPLY_SYSCALLS_TRUE
+MAY_SUPPLY_SYSCALLS_FALSE
+newlib_basedir
+build
+build_cpu
+build_vendor
+build_os
+host
+host_cpu
+host_vendor
+host_os
+INSTALL_PROGRAM
+INSTALL_SCRIPT
+INSTALL_DATA
+CYGPATH_W
+PACKAGE
+VERSION
+ACLOCAL
+AUTOCONF
+AUTOMAKE
+AUTOHEADER
+MAKEINFO
+install_sh
+STRIP
+INSTALL_STRIP_PROGRAM
+mkdir_p
+AWK
+SET_MAKE
+am__leading_dot
+AMTAR
+am__tar
+am__untar
+CC
+DEPDIR
+am__include
+am__quote
+AMDEP_TRUE
+AMDEP_FALSE
+AMDEPBACKSLASH
+CCDEPMODE
+am__fastdepCC_TRUE
+am__fastdepCC_FALSE
+AS
+AR
+RANLIB
+READELF
+MAINTAINER_MODE_TRUE
+MAINTAINER_MODE_FALSE
+MAINT
+CCAS
+CCASFLAGS
+NEWLIB_CFLAGS
+LDFLAGS
+ELIX_LEVEL_0_TRUE
+ELIX_LEVEL_0_FALSE
+ELIX_LEVEL_1_TRUE
+ELIX_LEVEL_1_FALSE
+ELIX_LEVEL_2_TRUE
+ELIX_LEVEL_2_FALSE
+ELIX_LEVEL_3_TRUE
+ELIX_LEVEL_3_FALSE
+ELIX_LEVEL_4_TRUE
+ELIX_LEVEL_4_FALSE
+USE_LIBTOOL_TRUE
+USE_LIBTOOL_FALSE
+OBJEXT
+oext
+aext
+lpfx
+libm_machine_dir
+machine_dir
+sys_dir
+LIBOBJS
+LTLIBOBJS'
+ac_subst_files=''
+      ac_precious_vars='build_alias
+host_alias
+target_alias
+CCAS
+CCASFLAGS'
+
+
+# Initialize some variables set by options.
+ac_init_help=
+ac_init_version=false
+# The variables have the same names as the options, with
+# dashes changed to underlines.
+cache_file=/dev/null
+exec_prefix=NONE
+no_create=
+no_recursion=
+prefix=NONE
+program_prefix=NONE
+program_suffix=NONE
+program_transform_name=s,x,x,
+silent=
+site=
+srcdir=
+verbose=
+x_includes=NONE
+x_libraries=NONE
+
+# Installation directory options.
+# These are left unexpanded so users can "make install exec_prefix=/foo"
+# and all the variables that are supposed to be based on exec_prefix
+# by default will actually change.
+# Use braces instead of parens because sh, perl, etc. also accept them.
+# (The list follows the same order as the GNU Coding Standards.)
+bindir='${exec_prefix}/bin'
+sbindir='${exec_prefix}/sbin'
+libexecdir='${exec_prefix}/libexec'
+datarootdir='${prefix}/share'
+datadir='${datarootdir}'
+sysconfdir='${prefix}/etc'
+sharedstatedir='${prefix}/com'
+localstatedir='${prefix}/var'
+includedir='${prefix}/include'
+oldincludedir='/usr/include'
+docdir='${datarootdir}/doc/${PACKAGE_TARNAME}'
+infodir='${datarootdir}/info'
+htmldir='${docdir}'
+dvidir='${docdir}'
+pdfdir='${docdir}'
+psdir='${docdir}'
+libdir='${exec_prefix}/lib'
+localedir='${datarootdir}/locale'
+mandir='${datarootdir}/man'
+
+ac_prev=
+ac_dashdash=
+for ac_option
+do
+  # If the previous option needs an argument, assign it.
+  if test -n "$ac_prev"; then
+    eval $ac_prev=\$ac_option
+    ac_prev=
+    continue
+  fi
+
+  case $ac_option in
+  *=*)	ac_optarg=`expr "X$ac_option" : '[^=]*=\(.*\)'` ;;
+  *)	ac_optarg=yes ;;
+  esac
+
+  # Accept the important Cygnus configure options, so we can diagnose typos.
+
+  case $ac_dashdash$ac_option in
+  --)
+    ac_dashdash=yes ;;
+
+  -bindir | --bindir | --bindi | --bind | --bin | --bi)
+    ac_prev=bindir ;;
+  -bindir=* | --bindir=* | --bindi=* | --bind=* | --bin=* | --bi=*)
+    bindir=$ac_optarg ;;
+
+  -build | --build | --buil | --bui | --bu)
+    ac_prev=build_alias ;;
+  -build=* | --build=* | --buil=* | --bui=* | --bu=*)
+    build_alias=$ac_optarg ;;
+
+  -cache-file | --cache-file | --cache-fil | --cache-fi \
+  | --cache-f | --cache- | --cache | --cach | --cac | --ca | --c)
+    ac_prev=cache_file ;;
+  -cache-file=* | --cache-file=* | --cache-fil=* | --cache-fi=* \
+  | --cache-f=* | --cache-=* | --cache=* | --cach=* | --cac=* | --ca=* | --c=*)
+    cache_file=$ac_optarg ;;
+
+  --config-cache | -C)
+    cache_file=config.cache ;;
+
+  -datadir | --datadir | --datadi | --datad)
+    ac_prev=datadir ;;
+  -datadir=* | --datadir=* | --datadi=* | --datad=*)
+    datadir=$ac_optarg ;;
+
+  -datarootdir | --datarootdir | --datarootdi | --datarootd | --dataroot \
+  | --dataroo | --dataro | --datar)
+    ac_prev=datarootdir ;;
+  -datarootdir=* | --datarootdir=* | --datarootdi=* | --datarootd=* \
+  | --dataroot=* | --dataroo=* | --dataro=* | --datar=*)
+    datarootdir=$ac_optarg ;;
+
+  -disable-* | --disable-*)
+    ac_feature=`expr "x$ac_option" : 'x-*disable-\(.*\)'`
+    # Reject names that are not valid shell variable names.
+    expr "x$ac_feature" : ".*[^-._$as_cr_alnum]" >/dev/null &&
+      { echo "$as_me: error: invalid feature name: $ac_feature" >&2
+   { (exit 1); exit 1; }; }
+    ac_feature=`echo $ac_feature | sed 's/[-.]/_/g'`
+    eval enable_$ac_feature=no ;;
+
+  -docdir | --docdir | --docdi | --doc | --do)
+    ac_prev=docdir ;;
+  -docdir=* | --docdir=* | --docdi=* | --doc=* | --do=*)
+    docdir=$ac_optarg ;;
+
+  -dvidir | --dvidir | --dvidi | --dvid | --dvi | --dv)
+    ac_prev=dvidir ;;
+  -dvidir=* | --dvidir=* | --dvidi=* | --dvid=* | --dvi=* | --dv=*)
+    dvidir=$ac_optarg ;;
+
+  -enable-* | --enable-*)
+    ac_feature=`expr "x$ac_option" : 'x-*enable-\([^=]*\)'`
+    # Reject names that are not valid shell variable names.
+    expr "x$ac_feature" : ".*[^-._$as_cr_alnum]" >/dev/null &&
+      { echo "$as_me: error: invalid feature name: $ac_feature" >&2
+   { (exit 1); exit 1; }; }
+    ac_feature=`echo $ac_feature | sed 's/[-.]/_/g'`
+    eval enable_$ac_feature=\$ac_optarg ;;
+
+  -exec-prefix | --exec_prefix | --exec-prefix | --exec-prefi \
+  | --exec-pref | --exec-pre | --exec-pr | --exec-p | --exec- \
+  | --exec | --exe | --ex)
+    ac_prev=exec_prefix ;;
+  -exec-prefix=* | --exec_prefix=* | --exec-prefix=* | --exec-prefi=* \
+  | --exec-pref=* | --exec-pre=* | --exec-pr=* | --exec-p=* | --exec-=* \
+  | --exec=* | --exe=* | --ex=*)
+    exec_prefix=$ac_optarg ;;
+
+  -gas | --gas | --ga | --g)
+    # Obsolete; use --with-gas.
+    with_gas=yes ;;
+
+  -help | --help | --hel | --he | -h)
+    ac_init_help=long ;;
+  -help=r* | --help=r* | --hel=r* | --he=r* | -hr*)
+    ac_init_help=recursive ;;
+  -help=s* | --help=s* | --hel=s* | --he=s* | -hs*)
+    ac_init_help=short ;;
+
+  -host | --host | --hos | --ho)
+    ac_prev=host_alias ;;
+  -host=* | --host=* | --hos=* | --ho=*)
+    host_alias=$ac_optarg ;;
+
+  -htmldir | --htmldir | --htmldi | --htmld | --html | --htm | --ht)
+    ac_prev=htmldir ;;
+  -htmldir=* | --htmldir=* | --htmldi=* | --htmld=* | --html=* | --htm=* \
+  | --ht=*)
+    htmldir=$ac_optarg ;;
+
+  -includedir | --includedir | --includedi | --included | --include \
+  | --includ | --inclu | --incl | --inc)
+    ac_prev=includedir ;;
+  -includedir=* | --includedir=* | --includedi=* | --included=* | --include=* \
+  | --includ=* | --inclu=* | --incl=* | --inc=*)
+    includedir=$ac_optarg ;;
+
+  -infodir | --infodir | --infodi | --infod | --info | --inf)
+    ac_prev=infodir ;;
+  -infodir=* | --infodir=* | --infodi=* | --infod=* | --info=* | --inf=*)
+    infodir=$ac_optarg ;;
+
+  -libdir | --libdir | --libdi | --libd)
+    ac_prev=libdir ;;
+  -libdir=* | --libdir=* | --libdi=* | --libd=*)
+    libdir=$ac_optarg ;;
+
+  -libexecdir | --libexecdir | --libexecdi | --libexecd | --libexec \
+  | --libexe | --libex | --libe)
+    ac_prev=libexecdir ;;
+  -libexecdir=* | --libexecdir=* | --libexecdi=* | --libexecd=* | --libexec=* \
+  | --libexe=* | --libex=* | --libe=*)
+    libexecdir=$ac_optarg ;;
+
+  -localedir | --localedir | --localedi | --localed | --locale)
+    ac_prev=localedir ;;
+  -localedir=* | --localedir=* | --localedi=* | --localed=* | --locale=*)
+    localedir=$ac_optarg ;;
+
+  -localstatedir | --localstatedir | --localstatedi | --localstated \
+  | --localstate | --localstat | --localsta | --localst | --locals)
+    ac_prev=localstatedir ;;
+  -localstatedir=* | --localstatedir=* | --localstatedi=* | --localstated=* \
+  | --localstate=* | --localstat=* | --localsta=* | --localst=* | --locals=*)
+    localstatedir=$ac_optarg ;;
+
+  -mandir | --mandir | --mandi | --mand | --man | --ma | --m)
+    ac_prev=mandir ;;
+  -mandir=* | --mandir=* | --mandi=* | --mand=* | --man=* | --ma=* | --m=*)
+    mandir=$ac_optarg ;;
+
+  -nfp | --nfp | --nf)
+    # Obsolete; use --without-fp.
+    with_fp=no ;;
+
+  -no-create | --no-create | --no-creat | --no-crea | --no-cre \
+  | --no-cr | --no-c | -n)
+    no_create=yes ;;
+
+  -no-recursion | --no-recursion | --no-recursio | --no-recursi \
+  | --no-recurs | --no-recur | --no-recu | --no-rec | --no-re | --no-r)
+    no_recursion=yes ;;
+
+  -oldincludedir | --oldincludedir | --oldincludedi | --oldincluded \
+  | --oldinclude | --oldinclud | --oldinclu | --oldincl | --oldinc \
+  | --oldin | --oldi | --old | --ol | --o)
+    ac_prev=oldincludedir ;;
+  -oldincludedir=* | --oldincludedir=* | --oldincludedi=* | --oldincluded=* \
+  | --oldinclude=* | --oldinclud=* | --oldinclu=* | --oldincl=* | --oldinc=* \
+  | --oldin=* | --oldi=* | --old=* | --ol=* | --o=*)
+    oldincludedir=$ac_optarg ;;
+
+  -prefix | --prefix | --prefi | --pref | --pre | --pr | --p)
+    ac_prev=prefix ;;
+  -prefix=* | --prefix=* | --prefi=* | --pref=* | --pre=* | --pr=* | --p=*)
+    prefix=$ac_optarg ;;
+
+  -program-prefix | --program-prefix | --program-prefi | --program-pref \
+  | --program-pre | --program-pr | --program-p)
+    ac_prev=program_prefix ;;
+  -program-prefix=* | --program-prefix=* | --program-prefi=* \
+  | --program-pref=* | --program-pre=* | --program-pr=* | --program-p=*)
+    program_prefix=$ac_optarg ;;
+
+  -program-suffix | --program-suffix | --program-suffi | --program-suff \
+  | --program-suf | --program-su | --program-s)
+    ac_prev=program_suffix ;;
+  -program-suffix=* | --program-suffix=* | --program-suffi=* \
+  | --program-suff=* | --program-suf=* | --program-su=* | --program-s=*)
+    program_suffix=$ac_optarg ;;
+
+  -program-transform-name | --program-transform-name \
+  | --program-transform-nam | --program-transform-na \
+  | --program-transform-n | --program-transform- \
+  | --program-transform | --program-transfor \
+  | --program-transfo | --program-transf \
+  | --program-trans | --program-tran \
+  | --progr-tra | --program-tr | --program-t)
+    ac_prev=program_transform_name ;;
+  -program-transform-name=* | --program-transform-name=* \
+  | --program-transform-nam=* | --program-transform-na=* \
+  | --program-transform-n=* | --program-transform-=* \
+  | --program-transform=* | --program-transfor=* \
+  | --program-transfo=* | --program-transf=* \
+  | --program-trans=* | --program-tran=* \
+  | --progr-tra=* | --program-tr=* | --program-t=*)
+    program_transform_name=$ac_optarg ;;
+
+  -pdfdir | --pdfdir | --pdfdi | --pdfd | --pdf | --pd)
+    ac_prev=pdfdir ;;
+  -pdfdir=* | --pdfdir=* | --pdfdi=* | --pdfd=* | --pdf=* | --pd=*)
+    pdfdir=$ac_optarg ;;
+
+  -psdir | --psdir | --psdi | --psd | --ps)
+    ac_prev=psdir ;;
+  -psdir=* | --psdir=* | --psdi=* | --psd=* | --ps=*)
+    psdir=$ac_optarg ;;
+
+  -q | -quiet | --quiet | --quie | --qui | --qu | --q \
+  | -silent | --silent | --silen | --sile | --sil)
+    silent=yes ;;
+
+  -sbindir | --sbindir | --sbindi | --sbind | --sbin | --sbi | --sb)
+    ac_prev=sbindir ;;
+  -sbindir=* | --sbindir=* | --sbindi=* | --sbind=* | --sbin=* \
+  | --sbi=* | --sb=*)
+    sbindir=$ac_optarg ;;
+
+  -sharedstatedir | --sharedstatedir | --sharedstatedi \
+  | --sharedstated | --sharedstate | --sharedstat | --sharedsta \
+  | --sharedst | --shareds | --shared | --share | --shar \
+  | --sha | --sh)
+    ac_prev=sharedstatedir ;;
+  -sharedstatedir=* | --sharedstatedir=* | --sharedstatedi=* \
+  | --sharedstated=* | --sharedstate=* | --sharedstat=* | --sharedsta=* \
+  | --sharedst=* | --shareds=* | --shared=* | --share=* | --shar=* \
+  | --sha=* | --sh=*)
+    sharedstatedir=$ac_optarg ;;
+
+  -site | --site | --sit)
+    ac_prev=site ;;
+  -site=* | --site=* | --sit=*)
+    site=$ac_optarg ;;
+
+  -srcdir | --srcdir | --srcdi | --srcd | --src | --sr)
+    ac_prev=srcdir ;;
+  -srcdir=* | --srcdir=* | --srcdi=* | --srcd=* | --src=* | --sr=*)
+    srcdir=$ac_optarg ;;
+
+  -sysconfdir | --sysconfdir | --sysconfdi | --sysconfd | --sysconf \
+  | --syscon | --sysco | --sysc | --sys | --sy)
+    ac_prev=sysconfdir ;;
+  -sysconfdir=* | --sysconfdir=* | --sysconfdi=* | --sysconfd=* | --sysconf=* \
+  | --syscon=* | --sysco=* | --sysc=* | --sys=* | --sy=*)
+    sysconfdir=$ac_optarg ;;
+
+  -target | --target | --targe | --targ | --tar | --ta | --t)
+    ac_prev=target_alias ;;
+  -target=* | --target=* | --targe=* | --targ=* | --tar=* | --ta=* | --t=*)
+    target_alias=$ac_optarg ;;
+
+  -v | -verbose | --verbose | --verbos | --verbo | --verb)
+    verbose=yes ;;
+
+  -version | --version | --versio | --versi | --vers | -V)
+    ac_init_version=: ;;
+
+  -with-* | --with-*)
+    ac_package=`expr "x$ac_option" : 'x-*with-\([^=]*\)'`
+    # Reject names that are not valid shell variable names.
+    expr "x$ac_package" : ".*[^-._$as_cr_alnum]" >/dev/null &&
+      { echo "$as_me: error: invalid package name: $ac_package" >&2
+   { (exit 1); exit 1; }; }
+    ac_package=`echo $ac_package | sed 's/[-.]/_/g'`
+    eval with_$ac_package=\$ac_optarg ;;
+
+  -without-* | --without-*)
+    ac_package=`expr "x$ac_option" : 'x-*without-\(.*\)'`
+    # Reject names that are not valid shell variable names.
+    expr "x$ac_package" : ".*[^-._$as_cr_alnum]" >/dev/null &&
+      { echo "$as_me: error: invalid package name: $ac_package" >&2
+   { (exit 1); exit 1; }; }
+    ac_package=`echo $ac_package | sed 's/[-.]/_/g'`
+    eval with_$ac_package=no ;;
+
+  --x)
+    # Obsolete; use --with-x.
+    with_x=yes ;;
+
+  -x-includes | --x-includes | --x-include | --x-includ | --x-inclu \
+  | --x-incl | --x-inc | --x-in | --x-i)
+    ac_prev=x_includes ;;
+  -x-includes=* | --x-includes=* | --x-include=* | --x-includ=* | --x-inclu=* \
+  | --x-incl=* | --x-inc=* | --x-in=* | --x-i=*)
+    x_includes=$ac_optarg ;;
+
+  -x-libraries | --x-libraries | --x-librarie | --x-librari \
+  | --x-librar | --x-libra | --x-libr | --x-lib | --x-li | --x-l)
+    ac_prev=x_libraries ;;
+  -x-libraries=* | --x-libraries=* | --x-librarie=* | --x-librari=* \
+  | --x-librar=* | --x-libra=* | --x-libr=* | --x-lib=* | --x-li=* | --x-l=*)
+    x_libraries=$ac_optarg ;;
+
+  -*) { echo "$as_me: error: unrecognized option: $ac_option
+Try \`$0 --help' for more information." >&2
+   { (exit 1); exit 1; }; }
+    ;;
+
+  *=*)
+    ac_envvar=`expr "x$ac_option" : 'x\([^=]*\)='`
+    # Reject names that are not valid shell variable names.
+    expr "x$ac_envvar" : ".*[^_$as_cr_alnum]" >/dev/null &&
+      { echo "$as_me: error: invalid variable name: $ac_envvar" >&2
+   { (exit 1); exit 1; }; }
+    eval $ac_envvar=\$ac_optarg
+    export $ac_envvar ;;
+
+  *)
+    # FIXME: should be removed in autoconf 3.0.
+    echo "$as_me: WARNING: you should use --build, --host, --target" >&2
+    expr "x$ac_option" : ".*[^-._$as_cr_alnum]" >/dev/null &&
+      echo "$as_me: WARNING: invalid host type: $ac_option" >&2
+    : ${build_alias=$ac_option} ${host_alias=$ac_option} ${target_alias=$ac_option}
+    ;;
+
+  esac
+done
+
+if test -n "$ac_prev"; then
+  ac_option=--`echo $ac_prev | sed 's/_/-/g'`
+  { echo "$as_me: error: missing argument to $ac_option" >&2
+   { (exit 1); exit 1; }; }
+fi
+
+# Be sure to have absolute directory names.
+for ac_var in	exec_prefix prefix bindir sbindir libexecdir datarootdir \
+		datadir sysconfdir sharedstatedir localstatedir includedir \
+		oldincludedir docdir infodir htmldir dvidir pdfdir psdir \
+		libdir localedir mandir
+do
+  eval ac_val=\$$ac_var
+  case $ac_val in
+    [\\/$]* | ?:[\\/]* )  continue;;
+    NONE | '' ) case $ac_var in *prefix ) continue;; esac;;
+  esac
+  { echo "$as_me: error: expected an absolute directory name for --$ac_var: $ac_val" >&2
+   { (exit 1); exit 1; }; }
+done
+
+# There might be people who depend on the old broken behavior: `$host'
+# used to hold the argument of --host etc.
+# FIXME: To remove some day.
+build=$build_alias
+host=$host_alias
+target=$target_alias
+
+# FIXME: To remove some day.
+if test "x$host_alias" != x; then
+  if test "x$build_alias" = x; then
+    cross_compiling=maybe
+    echo "$as_me: WARNING: If you wanted to set the --build type, don't use --host.
+    If a cross compiler is detected then cross compile mode will be used." >&2
+  elif test "x$build_alias" != "x$host_alias"; then
+    cross_compiling=yes
+  fi
+fi
+
+ac_tool_prefix=
+test -n "$host_alias" && ac_tool_prefix=$host_alias-
+
+test "$silent" = yes && exec 6>/dev/null
+
+
+ac_pwd=`pwd` && test -n "$ac_pwd" &&
+ac_ls_di=`ls -di .` &&
+ac_pwd_ls_di=`cd "$ac_pwd" && ls -di .` ||
+  { echo "$as_me: error: Working directory cannot be determined" >&2
+   { (exit 1); exit 1; }; }
+test "X$ac_ls_di" = "X$ac_pwd_ls_di" ||
+  { echo "$as_me: error: pwd does not report name of working directory" >&2
+   { (exit 1); exit 1; }; }
+
+
+# Find the source files, if location was not specified.
+if test -z "$srcdir"; then
+  ac_srcdir_defaulted=yes
+  # Try the directory containing this script, then the parent directory.
+  ac_confdir=`$as_dirname -- "$0" ||
+$as_expr X"$0" : 'X\(.*[^/]\)//*[^/][^/]*/*$' \| \
+	 X"$0" : 'X\(//\)[^/]' \| \
+	 X"$0" : 'X\(//\)$' \| \
+	 X"$0" : 'X\(/\)' \| . 2>/dev/null ||
+echo X"$0" |
+    sed '/^X\(.*[^/]\)\/\/*[^/][^/]*\/*$/{
+	    s//\1/
+	    q
+	  }
+	  /^X\(\/\/\)[^/].*/{
+	    s//\1/
+	    q
+	  }
+	  /^X\(\/\/\)$/{
+	    s//\1/
+	    q
+	  }
+	  /^X\(\/\).*/{
+	    s//\1/
+	    q
+	  }
+	  s/.*/./; q'`
+  srcdir=$ac_confdir
+  if test ! -r "$srcdir/$ac_unique_file"; then
+    srcdir=..
+  fi
+else
+  ac_srcdir_defaulted=no
+fi
+if test ! -r "$srcdir/$ac_unique_file"; then
+  test "$ac_srcdir_defaulted" = yes && srcdir="$ac_confdir or .."
+  { echo "$as_me: error: cannot find sources ($ac_unique_file) in $srcdir" >&2
+   { (exit 1); exit 1; }; }
+fi
+ac_msg="sources are in $srcdir, but \`cd $srcdir' does not work"
+ac_abs_confdir=`(
+	cd "$srcdir" && test -r "./$ac_unique_file" || { echo "$as_me: error: $ac_msg" >&2
+   { (exit 1); exit 1; }; }
+	pwd)`
+# When building in place, set srcdir=.
+if test "$ac_abs_confdir" = "$ac_pwd"; then
+  srcdir=.
+fi
+# Remove unnecessary trailing slashes from srcdir.
+# Double slashes in file names in object file debugging info
+# mess up M-x gdb in Emacs.
+case $srcdir in
+*/) srcdir=`expr "X$srcdir" : 'X\(.*[^/]\)' \| "X$srcdir" : 'X\(.*\)'`;;
+esac
+for ac_var in $ac_precious_vars; do
+  eval ac_env_${ac_var}_set=\${${ac_var}+set}
+  eval ac_env_${ac_var}_value=\$${ac_var}
+  eval ac_cv_env_${ac_var}_set=\${${ac_var}+set}
+  eval ac_cv_env_${ac_var}_value=\$${ac_var}
+done
+
+#
+# Report the --help message.
+#
+if test "$ac_init_help" = "long"; then
+  # Omit some internal or obsolete options to make the list less imposing.
+  # This message is too long to be a string in the A/UX 3.1 sh.
+  cat <<_ACEOF
+\`configure' configures newlib 1.15.0 to adapt to many kinds of systems.
+
+Usage: $0 [OPTION]... [VAR=VALUE]...
+
+To assign environment variables (e.g., CC, CFLAGS...), specify them as
+VAR=VALUE.  See below for descriptions of some of the useful variables.
+
+Defaults for the options are specified in brackets.
+
+Configuration:
+  -h, --help              display this help and exit
+      --help=short        display options specific to this package
+      --help=recursive    display the short help of all the included packages
+  -V, --version           display version information and exit
+  -q, --quiet, --silent   do not print \`checking...' messages
+      --cache-file=FILE   cache test results in FILE [disabled]
+  -C, --config-cache      alias for \`--cache-file=config.cache'
+  -n, --no-create         do not create output files
+      --srcdir=DIR        find the sources in DIR [configure dir or \`..']
+
+Installation directories:
+  --prefix=PREFIX         install architecture-independent files in PREFIX
+			  [$ac_default_prefix]
+  --exec-prefix=EPREFIX   install architecture-dependent files in EPREFIX
+			  [PREFIX]
+
+By default, \`make install' will install all the files in
+\`$ac_default_prefix/bin', \`$ac_default_prefix/lib' etc.  You can specify
+an installation prefix other than \`$ac_default_prefix' using \`--prefix',
+for instance \`--prefix=\$HOME'.
+
+For better control, use the options below.
+
+Fine tuning of the installation directories:
+  --bindir=DIR           user executables [EPREFIX/bin]
+  --sbindir=DIR          system admin executables [EPREFIX/sbin]
+  --libexecdir=DIR       program executables [EPREFIX/libexec]
+  --sysconfdir=DIR       read-only single-machine data [PREFIX/etc]
+  --sharedstatedir=DIR   modifiable architecture-independent data [PREFIX/com]
+  --localstatedir=DIR    modifiable single-machine data [PREFIX/var]
+  --libdir=DIR           object code libraries [EPREFIX/lib]
+  --includedir=DIR       C header files [PREFIX/include]
+  --oldincludedir=DIR    C header files for non-gcc [/usr/include]
+  --datarootdir=DIR      read-only arch.-independent data root [PREFIX/share]
+  --datadir=DIR          read-only architecture-independent data [DATAROOTDIR]
+  --infodir=DIR          info documentation [DATAROOTDIR/info]
+  --localedir=DIR        locale-dependent data [DATAROOTDIR/locale]
+  --mandir=DIR           man documentation [DATAROOTDIR/man]
+  --docdir=DIR           documentation root [DATAROOTDIR/doc/newlib]
+  --htmldir=DIR          html documentation [DOCDIR]
+  --dvidir=DIR           dvi documentation [DOCDIR]
+  --pdfdir=DIR           pdf documentation [DOCDIR]
+  --psdir=DIR            ps documentation [DOCDIR]
+_ACEOF
+
+  cat <<\_ACEOF
+
+Program names:
+  --program-prefix=PREFIX            prepend PREFIX to installed program names
+  --program-suffix=SUFFIX            append SUFFIX to installed program names
+  --program-transform-name=PROGRAM   run sed PROGRAM on installed program names
+
+System types:
+  --build=BUILD     configure for building on BUILD [guessed]
+  --host=HOST       cross-compile to build programs to run on HOST [BUILD]
+_ACEOF
+fi
+
+if test -n "$ac_init_help"; then
+  case $ac_init_help in
+     short | recursive ) echo "Configuration of newlib 1.15.0:";;
+   esac
+  cat <<\_ACEOF
+
+Optional Features:
+  --disable-FEATURE       do not include FEATURE (same as --enable-FEATURE=no)
+  --enable-FEATURE[=ARG]  include FEATURE [ARG=yes]
+  --enable-multilib         build many library versions (default)
+  --enable-target-optspace  optimize for space
+  --enable-malloc-debugging indicate malloc debugging requested
+  --enable-newlib-multithread        enable support for multiple threads
+  --enable-newlib-iconv     enable iconv library support
+  --enable-newlib-elix-level         supply desired elix library level (1-4)
+  --disable-newlib-io-float disable printf/scanf family float support
+  --disable-newlib-supplied-syscalls disable newlib from supplying syscalls
+  --disable-dependency-tracking  speeds up one-time build
+  --enable-dependency-tracking   do not reject slow dependency extractors
+  --enable-maintainer-mode  enable make rules and dependencies not useful
+			  (and sometimes confusing) to the casual installer
+
+Some influential environment variables:
+  CCAS        assembler compiler command (defaults to CC)
+  CCASFLAGS   assembler compiler flags (defaults to CFLAGS)
+
+Use these variables to override the choices made by `configure' or to help
+it to find libraries and programs with nonstandard names/locations.
+
+_ACEOF
+ac_status=$?
+fi
+
+if test "$ac_init_help" = "recursive"; then
+  # If there are subdirs, report their specific --help.
+  for ac_dir in : $ac_subdirs_all; do test "x$ac_dir" = x: && continue
+    test -d "$ac_dir" || continue
+    ac_builddir=.
+
+case "$ac_dir" in
+.) ac_dir_suffix= ac_top_builddir_sub=. ac_top_build_prefix= ;;
+*)
+  ac_dir_suffix=/`echo "$ac_dir" | sed 's,^\.[\\/],,'`
+  # A ".." for each directory in $ac_dir_suffix.
+  ac_top_builddir_sub=`echo "$ac_dir_suffix" | sed 's,/[^\\/]*,/..,g;s,/,,'`
+  case $ac_top_builddir_sub in
+  "") ac_top_builddir_sub=. ac_top_build_prefix= ;;
+  *)  ac_top_build_prefix=$ac_top_builddir_sub/ ;;
+  esac ;;
+esac
+ac_abs_top_builddir=$ac_pwd
+ac_abs_builddir=$ac_pwd$ac_dir_suffix
+# for backward compatibility:
+ac_top_builddir=$ac_top_build_prefix
+
+case $srcdir in
+  .)  # We are building in place.
+    ac_srcdir=.
+    ac_top_srcdir=$ac_top_builddir_sub
+    ac_abs_top_srcdir=$ac_pwd ;;
+  [\\/]* | ?:[\\/]* )  # Absolute name.
+    ac_srcdir=$srcdir$ac_dir_suffix;
+    ac_top_srcdir=$srcdir
+    ac_abs_top_srcdir=$srcdir ;;
+  *) # Relative name.
+    ac_srcdir=$ac_top_build_prefix$srcdir$ac_dir_suffix
+    ac_top_srcdir=$ac_top_build_prefix$srcdir
+    ac_abs_top_srcdir=$ac_pwd/$srcdir ;;
+esac
+ac_abs_srcdir=$ac_abs_top_srcdir$ac_dir_suffix
+
+    cd "$ac_dir" || { ac_status=$?; continue; }
+    # Check for guested configure.
+    if test -f "$ac_srcdir/configure.gnu"; then
+      echo &&
+      $SHELL "$ac_srcdir/configure.gnu" --help=recursive
+    elif test -f "$ac_srcdir/configure"; then
+      echo &&
+      $SHELL "$ac_srcdir/configure" --help=recursive
+    else
+      echo "$as_me: WARNING: no configuration information is in $ac_dir" >&2
+    fi || ac_status=$?
+    cd "$ac_pwd" || { ac_status=$?; break; }
+  done
+fi
+
+test -n "$ac_init_help" && exit $ac_status
+if $ac_init_version; then
+  cat <<\_ACEOF
+newlib configure 1.15.0
+generated by GNU Autoconf 2.61
+
+Copyright (C) 1992, 1993, 1994, 1995, 1996, 1998, 1999, 2000, 2001,
+2002, 2003, 2004, 2005, 2006 Free Software Foundation, Inc.
+This configure script is free software; the Free Software Foundation
+gives unlimited permission to copy, distribute and modify it.
+_ACEOF
+  exit
+fi
+cat >config.log <<_ACEOF
+This file contains any messages produced by compilers while
+running configure, to aid debugging if configure makes a mistake.
+
+It was created by newlib $as_me 1.15.0, which was
+generated by GNU Autoconf 2.61.  Invocation command line was
+
+  $ $0 $@
+
+_ACEOF
+exec 5>>config.log
+{
+cat <<_ASUNAME
+## --------- ##
+## Platform. ##
+## --------- ##
+
+hostname = `(hostname || uname -n) 2>/dev/null | sed 1q`
+uname -m = `(uname -m) 2>/dev/null || echo unknown`
+uname -r = `(uname -r) 2>/dev/null || echo unknown`
+uname -s = `(uname -s) 2>/dev/null || echo unknown`
+uname -v = `(uname -v) 2>/dev/null || echo unknown`
+
+/usr/bin/uname -p = `(/usr/bin/uname -p) 2>/dev/null || echo unknown`
+/bin/uname -X     = `(/bin/uname -X) 2>/dev/null     || echo unknown`
+
+/bin/arch              = `(/bin/arch) 2>/dev/null              || echo unknown`
+/usr/bin/arch -k       = `(/usr/bin/arch -k) 2>/dev/null       || echo unknown`
+/usr/convex/getsysinfo = `(/usr/convex/getsysinfo) 2>/dev/null || echo unknown`
+/usr/bin/hostinfo      = `(/usr/bin/hostinfo) 2>/dev/null      || echo unknown`
+/bin/machine           = `(/bin/machine) 2>/dev/null           || echo unknown`
+/usr/bin/oslevel       = `(/usr/bin/oslevel) 2>/dev/null       || echo unknown`
+/bin/universe          = `(/bin/universe) 2>/dev/null          || echo unknown`
+
+_ASUNAME
+
+as_save_IFS=$IFS; IFS=$PATH_SEPARATOR
+for as_dir in $PATH
+do
+  IFS=$as_save_IFS
+  test -z "$as_dir" && as_dir=.
+  echo "PATH: $as_dir"
+done
+IFS=$as_save_IFS
+
+} >&5
+
+cat >&5 <<_ACEOF
+
+
+## ----------- ##
+## Core tests. ##
+## ----------- ##
+
+_ACEOF
+
+
+# Keep a trace of the command line.
+# Strip out --no-create and --no-recursion so they do not pile up.
+# Strip out --silent because we don't want to record it for future runs.
+# Also quote any args containing shell meta-characters.
+# Make two passes to allow for proper duplicate-argument suppression.
+ac_configure_args=
+ac_configure_args0=
+ac_configure_args1=
+ac_must_keep_next=false
+for ac_pass in 1 2
+do
+  for ac_arg
+  do
+    case $ac_arg in
+    -no-create | --no-c* | -n | -no-recursion | --no-r*) continue ;;
+    -q | -quiet | --quiet | --quie | --qui | --qu | --q \
+    | -silent | --silent | --silen | --sile | --sil)
+      continue ;;
+    *\'*)
+      ac_arg=`echo "$ac_arg" | sed "s/'/'\\\\\\\\''/g"` ;;
+    esac
+    case $ac_pass in
+    1) ac_configure_args0="$ac_configure_args0 '$ac_arg'" ;;
+    2)
+      ac_configure_args1="$ac_configure_args1 '$ac_arg'"
+      if test $ac_must_keep_next = true; then
+	ac_must_keep_next=false # Got value, back to normal.
+      else
+	case $ac_arg in
+	  *=* | --config-cache | -C | -disable-* | --disable-* \
+	  | -enable-* | --enable-* | -gas | --g* | -nfp | --nf* \
+	  | -q | -quiet | --q* | -silent | --sil* | -v | -verb* \
+	  | -with-* | --with-* | -without-* | --without-* | --x)
+	    case "$ac_configure_args0 " in
+	      "$ac_configure_args1"*" '$ac_arg' "* ) continue ;;
+	    esac
+	    ;;
+	  -* ) ac_must_keep_next=true ;;
+	esac
+      fi
+      ac_configure_args="$ac_configure_args '$ac_arg'"
+      ;;
+    esac
+  done
+done
+$as_unset ac_configure_args0 || test "${ac_configure_args0+set}" != set || { ac_configure_args0=; export ac_configure_args0; }
+$as_unset ac_configure_args1 || test "${ac_configure_args1+set}" != set || { ac_configure_args1=; export ac_configure_args1; }
+
+# When interrupted or exit'd, cleanup temporary files, and complete
+# config.log.  We remove comments because anyway the quotes in there
+# would cause problems or look ugly.
+# WARNING: Use '\'' to represent an apostrophe within the trap.
+# WARNING: Do not start the trap code with a newline, due to a FreeBSD 4.0 bug.
+trap 'exit_status=$?
+  # Save into config.log some information that might help in debugging.
+  {
+    echo
+
+    cat <<\_ASBOX
+## ---------------- ##
+## Cache variables. ##
+## ---------------- ##
+_ASBOX
+    echo
+    # The following way of writing the cache mishandles newlines in values,
+(
+  for ac_var in `(set) 2>&1 | sed -n '\''s/^\([a-zA-Z_][a-zA-Z0-9_]*\)=.*/\1/p'\''`; do
+    eval ac_val=\$$ac_var
+    case $ac_val in #(
+    *${as_nl}*)
+      case $ac_var in #(
+      *_cv_*) { echo "$as_me:$LINENO: WARNING: Cache variable $ac_var contains a newline." >&5
+echo "$as_me: WARNING: Cache variable $ac_var contains a newline." >&2;} ;;
+      esac
+      case $ac_var in #(
+      _ | IFS | as_nl) ;; #(
+      *) $as_unset $ac_var ;;
+      esac ;;
+    esac
+  done
+  (set) 2>&1 |
+    case $as_nl`(ac_space='\'' '\''; set) 2>&1` in #(
+    *${as_nl}ac_space=\ *)
+      sed -n \
+	"s/'\''/'\''\\\\'\'''\''/g;
+	  s/^\\([_$as_cr_alnum]*_cv_[_$as_cr_alnum]*\\)=\\(.*\\)/\\1='\''\\2'\''/p"
+      ;; #(
+    *)
+      sed -n "/^[_$as_cr_alnum]*_cv_[_$as_cr_alnum]*=/p"
+      ;;
+    esac |
+    sort
+)
+    echo
+
+    cat <<\_ASBOX
+## ----------------- ##
+## Output variables. ##
+## ----------------- ##
+_ASBOX
+    echo
+    for ac_var in $ac_subst_vars
+    do
+      eval ac_val=\$$ac_var
+      case $ac_val in
+      *\'\''*) ac_val=`echo "$ac_val" | sed "s/'\''/'\''\\\\\\\\'\'''\''/g"`;;
+      esac
+      echo "$ac_var='\''$ac_val'\''"
+    done | sort
+    echo
+
+    if test -n "$ac_subst_files"; then
+      cat <<\_ASBOX
+## ------------------- ##
+## File substitutions. ##
+## ------------------- ##
+_ASBOX
+      echo
+      for ac_var in $ac_subst_files
+      do
+	eval ac_val=\$$ac_var
+	case $ac_val in
+	*\'\''*) ac_val=`echo "$ac_val" | sed "s/'\''/'\''\\\\\\\\'\'''\''/g"`;;
+	esac
+	echo "$ac_var='\''$ac_val'\''"
+      done | sort
+      echo
+    fi
+
+    if test -s confdefs.h; then
+      cat <<\_ASBOX
+## ----------- ##
+## confdefs.h. ##
+## ----------- ##
+_ASBOX
+      echo
+      cat confdefs.h
+      echo
+    fi
+    test "$ac_signal" != 0 &&
+      echo "$as_me: caught signal $ac_signal"
+    echo "$as_me: exit $exit_status"
+  } >&5
+  rm -f core *.core core.conftest.* &&
+    rm -f -r conftest* confdefs* conf$$* $ac_clean_files &&
+    exit $exit_status
+' 0
+for ac_signal in 1 2 13 15; do
+  trap 'ac_signal='$ac_signal'; { (exit 1); exit 1; }' $ac_signal
+done
+ac_signal=0
+
+# confdefs.h avoids OS command line length limits that DEFS can exceed.
+rm -f -r conftest* confdefs.h
+
+# Predefined preprocessor variables.
+
+cat >>confdefs.h <<_ACEOF
+#define PACKAGE_NAME "$PACKAGE_NAME"
+_ACEOF
+
+
+cat >>confdefs.h <<_ACEOF
+#define PACKAGE_TARNAME "$PACKAGE_TARNAME"
+_ACEOF
+
+
+cat >>confdefs.h <<_ACEOF
+#define PACKAGE_VERSION "$PACKAGE_VERSION"
+_ACEOF
+
+
+cat >>confdefs.h <<_ACEOF
+#define PACKAGE_STRING "$PACKAGE_STRING"
+_ACEOF
+
+
+cat >>confdefs.h <<_ACEOF
+#define PACKAGE_BUGREPORT "$PACKAGE_BUGREPORT"
+_ACEOF
+
+
+# Let the site file select an alternate cache file if it wants to.
+# Prefer explicitly selected file to automatically selected ones.
+if test -n "$CONFIG_SITE"; then
+  set x "$CONFIG_SITE"
+elif test "x$prefix" != xNONE; then
+  set x "$prefix/share/config.site" "$prefix/etc/config.site"
+else
+  set x "$ac_default_prefix/share/config.site" \
+	"$ac_default_prefix/etc/config.site"
+fi
+shift
+for ac_site_file
+do
+  if test -r "$ac_site_file"; then
+    { echo "$as_me:$LINENO: loading site script $ac_site_file" >&5
+echo "$as_me: loading site script $ac_site_file" >&6;}
+    sed 's/^/| /' "$ac_site_file" >&5
+    . "$ac_site_file"
+  fi
+done
+
+if test -r "$cache_file"; then
+  # Some versions of bash will fail to source /dev/null (special
+  # files actually), so we avoid doing that.
+  if test -f "$cache_file"; then
+    { echo "$as_me:$LINENO: loading cache $cache_file" >&5
+echo "$as_me: loading cache $cache_file" >&6;}
+    case $cache_file in
+      [\\/]* | ?:[\\/]* ) . "$cache_file";;
+      *)                      . "./$cache_file";;
+    esac
+  fi
+else
+  { echo "$as_me:$LINENO: creating cache $cache_file" >&5
+echo "$as_me: creating cache $cache_file" >&6;}
+  >$cache_file
+fi
+
+# Check that the precious variables saved in the cache have kept the same
+# value.
+ac_cache_corrupted=false
+for ac_var in $ac_precious_vars; do
+  eval ac_old_set=\$ac_cv_env_${ac_var}_set
+  eval ac_new_set=\$ac_env_${ac_var}_set
+  eval ac_old_val=\$ac_cv_env_${ac_var}_value
+  eval ac_new_val=\$ac_env_${ac_var}_value
+  case $ac_old_set,$ac_new_set in
+    set,)
+      { echo "$as_me:$LINENO: error: \`$ac_var' was set to \`$ac_old_val' in the previous run" >&5
+echo "$as_me: error: \`$ac_var' was set to \`$ac_old_val' in the previous run" >&2;}
+      ac_cache_corrupted=: ;;
+    ,set)
+      { echo "$as_me:$LINENO: error: \`$ac_var' was not set in the previous run" >&5
+echo "$as_me: error: \`$ac_var' was not set in the previous run" >&2;}
+      ac_cache_corrupted=: ;;
+    ,);;
+    *)
+      if test "x$ac_old_val" != "x$ac_new_val"; then
+	{ echo "$as_me:$LINENO: error: \`$ac_var' has changed since the previous run:" >&5
+echo "$as_me: error: \`$ac_var' has changed since the previous run:" >&2;}
+	{ echo "$as_me:$LINENO:   former value:  $ac_old_val" >&5
+echo "$as_me:   former value:  $ac_old_val" >&2;}
+	{ echo "$as_me:$LINENO:   current value: $ac_new_val" >&5
+echo "$as_me:   current value: $ac_new_val" >&2;}
+	ac_cache_corrupted=:
+      fi;;
+  esac
+  # Pass precious variables to config.status.
+  if test "$ac_new_set" = set; then
+    case $ac_new_val in
+    *\'*) ac_arg=$ac_var=`echo "$ac_new_val" | sed "s/'/'\\\\\\\\''/g"` ;;
+    *) ac_arg=$ac_var=$ac_new_val ;;
+    esac
+    case " $ac_configure_args " in
+      *" '$ac_arg' "*) ;; # Avoid dups.  Use of quotes ensures accuracy.
+      *) ac_configure_args="$ac_configure_args '$ac_arg'" ;;
+    esac
+  fi
+done
+if $ac_cache_corrupted; then
+  { echo "$as_me:$LINENO: error: changes in the environment can compromise the build" >&5
+echo "$as_me: error: changes in the environment can compromise the build" >&2;}
+  { { echo "$as_me:$LINENO: error: run \`make distclean' and/or \`rm $cache_file' and start over" >&5
+echo "$as_me: error: run \`make distclean' and/or \`rm $cache_file' and start over" >&2;}
+   { (exit 1); exit 1; }; }
+fi
+
+
+
+
+
+
+
+
+
+
+
+
+
+
+
+
+
+
+
+
+
+
+
+
+
+ac_ext=c
+ac_cpp='$CPP $CPPFLAGS'
+ac_compile='$CC -c $CFLAGS $CPPFLAGS conftest.$ac_ext >&5'
+ac_link='$CC -o conftest$ac_exeext $CFLAGS $CPPFLAGS $LDFLAGS conftest.$ac_ext $LIBS >&5'
+ac_compiler_gnu=$ac_cv_c_compiler_gnu
+
+
+
+
+ac_aux_dir=
+for ac_dir in ../../../.. "$srcdir"/../../../..; do
+  if test -f "$ac_dir/install-sh"; then
+    ac_aux_dir=$ac_dir
+    ac_install_sh="$ac_aux_dir/install-sh -c"
+    break
+  elif test -f "$ac_dir/install.sh"; then
+    ac_aux_dir=$ac_dir
+    ac_install_sh="$ac_aux_dir/install.sh -c"
+    break
+  elif test -f "$ac_dir/shtool"; then
+    ac_aux_dir=$ac_dir
+    ac_install_sh="$ac_aux_dir/shtool install -c"
+    break
+  fi
+done
+if test -z "$ac_aux_dir"; then
+  { { echo "$as_me:$LINENO: error: cannot find install-sh or install.sh in ../../../.. \"$srcdir\"/../../../.." >&5
+echo "$as_me: error: cannot find install-sh or install.sh in ../../../.. \"$srcdir\"/../../../.." >&2;}
+   { (exit 1); exit 1; }; }
+fi
+
+# These three variables are undocumented and unsupported,
+# and are intended to be withdrawn in a future Autoconf release.
+# They can cause serious problems if a builder's source tree is in a directory
+# whose full name contains unusual characters.
+ac_config_guess="$SHELL $ac_aux_dir/config.guess"  # Please don't use this var.
+ac_config_sub="$SHELL $ac_aux_dir/config.sub"  # Please don't use this var.
+ac_configure="$SHELL $ac_aux_dir/configure"  # Please don't use this var.
+
+
+
+
+# Make sure we can run config.sub.
+$SHELL "$ac_aux_dir/config.sub" sun4 >/dev/null 2>&1 ||
+  { { echo "$as_me:$LINENO: error: cannot run $SHELL $ac_aux_dir/config.sub" >&5
+echo "$as_me: error: cannot run $SHELL $ac_aux_dir/config.sub" >&2;}
+   { (exit 1); exit 1; }; }
+
+{ echo "$as_me:$LINENO: checking build system type" >&5
+echo $ECHO_N "checking build system type... $ECHO_C" >&6; }
+if test "${ac_cv_build+set}" = set; then
+  echo $ECHO_N "(cached) $ECHO_C" >&6
+else
+  ac_build_alias=$build_alias
+test "x$ac_build_alias" = x &&
+  ac_build_alias=`$SHELL "$ac_aux_dir/config.guess"`
+test "x$ac_build_alias" = x &&
+  { { echo "$as_me:$LINENO: error: cannot guess build type; you must specify one" >&5
+echo "$as_me: error: cannot guess build type; you must specify one" >&2;}
+   { (exit 1); exit 1; }; }
+ac_cv_build=`$SHELL "$ac_aux_dir/config.sub" $ac_build_alias` ||
+  { { echo "$as_me:$LINENO: error: $SHELL $ac_aux_dir/config.sub $ac_build_alias failed" >&5
+echo "$as_me: error: $SHELL $ac_aux_dir/config.sub $ac_build_alias failed" >&2;}
+   { (exit 1); exit 1; }; }
+
+fi
+{ echo "$as_me:$LINENO: result: $ac_cv_build" >&5
+echo "${ECHO_T}$ac_cv_build" >&6; }
+case $ac_cv_build in
+*-*-*) ;;
+*) { { echo "$as_me:$LINENO: error: invalid value of canonical build" >&5
+echo "$as_me: error: invalid value of canonical build" >&2;}
+   { (exit 1); exit 1; }; };;
+esac
+build=$ac_cv_build
+ac_save_IFS=$IFS; IFS='-'
+set x $ac_cv_build
+shift
+build_cpu=$1
+build_vendor=$2
+shift; shift
+# Remember, the first character of IFS is used to create $*,
+# except with old shells:
+build_os=$*
+IFS=$ac_save_IFS
+case $build_os in *\ *) build_os=`echo "$build_os" | sed 's/ /-/g'`;; esac
+
+
+am__api_version="1.9"
+# Find a good install program.  We prefer a C program (faster),
+# so one script is as good as another.  But avoid the broken or
+# incompatible versions:
+# SysV /etc/install, /usr/sbin/install
+# SunOS /usr/etc/install
+# IRIX /sbin/install
+# AIX /bin/install
+# AmigaOS /C/install, which installs bootblocks on floppy discs
+# AIX 4 /usr/bin/installbsd, which doesn't work without a -g flag
+# AFS /usr/afsws/bin/install, which mishandles nonexistent args
+# SVR4 /usr/ucb/install, which tries to use the nonexistent group "staff"
+# OS/2's system install, which has a completely different semantic
+# ./install, which can be erroneously created by make from ./install.sh.
+{ echo "$as_me:$LINENO: checking for a BSD-compatible install" >&5
+echo $ECHO_N "checking for a BSD-compatible install... $ECHO_C" >&6; }
+if test -z "$INSTALL"; then
+if test "${ac_cv_path_install+set}" = set; then
+  echo $ECHO_N "(cached) $ECHO_C" >&6
+else
+  as_save_IFS=$IFS; IFS=$PATH_SEPARATOR
+for as_dir in $PATH
+do
+  IFS=$as_save_IFS
+  test -z "$as_dir" && as_dir=.
+  # Account for people who put trailing slashes in PATH elements.
+case $as_dir/ in
+  ./ | .// | /cC/* | \
+  /etc/* | /usr/sbin/* | /usr/etc/* | /sbin/* | /usr/afsws/bin/* | \
+  ?:\\/os2\\/install\\/* | ?:\\/OS2\\/INSTALL\\/* | \
+  /usr/ucb/* ) ;;
+  *)
+    # OSF1 and SCO ODT 3.0 have their own names for install.
+    # Don't use installbsd from OSF since it installs stuff as root
+    # by default.
+    for ac_prog in ginstall scoinst install; do
+      for ac_exec_ext in '' $ac_executable_extensions; do
+	if { test -f "$as_dir/$ac_prog$ac_exec_ext" && $as_test_x "$as_dir/$ac_prog$ac_exec_ext"; }; then
+	  if test $ac_prog = install &&
+	    grep dspmsg "$as_dir/$ac_prog$ac_exec_ext" >/dev/null 2>&1; then
+	    # AIX install.  It has an incompatible calling convention.
+	    :
+	  elif test $ac_prog = install &&
+	    grep pwplus "$as_dir/$ac_prog$ac_exec_ext" >/dev/null 2>&1; then
+	    # program-specific install script used by HP pwplus--don't use.
+	    :
+	  else
+	    ac_cv_path_install="$as_dir/$ac_prog$ac_exec_ext -c"
+	    break 3
+	  fi
+	fi
+      done
+    done
+    ;;
+esac
+done
+IFS=$as_save_IFS
+
+
+fi
+  if test "${ac_cv_path_install+set}" = set; then
+    INSTALL=$ac_cv_path_install
+  else
+    # As a last resort, use the slow shell script.  Don't cache a
+    # value for INSTALL within a source directory, because that will
+    # break other packages using the cache if that directory is
+    # removed, or if the value is a relative name.
+    INSTALL=$ac_install_sh
+  fi
+fi
+{ echo "$as_me:$LINENO: result: $INSTALL" >&5
+echo "${ECHO_T}$INSTALL" >&6; }
+
+# Use test -z because SunOS4 sh mishandles braces in ${var-val}.
+# It thinks the first close brace ends the variable substitution.
+test -z "$INSTALL_PROGRAM" && INSTALL_PROGRAM='${INSTALL}'
+
+test -z "$INSTALL_SCRIPT" && INSTALL_SCRIPT='${INSTALL}'
+
+test -z "$INSTALL_DATA" && INSTALL_DATA='${INSTALL} -m 644'
+
+{ echo "$as_me:$LINENO: checking whether build environment is sane" >&5
+echo $ECHO_N "checking whether build environment is sane... $ECHO_C" >&6; }
+# Just in case
+sleep 1
+echo timestamp > conftest.file
+# Do `set' in a subshell so we don't clobber the current shell's
+# arguments.  Must try -L first in case configure is actually a
+# symlink; some systems play weird games with the mod time of symlinks
+# (eg FreeBSD returns the mod time of the symlink's containing
+# directory).
+if (
+   set X `ls -Lt $srcdir/configure conftest.file 2> /dev/null`
+   if test "$*" = "X"; then
+      # -L didn't work.
+      set X `ls -t $srcdir/configure conftest.file`
+   fi
+   rm -f conftest.file
+   if test "$*" != "X $srcdir/configure conftest.file" \
+      && test "$*" != "X conftest.file $srcdir/configure"; then
+
+      # If neither matched, then we have a broken ls.  This can happen
+      # if, for instance, CONFIG_SHELL is bash and it inherits a
+      # broken ls alias from the environment.  This has actually
+      # happened.  Such a system could not be considered "sane".
+      { { echo "$as_me:$LINENO: error: ls -t appears to fail.  Make sure there is not a broken
+alias in your environment" >&5
+echo "$as_me: error: ls -t appears to fail.  Make sure there is not a broken
+alias in your environment" >&2;}
+   { (exit 1); exit 1; }; }
+   fi
+
+   test "$2" = conftest.file
+   )
+then
+   # Ok.
+   :
+else
+   { { echo "$as_me:$LINENO: error: newly created file is older than distributed files!
+Check your system clock" >&5
+echo "$as_me: error: newly created file is older than distributed files!
+Check your system clock" >&2;}
+   { (exit 1); exit 1; }; }
+fi
+{ echo "$as_me:$LINENO: result: yes" >&5
+echo "${ECHO_T}yes" >&6; }
+test "$program_prefix" != NONE &&
+  program_transform_name="s&^&$program_prefix&;$program_transform_name"
+# Use a double $ so make ignores it.
+test "$program_suffix" != NONE &&
+  program_transform_name="s&\$&$program_suffix&;$program_transform_name"
+# Double any \ or $.  echo might interpret backslashes.
+# By default was `s,x,x', remove it if useless.
+cat <<\_ACEOF >conftest.sed
+s/[\\$]/&&/g;s/;s,x,x,$//
+_ACEOF
+program_transform_name=`echo $program_transform_name | sed -f conftest.sed`
+rm -f conftest.sed
+
+# expand $ac_aux_dir to an absolute path
+am_aux_dir=`cd $ac_aux_dir && pwd`
+
+test x"${MISSING+set}" = xset || MISSING="\${SHELL} $am_aux_dir/missing"
+# Use eval to expand $SHELL
+if eval "$MISSING --run true"; then
+  am_missing_run="$MISSING --run "
+else
+  am_missing_run=
+  { echo "$as_me:$LINENO: WARNING: \`missing' script is too old or missing" >&5
+echo "$as_me: WARNING: \`missing' script is too old or missing" >&2;}
+fi
+
+if mkdir -p --version . >/dev/null 2>&1 && test ! -d ./--version; then
+  # We used to keeping the `.' as first argument, in order to
+  # allow $(mkdir_p) to be used without argument.  As in
+  #   $(mkdir_p) $(somedir)
+  # where $(somedir) is conditionally defined.  However this is wrong
+  # for two reasons:
+  #  1. if the package is installed by a user who cannot write `.'
+  #     make install will fail,
+  #  2. the above comment should most certainly read
+  #     $(mkdir_p) $(DESTDIR)$(somedir)
+  #     so it does not work when $(somedir) is undefined and
+  #     $(DESTDIR) is not.
+  #  To support the latter case, we have to write
+  #     test -z "$(somedir)" || $(mkdir_p) $(DESTDIR)$(somedir),
+  #  so the `.' trick is pointless.
+  mkdir_p='mkdir -p --'
+else
+  # On NextStep and OpenStep, the `mkdir' command does not
+  # recognize any option.  It will interpret all options as
+  # directories to create, and then abort because `.' already
+  # exists.
+  for d in ./-p ./--version;
+  do
+    test -d $d && rmdir $d
+  done
+  # $(mkinstalldirs) is defined by Automake if mkinstalldirs exists.
+  if test -f "$ac_aux_dir/mkinstalldirs"; then
+    mkdir_p='$(mkinstalldirs)'
+  else
+    mkdir_p='$(install_sh) -d'
+  fi
+fi
+
+for ac_prog in gawk mawk nawk awk
+do
+  # Extract the first word of "$ac_prog", so it can be a program name with args.
+set dummy $ac_prog; ac_word=$2
+{ echo "$as_me:$LINENO: checking for $ac_word" >&5
+echo $ECHO_N "checking for $ac_word... $ECHO_C" >&6; }
+if test "${ac_cv_prog_AWK+set}" = set; then
+  echo $ECHO_N "(cached) $ECHO_C" >&6
+else
+  if test -n "$AWK"; then
+  ac_cv_prog_AWK="$AWK" # Let the user override the test.
+else
+as_save_IFS=$IFS; IFS=$PATH_SEPARATOR
+for as_dir in $PATH
+do
+  IFS=$as_save_IFS
+  test -z "$as_dir" && as_dir=.
+  for ac_exec_ext in '' $ac_executable_extensions; do
+  if { test -f "$as_dir/$ac_word$ac_exec_ext" && $as_test_x "$as_dir/$ac_word$ac_exec_ext"; }; then
+    ac_cv_prog_AWK="$ac_prog"
+    echo "$as_me:$LINENO: found $as_dir/$ac_word$ac_exec_ext" >&5
+    break 2
+  fi
+done
+done
+IFS=$as_save_IFS
+
+fi
+fi
+AWK=$ac_cv_prog_AWK
+if test -n "$AWK"; then
+  { echo "$as_me:$LINENO: result: $AWK" >&5
+echo "${ECHO_T}$AWK" >&6; }
+else
+  { echo "$as_me:$LINENO: result: no" >&5
+echo "${ECHO_T}no" >&6; }
+fi
+
+
+  test -n "$AWK" && break
+done
+
+{ echo "$as_me:$LINENO: checking whether ${MAKE-make} sets \$(MAKE)" >&5
+echo $ECHO_N "checking whether ${MAKE-make} sets \$(MAKE)... $ECHO_C" >&6; }
+set x ${MAKE-make}; ac_make=`echo "$2" | sed 's/+/p/g; s/[^a-zA-Z0-9_]/_/g'`
+if { as_var=ac_cv_prog_make_${ac_make}_set; eval "test \"\${$as_var+set}\" = set"; }; then
+  echo $ECHO_N "(cached) $ECHO_C" >&6
+else
+  cat >conftest.make <<\_ACEOF
+SHELL = /bin/sh
+all:
+	@echo '@@@%%%=$(MAKE)=@@@%%%'
+_ACEOF
+# GNU make sometimes prints "make[1]: Entering...", which would confuse us.
+case `${MAKE-make} -f conftest.make 2>/dev/null` in
+  *@@@%%%=?*=@@@%%%*)
+    eval ac_cv_prog_make_${ac_make}_set=yes;;
+  *)
+    eval ac_cv_prog_make_${ac_make}_set=no;;
+esac
+rm -f conftest.make
+fi
+if eval test \$ac_cv_prog_make_${ac_make}_set = yes; then
+  { echo "$as_me:$LINENO: result: yes" >&5
+echo "${ECHO_T}yes" >&6; }
+  SET_MAKE=
+else
+  { echo "$as_me:$LINENO: result: no" >&5
+echo "${ECHO_T}no" >&6; }
+  SET_MAKE="MAKE=${MAKE-make}"
+fi
+
+rm -rf .tst 2>/dev/null
+mkdir .tst 2>/dev/null
+if test -d .tst; then
+  am__leading_dot=.
+else
+  am__leading_dot=_
+fi
+rmdir .tst 2>/dev/null
+
+DEPDIR="${am__leading_dot}deps"
+
+ac_config_commands="$ac_config_commands depfiles"
+
+
+am_make=${MAKE-make}
+cat > confinc << 'END'
+am__doit:
+	@echo done
+.PHONY: am__doit
+END
+# If we don't find an include directive, just comment out the code.
+{ echo "$as_me:$LINENO: checking for style of include used by $am_make" >&5
+echo $ECHO_N "checking for style of include used by $am_make... $ECHO_C" >&6; }
+am__include="#"
+am__quote=
+_am_result=none
+# First try GNU make style include.
+echo "include confinc" > confmf
+# We grep out `Entering directory' and `Leaving directory'
+# messages which can occur if `w' ends up in MAKEFLAGS.
+# In particular we don't look at `^make:' because GNU make might
+# be invoked under some other name (usually "gmake"), in which
+# case it prints its new name instead of `make'.
+if test "`$am_make -s -f confmf 2> /dev/null | grep -v 'ing directory'`" = "done"; then
+   am__include=include
+   am__quote=
+   _am_result=GNU
+fi
+# Now try BSD make style include.
+if test "$am__include" = "#"; then
+   echo '.include "confinc"' > confmf
+   if test "`$am_make -s -f confmf 2> /dev/null`" = "done"; then
+      am__include=.include
+      am__quote="\""
+      _am_result=BSD
+   fi
+fi
+
+
+{ echo "$as_me:$LINENO: result: $_am_result" >&5
+echo "${ECHO_T}$_am_result" >&6; }
+rm -f confinc confmf
+
+# Check whether --enable-dependency-tracking was given.
+if test "${enable_dependency_tracking+set}" = set; then
+  enableval=$enable_dependency_tracking;
+fi
+
+if test "x$enable_dependency_tracking" != xno; then
+  am_depcomp="$ac_aux_dir/depcomp"
+  AMDEPBACKSLASH='\'
+fi
+
+
+if test "x$enable_dependency_tracking" != xno; then
+  AMDEP_TRUE=
+  AMDEP_FALSE='#'
+else
+  AMDEP_TRUE='#'
+  AMDEP_FALSE=
+fi
+
+
+
+
+# Check whether --enable-multilib was given.
+if test "${enable_multilib+set}" = set; then
+  enableval=$enable_multilib; case "${enableval}" in
+  yes) multilib=yes ;;
+  no)  multilib=no ;;
+  *)   { { echo "$as_me:$LINENO: error: bad value ${enableval} for multilib option" >&5
+echo "$as_me: error: bad value ${enableval} for multilib option" >&2;}
+   { (exit 1); exit 1; }; } ;;
+ esac
+else
+  multilib=yes
+fi
+
+# Check whether --enable-target-optspace was given.
+if test "${enable_target_optspace+set}" = set; then
+  enableval=$enable_target_optspace; case "${enableval}" in
+  yes) target_optspace=yes ;;
+  no)  target_optspace=no ;;
+  *)   { { echo "$as_me:$LINENO: error: bad value ${enableval} for target-optspace option" >&5
+echo "$as_me: error: bad value ${enableval} for target-optspace option" >&2;}
+   { (exit 1); exit 1; }; } ;;
+ esac
+else
+  target_optspace=
+fi
+
+# Check whether --enable-malloc-debugging was given.
+if test "${enable_malloc_debugging+set}" = set; then
+  enableval=$enable_malloc_debugging; case "${enableval}" in
+  yes) malloc_debugging=yes ;;
+  no)  malloc_debugging=no ;;
+  *)   { { echo "$as_me:$LINENO: error: bad value ${enableval} for malloc-debugging option" >&5
+echo "$as_me: error: bad value ${enableval} for malloc-debugging option" >&2;}
+   { (exit 1); exit 1; }; } ;;
+ esac
+else
+  malloc_debugging=
+fi
+
+# Check whether --enable-newlib-multithread was given.
+if test "${enable_newlib_multithread+set}" = set; then
+  enableval=$enable_newlib_multithread; case "${enableval}" in
+  yes) newlib_multithread=yes ;;
+  no)  newlib_multithread=no ;;
+  *)   { { echo "$as_me:$LINENO: error: bad value ${enableval} for newlib-multithread option" >&5
+echo "$as_me: error: bad value ${enableval} for newlib-multithread option" >&2;}
+   { (exit 1); exit 1; }; } ;;
+ esac
+else
+  newlib_multithread=yes
+fi
+
+# Check whether --enable-newlib-iconv was given.
+if test "${enable_newlib_iconv+set}" = set; then
+  enableval=$enable_newlib_iconv; if test "${newlib_iconv+set}" != set; then
+   case "${enableval}" in
+     yes) newlib_iconv=yes ;;
+     no)  newlib_iconv=no ;;
+     *)   { { echo "$as_me:$LINENO: error: bad value ${enableval} for newlib-iconv option" >&5
+echo "$as_me: error: bad value ${enableval} for newlib-iconv option" >&2;}
+   { (exit 1); exit 1; }; } ;;
+   esac
+ fi
+else
+  newlib_iconv=${newlib_iconv}
+fi
+
+# Check whether --enable-newlib-elix-level was given.
+if test "${enable_newlib_elix_level+set}" = set; then
+  enableval=$enable_newlib_elix_level; case "${enableval}" in
+  0)   newlib_elix_level=0 ;;
+  1)   newlib_elix_level=1 ;;
+  2)   newlib_elix_level=2 ;;
+  3)   newlib_elix_level=3 ;;
+  4)   newlib_elix_level=4 ;;
+  *)   { { echo "$as_me:$LINENO: error: bad value ${enableval} for newlib-elix-level option" >&5
+echo "$as_me: error: bad value ${enableval} for newlib-elix-level option" >&2;}
+   { (exit 1); exit 1; }; } ;;
+ esac
+else
+  newlib_elix_level=0
+fi
+
+# Check whether --enable-newlib-io-float was given.
+if test "${enable_newlib_io_float+set}" = set; then
+  enableval=$enable_newlib_io_float; case "${enableval}" in
+  yes) newlib_io_float=yes ;;
+  no)  newlib_io_float=no ;;
+  *)   { { echo "$as_me:$LINENO: error: bad value ${enableval} for newlib-io-float option" >&5
+echo "$as_me: error: bad value ${enableval} for newlib-io-float option" >&2;}
+   { (exit 1); exit 1; }; } ;;
+ esac
+else
+  newlib_io_float=yes
+fi
+
+# Check whether --enable-newlib-supplied-syscalls was given.
+if test "${enable_newlib_supplied_syscalls+set}" = set; then
+  enableval=$enable_newlib_supplied_syscalls; case "${enableval}" in
+  yes) newlib_may_supply_syscalls=yes ;;
+  no)  newlib_may_supply_syscalls=no ;;
+  *)   { { echo "$as_me:$LINENO: error: bad value ${enableval} for newlib-supplied-syscalls option" >&5
+echo "$as_me: error: bad value ${enableval} for newlib-supplied-syscalls option" >&2;}
+   { (exit 1); exit 1; }; } ;;
+ esac
+else
+  newlib_may_supply_syscalls=yes
+fi
+
+
+
+if test x${newlib_may_supply_syscalls} = xyes; then
+  MAY_SUPPLY_SYSCALLS_TRUE=
+  MAY_SUPPLY_SYSCALLS_FALSE='#'
+else
+  MAY_SUPPLY_SYSCALLS_TRUE='#'
+  MAY_SUPPLY_SYSCALLS_FALSE=
+fi
+
+
+
+test -z "${with_target_subdir}" && with_target_subdir=.
+
+if test "${srcdir}" = "."; then
+  if test "${with_target_subdir}" != "."; then
+    newlib_basedir="${srcdir}/${with_multisrctop}../../../.."
+  else
+    newlib_basedir="${srcdir}/${with_multisrctop}../../.."
+  fi
+else
+  newlib_basedir="${srcdir}/../../.."
+fi
+
+
+{ echo "$as_me:$LINENO: checking host system type" >&5
+echo $ECHO_N "checking host system type... $ECHO_C" >&6; }
+if test "${ac_cv_host+set}" = set; then
+  echo $ECHO_N "(cached) $ECHO_C" >&6
+else
+  if test "x$host_alias" = x; then
+  ac_cv_host=$ac_cv_build
+else
+  ac_cv_host=`$SHELL "$ac_aux_dir/config.sub" $host_alias` ||
+    { { echo "$as_me:$LINENO: error: $SHELL $ac_aux_dir/config.sub $host_alias failed" >&5
+echo "$as_me: error: $SHELL $ac_aux_dir/config.sub $host_alias failed" >&2;}
+   { (exit 1); exit 1; }; }
+fi
+
+fi
+{ echo "$as_me:$LINENO: result: $ac_cv_host" >&5
+echo "${ECHO_T}$ac_cv_host" >&6; }
+case $ac_cv_host in
+*-*-*) ;;
+*) { { echo "$as_me:$LINENO: error: invalid value of canonical host" >&5
+echo "$as_me: error: invalid value of canonical host" >&2;}
+   { (exit 1); exit 1; }; };;
+esac
+host=$ac_cv_host
+ac_save_IFS=$IFS; IFS='-'
+set x $ac_cv_host
+shift
+host_cpu=$1
+host_vendor=$2
+shift; shift
+# Remember, the first character of IFS is used to create $*,
+# except with old shells:
+host_os=$*
+IFS=$ac_save_IFS
+case $host_os in *\ *) host_os=`echo "$host_os" | sed 's/ /-/g'`;; esac
+
+
+
+# test to see if srcdir already configured
+if test "`cd $srcdir && pwd`" != "`pwd`" &&
+   test -f $srcdir/config.status; then
+  { { echo "$as_me:$LINENO: error: source directory already configured; run \"make distclean\" there first" >&5
+echo "$as_me: error: source directory already configured; run \"make distclean\" there first" >&2;}
+   { (exit 1); exit 1; }; }
+fi
+
+# test whether we have cygpath
+if test -z "$CYGPATH_W"; then
+  if (cygpath --version) >/dev/null 2>/dev/null; then
+    CYGPATH_W='cygpath -w'
+  else
+    CYGPATH_W=echo
+  fi
+fi
+
+
+# Define the identity of the package.
+ PACKAGE='newlib'
+ VERSION='1.15.0'
+
+
+# Some tools Automake needs.
+
+ACLOCAL=${ACLOCAL-"${am_missing_run}aclocal-${am__api_version}"}
+
+
+AUTOCONF=${AUTOCONF-"${am_missing_run}autoconf"}
+
+
+AUTOMAKE=${AUTOMAKE-"${am_missing_run}automake-${am__api_version}"}
+
+
+AUTOHEADER=${AUTOHEADER-"${am_missing_run}autoheader"}
+
+
+MAKEINFO=${MAKEINFO-"${am_missing_run}makeinfo"}
+
+install_sh=${install_sh-"$am_aux_dir/install-sh"}
+
+# Installed binaries are usually stripped using `strip' when the user
+# run `make install-strip'.  However `strip' might not be the right
+# tool to use in cross-compilation environments, therefore Automake
+# will honor the `STRIP' environment variable to overrule this program.
+if test "$cross_compiling" != no; then
+  if test -n "$ac_tool_prefix"; then
+  # Extract the first word of "${ac_tool_prefix}strip", so it can be a program name with args.
+set dummy ${ac_tool_prefix}strip; ac_word=$2
+{ echo "$as_me:$LINENO: checking for $ac_word" >&5
+echo $ECHO_N "checking for $ac_word... $ECHO_C" >&6; }
+if test "${ac_cv_prog_STRIP+set}" = set; then
+  echo $ECHO_N "(cached) $ECHO_C" >&6
+else
+  if test -n "$STRIP"; then
+  ac_cv_prog_STRIP="$STRIP" # Let the user override the test.
+else
+as_save_IFS=$IFS; IFS=$PATH_SEPARATOR
+for as_dir in $PATH
+do
+  IFS=$as_save_IFS
+  test -z "$as_dir" && as_dir=.
+  for ac_exec_ext in '' $ac_executable_extensions; do
+  if { test -f "$as_dir/$ac_word$ac_exec_ext" && $as_test_x "$as_dir/$ac_word$ac_exec_ext"; }; then
+    ac_cv_prog_STRIP="${ac_tool_prefix}strip"
+    echo "$as_me:$LINENO: found $as_dir/$ac_word$ac_exec_ext" >&5
+    break 2
+  fi
+done
+done
+IFS=$as_save_IFS
+
+fi
+fi
+STRIP=$ac_cv_prog_STRIP
+if test -n "$STRIP"; then
+  { echo "$as_me:$LINENO: result: $STRIP" >&5
+echo "${ECHO_T}$STRIP" >&6; }
+else
+  { echo "$as_me:$LINENO: result: no" >&5
+echo "${ECHO_T}no" >&6; }
+fi
+
+
+fi
+if test -z "$ac_cv_prog_STRIP"; then
+  ac_ct_STRIP=$STRIP
+  # Extract the first word of "strip", so it can be a program name with args.
+set dummy strip; ac_word=$2
+{ echo "$as_me:$LINENO: checking for $ac_word" >&5
+echo $ECHO_N "checking for $ac_word... $ECHO_C" >&6; }
+if test "${ac_cv_prog_ac_ct_STRIP+set}" = set; then
+  echo $ECHO_N "(cached) $ECHO_C" >&6
+else
+  if test -n "$ac_ct_STRIP"; then
+  ac_cv_prog_ac_ct_STRIP="$ac_ct_STRIP" # Let the user override the test.
+else
+as_save_IFS=$IFS; IFS=$PATH_SEPARATOR
+for as_dir in $PATH
+do
+  IFS=$as_save_IFS
+  test -z "$as_dir" && as_dir=.
+  for ac_exec_ext in '' $ac_executable_extensions; do
+  if { test -f "$as_dir/$ac_word$ac_exec_ext" && $as_test_x "$as_dir/$ac_word$ac_exec_ext"; }; then
+    ac_cv_prog_ac_ct_STRIP="strip"
+    echo "$as_me:$LINENO: found $as_dir/$ac_word$ac_exec_ext" >&5
+    break 2
+  fi
+done
+done
+IFS=$as_save_IFS
+
+fi
+fi
+ac_ct_STRIP=$ac_cv_prog_ac_ct_STRIP
+if test -n "$ac_ct_STRIP"; then
+  { echo "$as_me:$LINENO: result: $ac_ct_STRIP" >&5
+echo "${ECHO_T}$ac_ct_STRIP" >&6; }
+else
+  { echo "$as_me:$LINENO: result: no" >&5
+echo "${ECHO_T}no" >&6; }
+fi
+
+  if test "x$ac_ct_STRIP" = x; then
+    STRIP=":"
+  else
+    case $cross_compiling:$ac_tool_warned in
+yes:)
+{ echo "$as_me:$LINENO: WARNING: In the future, Autoconf will not detect cross-tools
+whose name does not start with the host triplet.  If you think this
+configuration is useful to you, please write to autoconf@gnu.org." >&5
+echo "$as_me: WARNING: In the future, Autoconf will not detect cross-tools
+whose name does not start with the host triplet.  If you think this
+configuration is useful to you, please write to autoconf@gnu.org." >&2;}
+ac_tool_warned=yes ;;
+esac
+    STRIP=$ac_ct_STRIP
+  fi
+else
+  STRIP="$ac_cv_prog_STRIP"
+fi
+
+fi
+INSTALL_STRIP_PROGRAM="\${SHELL} \$(install_sh) -c -s"
+
+# We need awk for the "check" target.  The system "awk" is bad on
+# some platforms.
+# Always define AMTAR for backward compatibility.
+
+AMTAR=${AMTAR-"${am_missing_run}tar"}
+
+am__tar='${AMTAR} chof - "$$tardir"'; am__untar='${AMTAR} xf -'
+
+
+
+
+
+
+# FIXME: We temporarily define our own version of AC_PROG_CC.  This is
+# copied from autoconf 2.12, but does not call AC_PROG_CC_WORKS.  We
+# are probably using a cross compiler, which will not be able to fully
+# link an executable.  This should really be fixed in autoconf
+# itself.
+
+
+
+
+
+
+
+# Extract the first word of "gcc", so it can be a program name with args.
+set dummy gcc; ac_word=$2
+{ echo "$as_me:$LINENO: checking for $ac_word" >&5
+echo $ECHO_N "checking for $ac_word... $ECHO_C" >&6; }
+if test "${ac_cv_prog_CC+set}" = set; then
+  echo $ECHO_N "(cached) $ECHO_C" >&6
+else
+  if test -n "$CC"; then
+  ac_cv_prog_CC="$CC" # Let the user override the test.
+else
+as_save_IFS=$IFS; IFS=$PATH_SEPARATOR
+for as_dir in $PATH
+do
+  IFS=$as_save_IFS
+  test -z "$as_dir" && as_dir=.
+  for ac_exec_ext in '' $ac_executable_extensions; do
+  if { test -f "$as_dir/$ac_word$ac_exec_ext" && $as_test_x "$as_dir/$ac_word$ac_exec_ext"; }; then
+    ac_cv_prog_CC="gcc"
+    echo "$as_me:$LINENO: found $as_dir/$ac_word$ac_exec_ext" >&5
+    break 2
+  fi
+done
+done
+IFS=$as_save_IFS
+
+fi
+fi
+CC=$ac_cv_prog_CC
+if test -n "$CC"; then
+  { echo "$as_me:$LINENO: result: $CC" >&5
+echo "${ECHO_T}$CC" >&6; }
+else
+  { echo "$as_me:$LINENO: result: no" >&5
+echo "${ECHO_T}no" >&6; }
+fi
+
+
+
+depcc="$CC"   am_compiler_list=
+
+{ echo "$as_me:$LINENO: checking dependency style of $depcc" >&5
+echo $ECHO_N "checking dependency style of $depcc... $ECHO_C" >&6; }
+if test "${am_cv_CC_dependencies_compiler_type+set}" = set; then
+  echo $ECHO_N "(cached) $ECHO_C" >&6
+else
+  if test -z "$AMDEP_TRUE" && test -f "$am_depcomp"; then
+  # We make a subdir and do the tests there.  Otherwise we can end up
+  # making bogus files that we don't know about and never remove.  For
+  # instance it was reported that on HP-UX the gcc test will end up
+  # making a dummy file named `D' -- because `-MD' means `put the output
+  # in D'.
+  mkdir conftest.dir
+  # Copy depcomp to subdir because otherwise we won't find it if we're
+  # using a relative directory.
+  cp "$am_depcomp" conftest.dir
+  cd conftest.dir
+  # We will build objects and dependencies in a subdirectory because
+  # it helps to detect inapplicable dependency modes.  For instance
+  # both Tru64's cc and ICC support -MD to output dependencies as a
+  # side effect of compilation, but ICC will put the dependencies in
+  # the current directory while Tru64 will put them in the object
+  # directory.
+  mkdir sub
+
+  am_cv_CC_dependencies_compiler_type=none
+  if test "$am_compiler_list" = ""; then
+     am_compiler_list=`sed -n 's/^#*\([a-zA-Z0-9]*\))$/\1/p' < ./depcomp`
+  fi
+  for depmode in $am_compiler_list; do
+    # Setup a source with many dependencies, because some compilers
+    # like to wrap large dependency lists on column 80 (with \), and
+    # we should not choose a depcomp mode which is confused by this.
+    #
+    # We need to recreate these files for each test, as the compiler may
+    # overwrite some of them when testing with obscure command lines.
+    # This happens at least with the AIX C compiler.
+    : > sub/conftest.c
+    for i in 1 2 3 4 5 6; do
+      echo '#include "conftst'$i'.h"' >> sub/conftest.c
+      # Using `: > sub/conftst$i.h' creates only sub/conftst1.h with
+      # Solaris 8's {/usr,}/bin/sh.
+      touch sub/conftst$i.h
+    done
+    echo "${am__include} ${am__quote}sub/conftest.Po${am__quote}" > confmf
+
+    case $depmode in
+    nosideeffect)
+      # after this tag, mechanisms are not by side-effect, so they'll
+      # only be used when explicitly requested
+      if test "x$enable_dependency_tracking" = xyes; then
+	continue
+      else
+	break
+      fi
+      ;;
+    none) break ;;
+    esac
+    # We check with `-c' and `-o' for the sake of the "dashmstdout"
+    # mode.  It turns out that the SunPro C++ compiler does not properly
+    # handle `-M -o', and we need to detect this.
+    if depmode=$depmode \
+       source=sub/conftest.c object=sub/conftest.${OBJEXT-o} \
+       depfile=sub/conftest.Po tmpdepfile=sub/conftest.TPo \
+       $SHELL ./depcomp $depcc -c -o sub/conftest.${OBJEXT-o} sub/conftest.c \
+         >/dev/null 2>conftest.err &&
+       grep sub/conftst6.h sub/conftest.Po > /dev/null 2>&1 &&
+       grep sub/conftest.${OBJEXT-o} sub/conftest.Po > /dev/null 2>&1 &&
+       ${MAKE-make} -s -f confmf > /dev/null 2>&1; then
+      # icc doesn't choke on unknown options, it will just issue warnings
+      # or remarks (even with -Werror).  So we grep stderr for any message
+      # that says an option was ignored or not supported.
+      # When given -MP, icc 7.0 and 7.1 complain thusly:
+      #   icc: Command line warning: ignoring option '-M'; no argument required
+      # The diagnosis changed in icc 8.0:
+      #   icc: Command line remark: option '-MP' not supported
+      if (grep 'ignoring option' conftest.err ||
+          grep 'not supported' conftest.err) >/dev/null 2>&1; then :; else
+        am_cv_CC_dependencies_compiler_type=$depmode
+        break
+      fi
+    fi
+  done
+
+  cd ..
+  rm -rf conftest.dir
+else
+  am_cv_CC_dependencies_compiler_type=none
+fi
+
+fi
+{ echo "$as_me:$LINENO: result: $am_cv_CC_dependencies_compiler_type" >&5
+echo "${ECHO_T}$am_cv_CC_dependencies_compiler_type" >&6; }
+CCDEPMODE=depmode=$am_cv_CC_dependencies_compiler_type
+
+
+
+if
+  test "x$enable_dependency_tracking" != xno \
+  && test "$am_cv_CC_dependencies_compiler_type" = gcc3; then
+  am__fastdepCC_TRUE=
+  am__fastdepCC_FALSE='#'
+else
+  am__fastdepCC_TRUE='#'
+  am__fastdepCC_FALSE=
+fi
+
+
+if test -z "$CC"; then
+  # Extract the first word of "cc", so it can be a program name with args.
+set dummy cc; ac_word=$2
+{ echo "$as_me:$LINENO: checking for $ac_word" >&5
+echo $ECHO_N "checking for $ac_word... $ECHO_C" >&6; }
+if test "${ac_cv_prog_CC+set}" = set; then
+  echo $ECHO_N "(cached) $ECHO_C" >&6
+else
+  if test -n "$CC"; then
+  ac_cv_prog_CC="$CC" # Let the user override the test.
+else
+  ac_prog_rejected=no
+as_save_IFS=$IFS; IFS=$PATH_SEPARATOR
+for as_dir in $PATH
+do
+  IFS=$as_save_IFS
+  test -z "$as_dir" && as_dir=.
+  for ac_exec_ext in '' $ac_executable_extensions; do
+  if { test -f "$as_dir/$ac_word$ac_exec_ext" && $as_test_x "$as_dir/$ac_word$ac_exec_ext"; }; then
+    if test "$as_dir/$ac_word$ac_exec_ext" = "/usr/ucb/cc"; then
+       ac_prog_rejected=yes
+       continue
+     fi
+    ac_cv_prog_CC="cc"
+    echo "$as_me:$LINENO: found $as_dir/$ac_word$ac_exec_ext" >&5
+    break 2
+  fi
+done
+done
+IFS=$as_save_IFS
+
+if test $ac_prog_rejected = yes; then
+  # We found a bogon in the path, so make sure we never use it.
+  set dummy $ac_cv_prog_CC
+  shift
+  if test $# != 0; then
+    # We chose a different compiler from the bogus one.
+    # However, it has the same basename, so the bogon will be chosen
+    # first if we set CC to just the basename; use the full file name.
+    shift
+    ac_cv_prog_CC="$as_dir/$ac_word${1+' '}$@"
+  fi
+fi
+fi
+fi
+CC=$ac_cv_prog_CC
+if test -n "$CC"; then
+  { echo "$as_me:$LINENO: result: $CC" >&5
+echo "${ECHO_T}$CC" >&6; }
+else
+  { echo "$as_me:$LINENO: result: no" >&5
+echo "${ECHO_T}no" >&6; }
+fi
+
+
+  test -z "$CC" && { { echo "$as_me:$LINENO: error: no acceptable cc found in \$PATH" >&5
+echo "$as_me: error: no acceptable cc found in \$PATH" >&2;}
+   { (exit 1); exit 1; }; }
+fi
+
+{ echo "$as_me:$LINENO: checking whether we are using GNU C" >&5
+echo $ECHO_N "checking whether we are using GNU C... $ECHO_C" >&6; }
+if test "${ac_cv_c_compiler_gnu+set}" = set; then
+  echo $ECHO_N "(cached) $ECHO_C" >&6
+else
+  cat > conftest.c <<EOF
+#ifdef __GNUC__
+  yes;
+#endif
+EOF
+if { ac_try='${CC-cc} -E conftest.c'
+  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
+  (eval $ac_try) 2>&5
+  ac_status=$?
+  echo "$as_me:$LINENO: \$? = $ac_status" >&5
+  (exit $ac_status); }; } | egrep yes >/dev/null 2>&1; then
+  ac_cv_c_compiler_gnu=yes
+else
+  ac_cv_c_compiler_gnu=no
+fi
+fi
+{ echo "$as_me:$LINENO: result: $ac_cv_c_compiler_gnu" >&5
+echo "${ECHO_T}$ac_cv_c_compiler_gnu" >&6; }
+
+if test $ac_cv_c_compiler_gnu = yes; then
+  GCC=yes
+  ac_test_CFLAGS="${CFLAGS+set}"
+  ac_save_CFLAGS="$CFLAGS"
+  CFLAGS=
+  ac_test_CFLAGS=${CFLAGS+set}
+ac_save_CFLAGS=$CFLAGS
+{ echo "$as_me:$LINENO: checking whether $CC accepts -g" >&5
+echo $ECHO_N "checking whether $CC accepts -g... $ECHO_C" >&6; }
+if test "${ac_cv_prog_cc_g+set}" = set; then
+  echo $ECHO_N "(cached) $ECHO_C" >&6
+else
+  ac_save_c_werror_flag=$ac_c_werror_flag
+   ac_c_werror_flag=yes
+   ac_cv_prog_cc_g=no
+   CFLAGS="-g"
+   cat >conftest.$ac_ext <<_ACEOF
+/* confdefs.h.  */
+_ACEOF
+cat confdefs.h >>conftest.$ac_ext
+cat >>conftest.$ac_ext <<_ACEOF
+/* end confdefs.h.  */
+
+int
+main ()
+{
+
+  ;
+  return 0;
+}
+_ACEOF
+rm -f conftest.$ac_objext
+if { (ac_try="$ac_compile"
+case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_compile") 2>conftest.er1
+  ac_status=$?
+  grep -v '^ *+' conftest.er1 >conftest.err
+  rm -f conftest.er1
+  cat conftest.err >&5
+  echo "$as_me:$LINENO: \$? = $ac_status" >&5
+  (exit $ac_status); } && {
+	 test -z "$ac_c_werror_flag" ||
+	 test ! -s conftest.err
+       } && test -s conftest.$ac_objext; then
+  ac_cv_prog_cc_g=yes
+else
+  echo "$as_me: failed program was:" >&5
+sed 's/^/| /' conftest.$ac_ext >&5
+
+	CFLAGS=""
+      cat >conftest.$ac_ext <<_ACEOF
+/* confdefs.h.  */
+_ACEOF
+cat confdefs.h >>conftest.$ac_ext
+cat >>conftest.$ac_ext <<_ACEOF
+/* end confdefs.h.  */
+
+int
+main ()
+{
+
+  ;
+  return 0;
+}
+_ACEOF
+rm -f conftest.$ac_objext
+if { (ac_try="$ac_compile"
+case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_compile") 2>conftest.er1
+  ac_status=$?
+  grep -v '^ *+' conftest.er1 >conftest.err
+  rm -f conftest.er1
+  cat conftest.err >&5
+  echo "$as_me:$LINENO: \$? = $ac_status" >&5
+  (exit $ac_status); } && {
+	 test -z "$ac_c_werror_flag" ||
+	 test ! -s conftest.err
+       } && test -s conftest.$ac_objext; then
+  :
+else
+  echo "$as_me: failed program was:" >&5
+sed 's/^/| /' conftest.$ac_ext >&5
+
+	ac_c_werror_flag=$ac_save_c_werror_flag
+	 CFLAGS="-g"
+	 cat >conftest.$ac_ext <<_ACEOF
+/* confdefs.h.  */
+_ACEOF
+cat confdefs.h >>conftest.$ac_ext
+cat >>conftest.$ac_ext <<_ACEOF
+/* end confdefs.h.  */
+
+int
+main ()
+{
+
+  ;
+  return 0;
+}
+_ACEOF
+rm -f conftest.$ac_objext
+if { (ac_try="$ac_compile"
+case "(($ac_try" in
+  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
+  *) ac_try_echo=$ac_try;;
+esac
+eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
+  (eval "$ac_compile") 2>conftest.er1
+  ac_status=$?
+  grep -v '^ *+' conftest.er1 >conftest.err
+  rm -f conftest.er1
+  cat conftest.err >&5
+  echo "$as_me:$LINENO: \$? = $ac_status" >&5
+  (exit $ac_status); } && {
+	 test -z "$ac_c_werror_flag" ||
+	 test ! -s conftest.err
+       } && test -s conftest.$ac_objext; then
+  ac_cv_prog_cc_g=yes
+else
+  echo "$as_me: failed program was:" >&5
+sed 's/^/| /' conftest.$ac_ext >&5
+
+
+fi
+
+rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
+fi
+
+rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
+fi
+
+rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
+   ac_c_werror_flag=$ac_save_c_werror_flag
+fi
+{ echo "$as_me:$LINENO: result: $ac_cv_prog_cc_g" >&5
+echo "${ECHO_T}$ac_cv_prog_cc_g" >&6; }
+if test "$ac_test_CFLAGS" = set; then
+  CFLAGS=$ac_save_CFLAGS
+elif test $ac_cv_prog_cc_g = yes; then
+  if test "$GCC" = yes; then
+    CFLAGS="-g -O2"
+  else
+    CFLAGS="-g"
+  fi
+else
+  if test "$GCC" = yes; then
+    CFLAGS="-O2"
+  else
+    CFLAGS=
+  fi
+fi
+  if test "$ac_test_CFLAGS" = set; then
+    CFLAGS="$ac_save_CFLAGS"
+  elif test $ac_cv_prog_cc_g = yes; then
+    CFLAGS="-g -O2"
+  else
+    CFLAGS="-O2"
+  fi
+else
+  GCC=
+  test "${CFLAGS+set}" = set || CFLAGS="-g"
+fi
+
+
+if test -n "$ac_tool_prefix"; then
+  # Extract the first word of "${ac_tool_prefix}as", so it can be a program name with args.
+set dummy ${ac_tool_prefix}as; ac_word=$2
+{ echo "$as_me:$LINENO: checking for $ac_word" >&5
+echo $ECHO_N "checking for $ac_word... $ECHO_C" >&6; }
+if test "${ac_cv_prog_AS+set}" = set; then
+  echo $ECHO_N "(cached) $ECHO_C" >&6
+else
+  if test -n "$AS"; then
+  ac_cv_prog_AS="$AS" # Let the user override the test.
+else
+as_save_IFS=$IFS; IFS=$PATH_SEPARATOR
+for as_dir in $PATH
+do
+  IFS=$as_save_IFS
+  test -z "$as_dir" && as_dir=.
+  for ac_exec_ext in '' $ac_executable_extensions; do
+  if { test -f "$as_dir/$ac_word$ac_exec_ext" && $as_test_x "$as_dir/$ac_word$ac_exec_ext"; }; then
+    ac_cv_prog_AS="${ac_tool_prefix}as"
+    echo "$as_me:$LINENO: found $as_dir/$ac_word$ac_exec_ext" >&5
+    break 2
+  fi
+done
+done
+IFS=$as_save_IFS
+
+fi
+fi
+AS=$ac_cv_prog_AS
+if test -n "$AS"; then
+  { echo "$as_me:$LINENO: result: $AS" >&5
+echo "${ECHO_T}$AS" >&6; }
+else
+  { echo "$as_me:$LINENO: result: no" >&5
+echo "${ECHO_T}no" >&6; }
+fi
+
+
+fi
+if test -z "$ac_cv_prog_AS"; then
+  ac_ct_AS=$AS
+  # Extract the first word of "as", so it can be a program name with args.
+set dummy as; ac_word=$2
+{ echo "$as_me:$LINENO: checking for $ac_word" >&5
+echo $ECHO_N "checking for $ac_word... $ECHO_C" >&6; }
+if test "${ac_cv_prog_ac_ct_AS+set}" = set; then
+  echo $ECHO_N "(cached) $ECHO_C" >&6
+else
+  if test -n "$ac_ct_AS"; then
+  ac_cv_prog_ac_ct_AS="$ac_ct_AS" # Let the user override the test.
+else
+as_save_IFS=$IFS; IFS=$PATH_SEPARATOR
+for as_dir in $PATH
+do
+  IFS=$as_save_IFS
+  test -z "$as_dir" && as_dir=.
+  for ac_exec_ext in '' $ac_executable_extensions; do
+  if { test -f "$as_dir/$ac_word$ac_exec_ext" && $as_test_x "$as_dir/$ac_word$ac_exec_ext"; }; then
+    ac_cv_prog_ac_ct_AS="as"
+    echo "$as_me:$LINENO: found $as_dir/$ac_word$ac_exec_ext" >&5
+    break 2
+  fi
+done
+done
+IFS=$as_save_IFS
+
+fi
+fi
+ac_ct_AS=$ac_cv_prog_ac_ct_AS
+if test -n "$ac_ct_AS"; then
+  { echo "$as_me:$LINENO: result: $ac_ct_AS" >&5
+echo "${ECHO_T}$ac_ct_AS" >&6; }
+else
+  { echo "$as_me:$LINENO: result: no" >&5
+echo "${ECHO_T}no" >&6; }
+fi
+
+  if test "x$ac_ct_AS" = x; then
+    AS=""
+  else
+    case $cross_compiling:$ac_tool_warned in
+yes:)
+{ echo "$as_me:$LINENO: WARNING: In the future, Autoconf will not detect cross-tools
+whose name does not start with the host triplet.  If you think this
+configuration is useful to you, please write to autoconf@gnu.org." >&5
+echo "$as_me: WARNING: In the future, Autoconf will not detect cross-tools
+whose name does not start with the host triplet.  If you think this
+configuration is useful to you, please write to autoconf@gnu.org." >&2;}
+ac_tool_warned=yes ;;
+esac
+    AS=$ac_ct_AS
+  fi
+else
+  AS="$ac_cv_prog_AS"
+fi
+
+if test -n "$ac_tool_prefix"; then
+  # Extract the first word of "${ac_tool_prefix}ar", so it can be a program name with args.
+set dummy ${ac_tool_prefix}ar; ac_word=$2
+{ echo "$as_me:$LINENO: checking for $ac_word" >&5
+echo $ECHO_N "checking for $ac_word... $ECHO_C" >&6; }
+if test "${ac_cv_prog_AR+set}" = set; then
+  echo $ECHO_N "(cached) $ECHO_C" >&6
+else
+  if test -n "$AR"; then
+  ac_cv_prog_AR="$AR" # Let the user override the test.
+else
+as_save_IFS=$IFS; IFS=$PATH_SEPARATOR
+for as_dir in $PATH
+do
+  IFS=$as_save_IFS
+  test -z "$as_dir" && as_dir=.
+  for ac_exec_ext in '' $ac_executable_extensions; do
+  if { test -f "$as_dir/$ac_word$ac_exec_ext" && $as_test_x "$as_dir/$ac_word$ac_exec_ext"; }; then
+    ac_cv_prog_AR="${ac_tool_prefix}ar"
+    echo "$as_me:$LINENO: found $as_dir/$ac_word$ac_exec_ext" >&5
+    break 2
+  fi
+done
+done
+IFS=$as_save_IFS
+
+fi
+fi
+AR=$ac_cv_prog_AR
+if test -n "$AR"; then
+  { echo "$as_me:$LINENO: result: $AR" >&5
+echo "${ECHO_T}$AR" >&6; }
+else
+  { echo "$as_me:$LINENO: result: no" >&5
+echo "${ECHO_T}no" >&6; }
+fi
+
+
+fi
+if test -z "$ac_cv_prog_AR"; then
+  ac_ct_AR=$AR
+  # Extract the first word of "ar", so it can be a program name with args.
+set dummy ar; ac_word=$2
+{ echo "$as_me:$LINENO: checking for $ac_word" >&5
+echo $ECHO_N "checking for $ac_word... $ECHO_C" >&6; }
+if test "${ac_cv_prog_ac_ct_AR+set}" = set; then
+  echo $ECHO_N "(cached) $ECHO_C" >&6
+else
+  if test -n "$ac_ct_AR"; then
+  ac_cv_prog_ac_ct_AR="$ac_ct_AR" # Let the user override the test.
+else
+as_save_IFS=$IFS; IFS=$PATH_SEPARATOR
+for as_dir in $PATH
+do
+  IFS=$as_save_IFS
+  test -z "$as_dir" && as_dir=.
+  for ac_exec_ext in '' $ac_executable_extensions; do
+  if { test -f "$as_dir/$ac_word$ac_exec_ext" && $as_test_x "$as_dir/$ac_word$ac_exec_ext"; }; then
+    ac_cv_prog_ac_ct_AR="ar"
+    echo "$as_me:$LINENO: found $as_dir/$ac_word$ac_exec_ext" >&5
+    break 2
+  fi
+done
+done
+IFS=$as_save_IFS
+
+fi
+fi
+ac_ct_AR=$ac_cv_prog_ac_ct_AR
+if test -n "$ac_ct_AR"; then
+  { echo "$as_me:$LINENO: result: $ac_ct_AR" >&5
+echo "${ECHO_T}$ac_ct_AR" >&6; }
+else
+  { echo "$as_me:$LINENO: result: no" >&5
+echo "${ECHO_T}no" >&6; }
+fi
+
+  if test "x$ac_ct_AR" = x; then
+    AR=""
+  else
+    case $cross_compiling:$ac_tool_warned in
+yes:)
+{ echo "$as_me:$LINENO: WARNING: In the future, Autoconf will not detect cross-tools
+whose name does not start with the host triplet.  If you think this
+configuration is useful to you, please write to autoconf@gnu.org." >&5
+echo "$as_me: WARNING: In the future, Autoconf will not detect cross-tools
+whose name does not start with the host triplet.  If you think this
+configuration is useful to you, please write to autoconf@gnu.org." >&2;}
+ac_tool_warned=yes ;;
+esac
+    AR=$ac_ct_AR
+  fi
+else
+  AR="$ac_cv_prog_AR"
+fi
+
+if test -n "$ac_tool_prefix"; then
+  # Extract the first word of "${ac_tool_prefix}ranlib", so it can be a program name with args.
+set dummy ${ac_tool_prefix}ranlib; ac_word=$2
+{ echo "$as_me:$LINENO: checking for $ac_word" >&5
+echo $ECHO_N "checking for $ac_word... $ECHO_C" >&6; }
+if test "${ac_cv_prog_RANLIB+set}" = set; then
+  echo $ECHO_N "(cached) $ECHO_C" >&6
+else
+  if test -n "$RANLIB"; then
+  ac_cv_prog_RANLIB="$RANLIB" # Let the user override the test.
+else
+as_save_IFS=$IFS; IFS=$PATH_SEPARATOR
+for as_dir in $PATH
+do
+  IFS=$as_save_IFS
+  test -z "$as_dir" && as_dir=.
+  for ac_exec_ext in '' $ac_executable_extensions; do
+  if { test -f "$as_dir/$ac_word$ac_exec_ext" && $as_test_x "$as_dir/$ac_word$ac_exec_ext"; }; then
+    ac_cv_prog_RANLIB="${ac_tool_prefix}ranlib"
+    echo "$as_me:$LINENO: found $as_dir/$ac_word$ac_exec_ext" >&5
+    break 2
+  fi
+done
+done
+IFS=$as_save_IFS
+
+fi
+fi
+RANLIB=$ac_cv_prog_RANLIB
+if test -n "$RANLIB"; then
+  { echo "$as_me:$LINENO: result: $RANLIB" >&5
+echo "${ECHO_T}$RANLIB" >&6; }
+else
+  { echo "$as_me:$LINENO: result: no" >&5
+echo "${ECHO_T}no" >&6; }
+fi
+
+
+fi
+if test -z "$ac_cv_prog_RANLIB"; then
+  ac_ct_RANLIB=$RANLIB
+  # Extract the first word of "ranlib", so it can be a program name with args.
+set dummy ranlib; ac_word=$2
+{ echo "$as_me:$LINENO: checking for $ac_word" >&5
+echo $ECHO_N "checking for $ac_word... $ECHO_C" >&6; }
+if test "${ac_cv_prog_ac_ct_RANLIB+set}" = set; then
+  echo $ECHO_N "(cached) $ECHO_C" >&6
+else
+  if test -n "$ac_ct_RANLIB"; then
+  ac_cv_prog_ac_ct_RANLIB="$ac_ct_RANLIB" # Let the user override the test.
+else
+as_save_IFS=$IFS; IFS=$PATH_SEPARATOR
+for as_dir in $PATH
+do
+  IFS=$as_save_IFS
+  test -z "$as_dir" && as_dir=.
+  for ac_exec_ext in '' $ac_executable_extensions; do
+  if { test -f "$as_dir/$ac_word$ac_exec_ext" && $as_test_x "$as_dir/$ac_word$ac_exec_ext"; }; then
+    ac_cv_prog_ac_ct_RANLIB="ranlib"
+    echo "$as_me:$LINENO: found $as_dir/$ac_word$ac_exec_ext" >&5
+    break 2
+  fi
+done
+done
+IFS=$as_save_IFS
+
+fi
+fi
+ac_ct_RANLIB=$ac_cv_prog_ac_ct_RANLIB
+if test -n "$ac_ct_RANLIB"; then
+  { echo "$as_me:$LINENO: result: $ac_ct_RANLIB" >&5
+echo "${ECHO_T}$ac_ct_RANLIB" >&6; }
+else
+  { echo "$as_me:$LINENO: result: no" >&5
+echo "${ECHO_T}no" >&6; }
+fi
+
+  if test "x$ac_ct_RANLIB" = x; then
+    RANLIB=":"
+  else
+    case $cross_compiling:$ac_tool_warned in
+yes:)
+{ echo "$as_me:$LINENO: WARNING: In the future, Autoconf will not detect cross-tools
+whose name does not start with the host triplet.  If you think this
+configuration is useful to you, please write to autoconf@gnu.org." >&5
+echo "$as_me: WARNING: In the future, Autoconf will not detect cross-tools
+whose name does not start with the host triplet.  If you think this
+configuration is useful to you, please write to autoconf@gnu.org." >&2;}
+ac_tool_warned=yes ;;
+esac
+    RANLIB=$ac_ct_RANLIB
+  fi
+else
+  RANLIB="$ac_cv_prog_RANLIB"
+fi
+
+if test -n "$ac_tool_prefix"; then
+  # Extract the first word of "${ac_tool_prefix}readelf", so it can be a program name with args.
+set dummy ${ac_tool_prefix}readelf; ac_word=$2
+{ echo "$as_me:$LINENO: checking for $ac_word" >&5
+echo $ECHO_N "checking for $ac_word... $ECHO_C" >&6; }
+if test "${ac_cv_prog_READELF+set}" = set; then
+  echo $ECHO_N "(cached) $ECHO_C" >&6
+else
+  if test -n "$READELF"; then
+  ac_cv_prog_READELF="$READELF" # Let the user override the test.
+else
+as_save_IFS=$IFS; IFS=$PATH_SEPARATOR
+for as_dir in $PATH
+do
+  IFS=$as_save_IFS
+  test -z "$as_dir" && as_dir=.
+  for ac_exec_ext in '' $ac_executable_extensions; do
+  if { test -f "$as_dir/$ac_word$ac_exec_ext" && $as_test_x "$as_dir/$ac_word$ac_exec_ext"; }; then
+    ac_cv_prog_READELF="${ac_tool_prefix}readelf"
+    echo "$as_me:$LINENO: found $as_dir/$ac_word$ac_exec_ext" >&5
+    break 2
+  fi
+done
+done
+IFS=$as_save_IFS
+
+fi
+fi
+READELF=$ac_cv_prog_READELF
+if test -n "$READELF"; then
+  { echo "$as_me:$LINENO: result: $READELF" >&5
+echo "${ECHO_T}$READELF" >&6; }
+else
+  { echo "$as_me:$LINENO: result: no" >&5
+echo "${ECHO_T}no" >&6; }
+fi
+
+
+fi
+if test -z "$ac_cv_prog_READELF"; then
+  ac_ct_READELF=$READELF
+  # Extract the first word of "readelf", so it can be a program name with args.
+set dummy readelf; ac_word=$2
+{ echo "$as_me:$LINENO: checking for $ac_word" >&5
+echo $ECHO_N "checking for $ac_word... $ECHO_C" >&6; }
+if test "${ac_cv_prog_ac_ct_READELF+set}" = set; then
+  echo $ECHO_N "(cached) $ECHO_C" >&6
+else
+  if test -n "$ac_ct_READELF"; then
+  ac_cv_prog_ac_ct_READELF="$ac_ct_READELF" # Let the user override the test.
+else
+as_save_IFS=$IFS; IFS=$PATH_SEPARATOR
+for as_dir in $PATH
+do
+  IFS=$as_save_IFS
+  test -z "$as_dir" && as_dir=.
+  for ac_exec_ext in '' $ac_executable_extensions; do
+  if { test -f "$as_dir/$ac_word$ac_exec_ext" && $as_test_x "$as_dir/$ac_word$ac_exec_ext"; }; then
+    ac_cv_prog_ac_ct_READELF="readelf"
+    echo "$as_me:$LINENO: found $as_dir/$ac_word$ac_exec_ext" >&5
+    break 2
+  fi
+done
+done
+IFS=$as_save_IFS
+
+fi
+fi
+ac_ct_READELF=$ac_cv_prog_ac_ct_READELF
+if test -n "$ac_ct_READELF"; then
+  { echo "$as_me:$LINENO: result: $ac_ct_READELF" >&5
+echo "${ECHO_T}$ac_ct_READELF" >&6; }
+else
+  { echo "$as_me:$LINENO: result: no" >&5
+echo "${ECHO_T}no" >&6; }
+fi
+
+  if test "x$ac_ct_READELF" = x; then
+    READELF=":"
+  else
+    case $cross_compiling:$ac_tool_warned in
+yes:)
+{ echo "$as_me:$LINENO: WARNING: In the future, Autoconf will not detect cross-tools
+whose name does not start with the host triplet.  If you think this
+configuration is useful to you, please write to autoconf@gnu.org." >&5
+echo "$as_me: WARNING: In the future, Autoconf will not detect cross-tools
+whose name does not start with the host triplet.  If you think this
+configuration is useful to you, please write to autoconf@gnu.org." >&2;}
+ac_tool_warned=yes ;;
+esac
+    READELF=$ac_ct_READELF
+  fi
+else
+  READELF="$ac_cv_prog_READELF"
+fi
+
+
+# Find a good install program.  We prefer a C program (faster),
+# so one script is as good as another.  But avoid the broken or
+# incompatible versions:
+# SysV /etc/install, /usr/sbin/install
+# SunOS /usr/etc/install
+# IRIX /sbin/install
+# AIX /bin/install
+# AmigaOS /C/install, which installs bootblocks on floppy discs
+# AIX 4 /usr/bin/installbsd, which doesn't work without a -g flag
+# AFS /usr/afsws/bin/install, which mishandles nonexistent args
+# SVR4 /usr/ucb/install, which tries to use the nonexistent group "staff"
+# OS/2's system install, which has a completely different semantic
+# ./install, which can be erroneously created by make from ./install.sh.
+{ echo "$as_me:$LINENO: checking for a BSD-compatible install" >&5
+echo $ECHO_N "checking for a BSD-compatible install... $ECHO_C" >&6; }
+if test -z "$INSTALL"; then
+if test "${ac_cv_path_install+set}" = set; then
+  echo $ECHO_N "(cached) $ECHO_C" >&6
+else
+  as_save_IFS=$IFS; IFS=$PATH_SEPARATOR
+for as_dir in $PATH
+do
+  IFS=$as_save_IFS
+  test -z "$as_dir" && as_dir=.
+  # Account for people who put trailing slashes in PATH elements.
+case $as_dir/ in
+  ./ | .// | /cC/* | \
+  /etc/* | /usr/sbin/* | /usr/etc/* | /sbin/* | /usr/afsws/bin/* | \
+  ?:\\/os2\\/install\\/* | ?:\\/OS2\\/INSTALL\\/* | \
+  /usr/ucb/* ) ;;
+  *)
+    # OSF1 and SCO ODT 3.0 have their own names for install.
+    # Don't use installbsd from OSF since it installs stuff as root
+    # by default.
+    for ac_prog in ginstall scoinst install; do
+      for ac_exec_ext in '' $ac_executable_extensions; do
+	if { test -f "$as_dir/$ac_prog$ac_exec_ext" && $as_test_x "$as_dir/$ac_prog$ac_exec_ext"; }; then
+	  if test $ac_prog = install &&
+	    grep dspmsg "$as_dir/$ac_prog$ac_exec_ext" >/dev/null 2>&1; then
+	    # AIX install.  It has an incompatible calling convention.
+	    :
+	  elif test $ac_prog = install &&
+	    grep pwplus "$as_dir/$ac_prog$ac_exec_ext" >/dev/null 2>&1; then
+	    # program-specific install script used by HP pwplus--don't use.
+	    :
+	  else
+	    ac_cv_path_install="$as_dir/$ac_prog$ac_exec_ext -c"
+	    break 3
+	  fi
+	fi
+      done
+    done
+    ;;
+esac
+done
+IFS=$as_save_IFS
+
+
+fi
+  if test "${ac_cv_path_install+set}" = set; then
+    INSTALL=$ac_cv_path_install
+  else
+    # As a last resort, use the slow shell script.  Don't cache a
+    # value for INSTALL within a source directory, because that will
+    # break other packages using the cache if that directory is
+    # removed, or if the value is a relative name.
+    INSTALL=$ac_install_sh
+  fi
+fi
+{ echo "$as_me:$LINENO: result: $INSTALL" >&5
+echo "${ECHO_T}$INSTALL" >&6; }
+
+# Use test -z because SunOS4 sh mishandles braces in ${var-val}.
+# It thinks the first close brace ends the variable substitution.
+test -z "$INSTALL_PROGRAM" && INSTALL_PROGRAM='${INSTALL}'
+
+test -z "$INSTALL_SCRIPT" && INSTALL_SCRIPT='${INSTALL}'
+
+test -z "$INSTALL_DATA" && INSTALL_DATA='${INSTALL} -m 644'
+
+
+# Hack to ensure that INSTALL won't be set to "../" with autoconf 2.13.  */
+ac_given_INSTALL=$INSTALL
+
+{ echo "$as_me:$LINENO: checking whether to enable maintainer-specific portions of Makefiles" >&5
+echo $ECHO_N "checking whether to enable maintainer-specific portions of Makefiles... $ECHO_C" >&6; }
+    # Check whether --enable-maintainer-mode was given.
+if test "${enable_maintainer_mode+set}" = set; then
+  enableval=$enable_maintainer_mode; USE_MAINTAINER_MODE=$enableval
+else
+  USE_MAINTAINER_MODE=no
+fi
+
+  { echo "$as_me:$LINENO: result: $USE_MAINTAINER_MODE" >&5
+echo "${ECHO_T}$USE_MAINTAINER_MODE" >&6; }
+
+
+if test $USE_MAINTAINER_MODE = yes; then
+  MAINTAINER_MODE_TRUE=
+  MAINTAINER_MODE_FALSE='#'
+else
+  MAINTAINER_MODE_TRUE='#'
+  MAINTAINER_MODE_FALSE=
+fi
+
+  MAINT=$MAINTAINER_MODE_TRUE
+
+
+# By default we simply use the C compiler to build assembly code.
+
+test "${CCAS+set}" = set || CCAS=$CC
+test "${CCASFLAGS+set}" = set || CCASFLAGS=$CFLAGS
+
+
+
+
+# We need AC_EXEEXT to keep automake happy in cygnus mode.  However,
+# at least currently, we never actually build a program, so we never
+# need to use $(EXEEXT).  Moreover, the test for EXEEXT normally
+# fails, because we are probably configuring with a cross compiler
+# which can't create executables.  So we include AC_EXEEXT to keep
+# automake happy, but we don't execute it, since we don't care about
+# the result.
+if false; then
+
+  dummy_var=1
+fi
+
+. ${newlib_basedir}/configure.host
+
+newlib_cflags="${newlib_cflags} -fno-builtin"
+
+NEWLIB_CFLAGS=${newlib_cflags}
+
+
+LDFLAGS=${ldflags}
+
+
+
+
+if test x${newlib_elix_level} = x0; then
+  ELIX_LEVEL_0_TRUE=
+  ELIX_LEVEL_0_FALSE='#'
+else
+  ELIX_LEVEL_0_TRUE='#'
+  ELIX_LEVEL_0_FALSE=
+fi
+
+
+
+if test x${newlib_elix_level} = x1; then
+  ELIX_LEVEL_1_TRUE=
+  ELIX_LEVEL_1_FALSE='#'
+else
+  ELIX_LEVEL_1_TRUE='#'
+  ELIX_LEVEL_1_FALSE=
+fi
+
+
+
+if test x${newlib_elix_level} = x2; then
+  ELIX_LEVEL_2_TRUE=
+  ELIX_LEVEL_2_FALSE='#'
+else
+  ELIX_LEVEL_2_TRUE='#'
+  ELIX_LEVEL_2_FALSE=
+fi
+
+
+
+if test x${newlib_elix_level} = x3; then
+  ELIX_LEVEL_3_TRUE=
+  ELIX_LEVEL_3_FALSE='#'
+else
+  ELIX_LEVEL_3_TRUE='#'
+  ELIX_LEVEL_3_FALSE=
+fi
+
+
+
+if test x${newlib_elix_level} = x4; then
+  ELIX_LEVEL_4_TRUE=
+  ELIX_LEVEL_4_FALSE='#'
+else
+  ELIX_LEVEL_4_TRUE='#'
+  ELIX_LEVEL_4_FALSE=
+fi
+
+
+
+
+if test x${use_libtool} = xyes; then
+  USE_LIBTOOL_TRUE=
+  USE_LIBTOOL_FALSE='#'
+else
+  USE_LIBTOOL_TRUE='#'
+  USE_LIBTOOL_FALSE=
+fi
+
+
+# Hard-code OBJEXT.  Normally it is set by AC_OBJEXT, but we
+# use oext, which is set in configure.host based on the target platform.
+OBJEXT=${oext}
+
+
+
+
+
+
+
+
+
+
+
+ac_config_files="$ac_config_files Makefile"
+
+cat >confcache <<\_ACEOF
+# This file is a shell script that caches the results of configure
+# tests run on this system so they can be shared between configure
+# scripts and configure runs, see configure's option --config-cache.
+# It is not useful on other systems.  If it contains results you don't
+# want to keep, you may remove or edit it.
+#
+# config.status only pays attention to the cache file if you give it
+# the --recheck option to rerun configure.
+#
+# `ac_cv_env_foo' variables (set or unset) will be overridden when
+# loading this file, other *unset* `ac_cv_foo' will be assigned the
+# following values.
+
+_ACEOF
+
+# The following way of writing the cache mishandles newlines in values,
+# but we know of no workaround that is simple, portable, and efficient.
+# So, we kill variables containing newlines.
+# Ultrix sh set writes to stderr and can't be redirected directly,
+# and sets the high bit in the cache file unless we assign to the vars.
+(
+  for ac_var in `(set) 2>&1 | sed -n 's/^\([a-zA-Z_][a-zA-Z0-9_]*\)=.*/\1/p'`; do
+    eval ac_val=\$$ac_var
+    case $ac_val in #(
+    *${as_nl}*)
+      case $ac_var in #(
+      *_cv_*) { echo "$as_me:$LINENO: WARNING: Cache variable $ac_var contains a newline." >&5
+echo "$as_me: WARNING: Cache variable $ac_var contains a newline." >&2;} ;;
+      esac
+      case $ac_var in #(
+      _ | IFS | as_nl) ;; #(
+      *) $as_unset $ac_var ;;
+      esac ;;
+    esac
+  done
+
+  (set) 2>&1 |
+    case $as_nl`(ac_space=' '; set) 2>&1` in #(
+    *${as_nl}ac_space=\ *)
+      # `set' does not quote correctly, so add quotes (double-quote
+      # substitution turns \\\\ into \\, and sed turns \\ into \).
+      sed -n \
+	"s/'/'\\\\''/g;
+	  s/^\\([_$as_cr_alnum]*_cv_[_$as_cr_alnum]*\\)=\\(.*\\)/\\1='\\2'/p"
+      ;; #(
+    *)
+      # `set' quotes correctly as required by POSIX, so do not add quotes.
+      sed -n "/^[_$as_cr_alnum]*_cv_[_$as_cr_alnum]*=/p"
+      ;;
+    esac |
+    sort
+) |
+  sed '
+     /^ac_cv_env_/b end
+     t clear
+     :clear
+     s/^\([^=]*\)=\(.*[{}].*\)$/test "${\1+set}" = set || &/
+     t end
+     s/^\([^=]*\)=\(.*\)$/\1=${\1=\2}/
+     :end' >>confcache
+if diff "$cache_file" confcache >/dev/null 2>&1; then :; else
+  if test -w "$cache_file"; then
+    test "x$cache_file" != "x/dev/null" &&
+      { echo "$as_me:$LINENO: updating cache $cache_file" >&5
+echo "$as_me: updating cache $cache_file" >&6;}
+    cat confcache >$cache_file
+  else
+    { echo "$as_me:$LINENO: not updating unwritable cache $cache_file" >&5
+echo "$as_me: not updating unwritable cache $cache_file" >&6;}
+  fi
+fi
+rm -f confcache
+
+test "x$prefix" = xNONE && prefix=$ac_default_prefix
+# Let make expand exec_prefix.
+test "x$exec_prefix" = xNONE && exec_prefix='${prefix}'
+
+# Transform confdefs.h into DEFS.
+# Protect against shell expansion while executing Makefile rules.
+# Protect against Makefile macro expansion.
+#
+# If the first sed substitution is executed (which looks for macros that
+# take arguments), then branch to the quote section.  Otherwise,
+# look for a macro that doesn't take arguments.
+ac_script='
+t clear
+:clear
+s/^[	 ]*#[	 ]*define[	 ][	 ]*\([^	 (][^	 (]*([^)]*)\)[	 ]*\(.*\)/-D\1=\2/g
+t quote
+s/^[	 ]*#[	 ]*define[	 ][	 ]*\([^	 ][^	 ]*\)[	 ]*\(.*\)/-D\1=\2/g
+t quote
+b any
+:quote
+s/[	 `~#$^&*(){}\\|;'\''"<>?]/\\&/g
+s/\[/\\&/g
+s/\]/\\&/g
+s/\$/$$/g
+H
+:any
+${
+	g
+	s/^\n//
+	s/\n/ /g
+	p
+}
+'
+DEFS=`sed -n "$ac_script" confdefs.h`
+
+
+ac_libobjs=
+ac_ltlibobjs=
+for ac_i in : $LIBOBJS; do test "x$ac_i" = x: && continue
+  # 1. Remove the extension, and $U if already installed.
+  ac_script='s/\$U\././;s/\.o$//;s/\.obj$//'
+  ac_i=`echo "$ac_i" | sed "$ac_script"`
+  # 2. Prepend LIBOBJDIR.  When used with automake>=1.10 LIBOBJDIR
+  #    will be set to the directory where LIBOBJS objects are built.
+  ac_libobjs="$ac_libobjs \${LIBOBJDIR}$ac_i\$U.$ac_objext"
+  ac_ltlibobjs="$ac_ltlibobjs \${LIBOBJDIR}$ac_i"'$U.lo'
+done
+LIBOBJS=$ac_libobjs
+
+LTLIBOBJS=$ac_ltlibobjs
+
+
+if test -z "${MAY_SUPPLY_SYSCALLS_TRUE}" && test -z "${MAY_SUPPLY_SYSCALLS_FALSE}"; then
+  { { echo "$as_me:$LINENO: error: conditional \"MAY_SUPPLY_SYSCALLS\" was never defined.
+Usually this means the macro was only invoked conditionally." >&5
+echo "$as_me: error: conditional \"MAY_SUPPLY_SYSCALLS\" was never defined.
+Usually this means the macro was only invoked conditionally." >&2;}
+   { (exit 1); exit 1; }; }
+fi
+if test -z "${AMDEP_TRUE}" && test -z "${AMDEP_FALSE}"; then
+  { { echo "$as_me:$LINENO: error: conditional \"AMDEP\" was never defined.
+Usually this means the macro was only invoked conditionally." >&5
+echo "$as_me: error: conditional \"AMDEP\" was never defined.
+Usually this means the macro was only invoked conditionally." >&2;}
+   { (exit 1); exit 1; }; }
+fi
+if test -z "${am__fastdepCC_TRUE}" && test -z "${am__fastdepCC_FALSE}"; then
+  { { echo "$as_me:$LINENO: error: conditional \"am__fastdepCC\" was never defined.
+Usually this means the macro was only invoked conditionally." >&5
+echo "$as_me: error: conditional \"am__fastdepCC\" was never defined.
+Usually this means the macro was only invoked conditionally." >&2;}
+   { (exit 1); exit 1; }; }
+fi
+if test -z "${MAINTAINER_MODE_TRUE}" && test -z "${MAINTAINER_MODE_FALSE}"; then
+  { { echo "$as_me:$LINENO: error: conditional \"MAINTAINER_MODE\" was never defined.
+Usually this means the macro was only invoked conditionally." >&5
+echo "$as_me: error: conditional \"MAINTAINER_MODE\" was never defined.
+Usually this means the macro was only invoked conditionally." >&2;}
+   { (exit 1); exit 1; }; }
+fi
+if test -z "${ELIX_LEVEL_0_TRUE}" && test -z "${ELIX_LEVEL_0_FALSE}"; then
+  { { echo "$as_me:$LINENO: error: conditional \"ELIX_LEVEL_0\" was never defined.
+Usually this means the macro was only invoked conditionally." >&5
+echo "$as_me: error: conditional \"ELIX_LEVEL_0\" was never defined.
+Usually this means the macro was only invoked conditionally." >&2;}
+   { (exit 1); exit 1; }; }
+fi
+if test -z "${ELIX_LEVEL_1_TRUE}" && test -z "${ELIX_LEVEL_1_FALSE}"; then
+  { { echo "$as_me:$LINENO: error: conditional \"ELIX_LEVEL_1\" was never defined.
+Usually this means the macro was only invoked conditionally." >&5
+echo "$as_me: error: conditional \"ELIX_LEVEL_1\" was never defined.
+Usually this means the macro was only invoked conditionally." >&2;}
+   { (exit 1); exit 1; }; }
+fi
+if test -z "${ELIX_LEVEL_2_TRUE}" && test -z "${ELIX_LEVEL_2_FALSE}"; then
+  { { echo "$as_me:$LINENO: error: conditional \"ELIX_LEVEL_2\" was never defined.
+Usually this means the macro was only invoked conditionally." >&5
+echo "$as_me: error: conditional \"ELIX_LEVEL_2\" was never defined.
+Usually this means the macro was only invoked conditionally." >&2;}
+   { (exit 1); exit 1; }; }
+fi
+if test -z "${ELIX_LEVEL_3_TRUE}" && test -z "${ELIX_LEVEL_3_FALSE}"; then
+  { { echo "$as_me:$LINENO: error: conditional \"ELIX_LEVEL_3\" was never defined.
+Usually this means the macro was only invoked conditionally." >&5
+echo "$as_me: error: conditional \"ELIX_LEVEL_3\" was never defined.
+Usually this means the macro was only invoked conditionally." >&2;}
+   { (exit 1); exit 1; }; }
+fi
+if test -z "${ELIX_LEVEL_4_TRUE}" && test -z "${ELIX_LEVEL_4_FALSE}"; then
+  { { echo "$as_me:$LINENO: error: conditional \"ELIX_LEVEL_4\" was never defined.
+Usually this means the macro was only invoked conditionally." >&5
+echo "$as_me: error: conditional \"ELIX_LEVEL_4\" was never defined.
+Usually this means the macro was only invoked conditionally." >&2;}
+   { (exit 1); exit 1; }; }
+fi
+if test -z "${USE_LIBTOOL_TRUE}" && test -z "${USE_LIBTOOL_FALSE}"; then
+  { { echo "$as_me:$LINENO: error: conditional \"USE_LIBTOOL\" was never defined.
+Usually this means the macro was only invoked conditionally." >&5
+echo "$as_me: error: conditional \"USE_LIBTOOL\" was never defined.
+Usually this means the macro was only invoked conditionally." >&2;}
+   { (exit 1); exit 1; }; }
+fi
+
+: ${CONFIG_STATUS=./config.status}
+ac_clean_files_save=$ac_clean_files
+ac_clean_files="$ac_clean_files $CONFIG_STATUS"
+{ echo "$as_me:$LINENO: creating $CONFIG_STATUS" >&5
+echo "$as_me: creating $CONFIG_STATUS" >&6;}
+cat >$CONFIG_STATUS <<_ACEOF
+#! $SHELL
+# Generated by $as_me.
+# Run this file to recreate the current configuration.
+# Compiler output produced by configure, useful for debugging
+# configure, is in config.log if it exists.
+
+debug=false
+ac_cs_recheck=false
+ac_cs_silent=false
+SHELL=\${CONFIG_SHELL-$SHELL}
+_ACEOF
+
+cat >>$CONFIG_STATUS <<\_ACEOF
+## --------------------- ##
+## M4sh Initialization.  ##
+## --------------------- ##
+
+# Be more Bourne compatible
+DUALCASE=1; export DUALCASE # for MKS sh
+if test -n "${ZSH_VERSION+set}" && (emulate sh) >/dev/null 2>&1; then
+  emulate sh
+  NULLCMD=:
+  # Zsh 3.x and 4.x performs word splitting on ${1+"$@"}, which
+  # is contrary to our usage.  Disable this feature.
+  alias -g '${1+"$@"}'='"$@"'
+  setopt NO_GLOB_SUBST
+else
+  case `(set -o) 2>/dev/null` in
+  *posix*) set -o posix ;;
+esac
+
+fi
+
+
+
+
+# PATH needs CR
+# Avoid depending upon Character Ranges.
+as_cr_letters='abcdefghijklmnopqrstuvwxyz'
+as_cr_LETTERS='ABCDEFGHIJKLMNOPQRSTUVWXYZ'
+as_cr_Letters=$as_cr_letters$as_cr_LETTERS
+as_cr_digits='0123456789'
+as_cr_alnum=$as_cr_Letters$as_cr_digits
+
+# The user is always right.
+if test "${PATH_SEPARATOR+set}" != set; then
+  echo "#! /bin/sh" >conf$$.sh
+  echo  "exit 0"   >>conf$$.sh
+  chmod +x conf$$.sh
+  if (PATH="/nonexistent;."; conf$$.sh) >/dev/null 2>&1; then
+    PATH_SEPARATOR=';'
+  else
+    PATH_SEPARATOR=:
+  fi
+  rm -f conf$$.sh
+fi
+
+# Support unset when possible.
+if ( (MAIL=60; unset MAIL) || exit) >/dev/null 2>&1; then
+  as_unset=unset
+else
+  as_unset=false
+fi
+
+
+# IFS
+# We need space, tab and new line, in precisely that order.  Quoting is
+# there to prevent editors from complaining about space-tab.
+# (If _AS_PATH_WALK were called with IFS unset, it would disable word
+# splitting by setting IFS to empty value.)
+as_nl='
+'
+IFS=" ""	$as_nl"
+
+# Find who we are.  Look in the path if we contain no directory separator.
+case $0 in
+  *[\\/]* ) as_myself=$0 ;;
+  *) as_save_IFS=$IFS; IFS=$PATH_SEPARATOR
+for as_dir in $PATH
+do
+  IFS=$as_save_IFS
+  test -z "$as_dir" && as_dir=.
+  test -r "$as_dir/$0" && as_myself=$as_dir/$0 && break
+done
+IFS=$as_save_IFS
+
+     ;;
+esac
+# We did not find ourselves, most probably we were run as `sh COMMAND'
+# in which case we are not to be found in the path.
+if test "x$as_myself" = x; then
+  as_myself=$0
+fi
+if test ! -f "$as_myself"; then
+  echo "$as_myself: error: cannot find myself; rerun with an absolute file name" >&2
+  { (exit 1); exit 1; }
+fi
+
+# Work around bugs in pre-3.0 UWIN ksh.
+for as_var in ENV MAIL MAILPATH
+do ($as_unset $as_var) >/dev/null 2>&1 && $as_unset $as_var
+done
+PS1='$ '
+PS2='> '
+PS4='+ '
+
+# NLS nuisances.
+for as_var in \
+  LANG LANGUAGE LC_ADDRESS LC_ALL LC_COLLATE LC_CTYPE LC_IDENTIFICATION \
+  LC_MEASUREMENT LC_MESSAGES LC_MONETARY LC_NAME LC_NUMERIC LC_PAPER \
+  LC_TELEPHONE LC_TIME
+do
+  if (set +x; test -z "`(eval $as_var=C; export $as_var) 2>&1`"); then
+    eval $as_var=C; export $as_var
+  else
+    ($as_unset $as_var) >/dev/null 2>&1 && $as_unset $as_var
+  fi
+done
+
+# Required to use basename.
+if expr a : '\(a\)' >/dev/null 2>&1 &&
+   test "X`expr 00001 : '.*\(...\)'`" = X001; then
+  as_expr=expr
+else
+  as_expr=false
+fi
+
+if (basename -- /) >/dev/null 2>&1 && test "X`basename -- / 2>&1`" = "X/"; then
+  as_basename=basename
+else
+  as_basename=false
+fi
+
+
+# Name of the executable.
+as_me=`$as_basename -- "$0" ||
+$as_expr X/"$0" : '.*/\([^/][^/]*\)/*$' \| \
+	 X"$0" : 'X\(//\)$' \| \
+	 X"$0" : 'X\(/\)' \| . 2>/dev/null ||
+echo X/"$0" |
+    sed '/^.*\/\([^/][^/]*\)\/*$/{
+	    s//\1/
+	    q
+	  }
+	  /^X\/\(\/\/\)$/{
+	    s//\1/
+	    q
+	  }
+	  /^X\/\(\/\).*/{
+	    s//\1/
+	    q
+	  }
+	  s/.*/./; q'`
+
+# CDPATH.
+$as_unset CDPATH
+
+
+
+  as_lineno_1=$LINENO
+  as_lineno_2=$LINENO
+  test "x$as_lineno_1" != "x$as_lineno_2" &&
+  test "x`expr $as_lineno_1 + 1`" = "x$as_lineno_2" || {
+
+  # Create $as_me.lineno as a copy of $as_myself, but with $LINENO
+  # uniformly replaced by the line number.  The first 'sed' inserts a
+  # line-number line after each line using $LINENO; the second 'sed'
+  # does the real work.  The second script uses 'N' to pair each
+  # line-number line with the line containing $LINENO, and appends
+  # trailing '-' during substitution so that $LINENO is not a special
+  # case at line end.
+  # (Raja R Harinath suggested sed '=', and Paul Eggert wrote the
+  # scripts with optimization help from Paolo Bonzini.  Blame Lee
+  # E. McMahon (1931-1989) for sed's syntax.  :-)
+  sed -n '
+    p
+    /[$]LINENO/=
+  ' <$as_myself |
+    sed '
+      s/[$]LINENO.*/&-/
+      t lineno
+      b
+      :lineno
+      N
+      :loop
+      s/[$]LINENO\([^'$as_cr_alnum'_].*\n\)\(.*\)/\2\1\2/
+      t loop
+      s/-\n.*//
+    ' >$as_me.lineno &&
+  chmod +x "$as_me.lineno" ||
+    { echo "$as_me: error: cannot create $as_me.lineno; rerun with a POSIX shell" >&2
+   { (exit 1); exit 1; }; }
+
+  # Don't try to exec as it changes $[0], causing all sort of problems
+  # (the dirname of $[0] is not the place where we might find the
+  # original and so on.  Autoconf is especially sensitive to this).
+  . "./$as_me.lineno"
+  # Exit status is that of the last command.
+  exit
+}
+
+
+if (as_dir=`dirname -- /` && test "X$as_dir" = X/) >/dev/null 2>&1; then
+  as_dirname=dirname
+else
+  as_dirname=false
+fi
+
+ECHO_C= ECHO_N= ECHO_T=
+case `echo -n x` in
+-n*)
+  case `echo 'x\c'` in
+  *c*) ECHO_T='	';;	# ECHO_T is single tab character.
+  *)   ECHO_C='\c';;
+  esac;;
+*)
+  ECHO_N='-n';;
+esac
+
+if expr a : '\(a\)' >/dev/null 2>&1 &&
+   test "X`expr 00001 : '.*\(...\)'`" = X001; then
+  as_expr=expr
+else
+  as_expr=false
+fi
+
+rm -f conf$$ conf$$.exe conf$$.file
+if test -d conf$$.dir; then
+  rm -f conf$$.dir/conf$$.file
+else
+  rm -f conf$$.dir
+  mkdir conf$$.dir
+fi
+echo >conf$$.file
+if ln -s conf$$.file conf$$ 2>/dev/null; then
+  as_ln_s='ln -s'
+  # ... but there are two gotchas:
+  # 1) On MSYS, both `ln -s file dir' and `ln file dir' fail.
+  # 2) DJGPP < 2.04 has no symlinks; `ln -s' creates a wrapper executable.
+  # In both cases, we have to default to `cp -p'.
+  ln -s conf$$.file conf$$.dir 2>/dev/null && test ! -f conf$$.exe ||
+    as_ln_s='cp -p'
+elif ln conf$$.file conf$$ 2>/dev/null; then
+  as_ln_s=ln
+else
+  as_ln_s='cp -p'
+fi
+rm -f conf$$ conf$$.exe conf$$.dir/conf$$.file conf$$.file
+rmdir conf$$.dir 2>/dev/null
+
+if mkdir -p . 2>/dev/null; then
+  as_mkdir_p=:
+else
+  test -d ./-p && rmdir ./-p
+  as_mkdir_p=false
+fi
+
+if test -x / >/dev/null 2>&1; then
+  as_test_x='test -x'
+else
+  if ls -dL / >/dev/null 2>&1; then
+    as_ls_L_option=L
+  else
+    as_ls_L_option=
+  fi
+  as_test_x='
+    eval sh -c '\''
+      if test -d "$1"; then
+        test -d "$1/.";
+      else
+	case $1 in
+        -*)set "./$1";;
+	esac;
+	case `ls -ld'$as_ls_L_option' "$1" 2>/dev/null` in
+	???[sx]*):;;*)false;;esac;fi
+    '\'' sh
+  '
+fi
+as_executable_p=$as_test_x
+
+# Sed expression to map a string onto a valid CPP name.
+as_tr_cpp="eval sed 'y%*$as_cr_letters%P$as_cr_LETTERS%;s%[^_$as_cr_alnum]%_%g'"
+
+# Sed expression to map a string onto a valid variable name.
+as_tr_sh="eval sed 'y%*+%pp%;s%[^_$as_cr_alnum]%_%g'"
+
+
+exec 6>&1
+
+# Save the log message, to keep $[0] and so on meaningful, and to
+# report actual input values of CONFIG_FILES etc. instead of their
+# values after options handling.
+ac_log="
+This file was extended by newlib $as_me 1.15.0, which was
+generated by GNU Autoconf 2.61.  Invocation command line was
+
+  CONFIG_FILES    = $CONFIG_FILES
+  CONFIG_HEADERS  = $CONFIG_HEADERS
+  CONFIG_LINKS    = $CONFIG_LINKS
+  CONFIG_COMMANDS = $CONFIG_COMMANDS
+  $ $0 $@
+
+on `(hostname || uname -n) 2>/dev/null | sed 1q`
+"
+
+_ACEOF
+
+cat >>$CONFIG_STATUS <<_ACEOF
+# Files that config.status was made for.
+config_files="$ac_config_files"
+config_commands="$ac_config_commands"
+
+_ACEOF
+
+cat >>$CONFIG_STATUS <<\_ACEOF
+ac_cs_usage="\
+\`$as_me' instantiates files from templates according to the
+current configuration.
+
+Usage: $0 [OPTIONS] [FILE]...
+
+  -h, --help       print this help, then exit
+  -V, --version    print version number and configuration settings, then exit
+  -q, --quiet      do not print progress messages
+  -d, --debug      don't remove temporary files
+      --recheck    update $as_me by reconfiguring in the same conditions
+  --file=FILE[:TEMPLATE]
+		   instantiate the configuration file FILE
+
+Configuration files:
+$config_files
+
+Configuration commands:
+$config_commands
+
+Report bugs to <bug-autoconf@gnu.org>."
+
+_ACEOF
+cat >>$CONFIG_STATUS <<_ACEOF
+ac_cs_version="\\
+newlib config.status 1.15.0
+configured by $0, generated by GNU Autoconf 2.61,
+  with options \\"`echo "$ac_configure_args" | sed 's/^ //; s/[\\""\`\$]/\\\\&/g'`\\"
+
+Copyright (C) 2006 Free Software Foundation, Inc.
+This config.status script is free software; the Free Software Foundation
+gives unlimited permission to copy, distribute and modify it."
+
+ac_pwd='$ac_pwd'
+srcdir='$srcdir'
+INSTALL='$INSTALL'
+_ACEOF
+
+cat >>$CONFIG_STATUS <<\_ACEOF
+# If no file are specified by the user, then we need to provide default
+# value.  By we need to know if files were specified by the user.
+ac_need_defaults=:
+while test $# != 0
+do
+  case $1 in
+  --*=*)
+    ac_option=`expr "X$1" : 'X\([^=]*\)='`
+    ac_optarg=`expr "X$1" : 'X[^=]*=\(.*\)'`
+    ac_shift=:
+    ;;
+  *)
+    ac_option=$1
+    ac_optarg=$2
+    ac_shift=shift
+    ;;
+  esac
+
+  case $ac_option in
+  # Handling of the options.
+  -recheck | --recheck | --rechec | --reche | --rech | --rec | --re | --r)
+    ac_cs_recheck=: ;;
+  --version | --versio | --versi | --vers | --ver | --ve | --v | -V )
+    echo "$ac_cs_version"; exit ;;
+  --debug | --debu | --deb | --de | --d | -d )
+    debug=: ;;
+  --file | --fil | --fi | --f )
+    $ac_shift
+    CONFIG_FILES="$CONFIG_FILES $ac_optarg"
+    ac_need_defaults=false;;
+  --he | --h |  --help | --hel | -h )
+    echo "$ac_cs_usage"; exit ;;
+  -q | -quiet | --quiet | --quie | --qui | --qu | --q \
+  | -silent | --silent | --silen | --sile | --sil | --si | --s)
+    ac_cs_silent=: ;;
+
+  # This is an error.
+  -*) { echo "$as_me: error: unrecognized option: $1
+Try \`$0 --help' for more information." >&2
+   { (exit 1); exit 1; }; } ;;
+
+  *) ac_config_targets="$ac_config_targets $1"
+     ac_need_defaults=false ;;
+
+  esac
+  shift
+done
+
+ac_configure_extra_args=
+
+if $ac_cs_silent; then
+  exec 6>/dev/null
+  ac_configure_extra_args="$ac_configure_extra_args --silent"
+fi
+
+_ACEOF
+cat >>$CONFIG_STATUS <<_ACEOF
+if \$ac_cs_recheck; then
+  echo "running CONFIG_SHELL=$SHELL $SHELL $0 "$ac_configure_args \$ac_configure_extra_args " --no-create --no-recursion" >&6
+  CONFIG_SHELL=$SHELL
+  export CONFIG_SHELL
+  exec $SHELL "$0"$ac_configure_args \$ac_configure_extra_args --no-create --no-recursion
+fi
+
+_ACEOF
+cat >>$CONFIG_STATUS <<\_ACEOF
+exec 5>>config.log
+{
+  echo
+  sed 'h;s/./-/g;s/^.../## /;s/...$/ ##/;p;x;p;x' <<_ASBOX
+## Running $as_me. ##
+_ASBOX
+  echo "$ac_log"
+} >&5
+
+_ACEOF
+cat >>$CONFIG_STATUS <<_ACEOF
+#
+# INIT-COMMANDS
+#
+AMDEP_TRUE="$AMDEP_TRUE" ac_aux_dir="$ac_aux_dir"
+
+_ACEOF
+
+cat >>$CONFIG_STATUS <<\_ACEOF
+
+# Handling of arguments.
+for ac_config_target in $ac_config_targets
+do
+  case $ac_config_target in
+    "depfiles") CONFIG_COMMANDS="$CONFIG_COMMANDS depfiles" ;;
+    "Makefile") CONFIG_FILES="$CONFIG_FILES Makefile" ;;
+
+  *) { { echo "$as_me:$LINENO: error: invalid argument: $ac_config_target" >&5
+echo "$as_me: error: invalid argument: $ac_config_target" >&2;}
+   { (exit 1); exit 1; }; };;
+  esac
+done
+
+
+# If the user did not use the arguments to specify the items to instantiate,
+# then the envvar interface is used.  Set only those that are not.
+# We use the long form for the default assignment because of an extremely
+# bizarre bug on SunOS 4.1.3.
+if $ac_need_defaults; then
+  test "${CONFIG_FILES+set}" = set || CONFIG_FILES=$config_files
+  test "${CONFIG_COMMANDS+set}" = set || CONFIG_COMMANDS=$config_commands
+fi
+
+# Have a temporary directory for convenience.  Make it in the build tree
+# simply because there is no reason against having it here, and in addition,
+# creating and moving files from /tmp can sometimes cause problems.
+# Hook for its removal unless debugging.
+# Note that there is a small window in which the directory will not be cleaned:
+# after its creation but before its name has been assigned to `$tmp'.
+$debug ||
+{
+  tmp=
+  trap 'exit_status=$?
+  { test -z "$tmp" || test ! -d "$tmp" || rm -fr "$tmp"; } && exit $exit_status
+' 0
+  trap '{ (exit 1); exit 1; }' 1 2 13 15
+}
+# Create a (secure) tmp directory for tmp files.
+
+{
+  tmp=`(umask 077 && mktemp -d "./confXXXXXX") 2>/dev/null` &&
+  test -n "$tmp" && test -d "$tmp"
+}  ||
+{
+  tmp=./conf$$-$RANDOM
+  (umask 077 && mkdir "$tmp")
+} ||
+{
+   echo "$me: cannot create a temporary directory in ." >&2
+   { (exit 1); exit 1; }
+}
+
+#
+# Set up the sed scripts for CONFIG_FILES section.
+#
+
+# No need to generate the scripts if there are no CONFIG_FILES.
+# This happens for instance when ./config.status config.h
+if test -n "$CONFIG_FILES"; then
+
+_ACEOF
+
+
+
+ac_delim='%!_!# '
+for ac_last_try in false false false false false :; do
+  cat >conf$$subs.sed <<_ACEOF
+SHELL!$SHELL$ac_delim
+PATH_SEPARATOR!$PATH_SEPARATOR$ac_delim
+PACKAGE_NAME!$PACKAGE_NAME$ac_delim
+PACKAGE_TARNAME!$PACKAGE_TARNAME$ac_delim
+PACKAGE_VERSION!$PACKAGE_VERSION$ac_delim
+PACKAGE_STRING!$PACKAGE_STRING$ac_delim
+PACKAGE_BUGREPORT!$PACKAGE_BUGREPORT$ac_delim
+exec_prefix!$exec_prefix$ac_delim
+prefix!$prefix$ac_delim
+program_transform_name!$program_transform_name$ac_delim
+bindir!$bindir$ac_delim
+sbindir!$sbindir$ac_delim
+libexecdir!$libexecdir$ac_delim
+datarootdir!$datarootdir$ac_delim
+datadir!$datadir$ac_delim
+sysconfdir!$sysconfdir$ac_delim
+sharedstatedir!$sharedstatedir$ac_delim
+localstatedir!$localstatedir$ac_delim
+includedir!$includedir$ac_delim
+oldincludedir!$oldincludedir$ac_delim
+docdir!$docdir$ac_delim
+infodir!$infodir$ac_delim
+htmldir!$htmldir$ac_delim
+dvidir!$dvidir$ac_delim
+pdfdir!$pdfdir$ac_delim
+psdir!$psdir$ac_delim
+libdir!$libdir$ac_delim
+localedir!$localedir$ac_delim
+mandir!$mandir$ac_delim
+DEFS!$DEFS$ac_delim
+ECHO_C!$ECHO_C$ac_delim
+ECHO_N!$ECHO_N$ac_delim
+ECHO_T!$ECHO_T$ac_delim
+LIBS!$LIBS$ac_delim
+build_alias!$build_alias$ac_delim
+host_alias!$host_alias$ac_delim
+target_alias!$target_alias$ac_delim
+MAY_SUPPLY_SYSCALLS_TRUE!$MAY_SUPPLY_SYSCALLS_TRUE$ac_delim
+MAY_SUPPLY_SYSCALLS_FALSE!$MAY_SUPPLY_SYSCALLS_FALSE$ac_delim
+newlib_basedir!$newlib_basedir$ac_delim
+build!$build$ac_delim
+build_cpu!$build_cpu$ac_delim
+build_vendor!$build_vendor$ac_delim
+build_os!$build_os$ac_delim
+host!$host$ac_delim
+host_cpu!$host_cpu$ac_delim
+host_vendor!$host_vendor$ac_delim
+host_os!$host_os$ac_delim
+INSTALL_PROGRAM!$INSTALL_PROGRAM$ac_delim
+INSTALL_SCRIPT!$INSTALL_SCRIPT$ac_delim
+INSTALL_DATA!$INSTALL_DATA$ac_delim
+CYGPATH_W!$CYGPATH_W$ac_delim
+PACKAGE!$PACKAGE$ac_delim
+VERSION!$VERSION$ac_delim
+ACLOCAL!$ACLOCAL$ac_delim
+AUTOCONF!$AUTOCONF$ac_delim
+AUTOMAKE!$AUTOMAKE$ac_delim
+AUTOHEADER!$AUTOHEADER$ac_delim
+MAKEINFO!$MAKEINFO$ac_delim
+install_sh!$install_sh$ac_delim
+STRIP!$STRIP$ac_delim
+INSTALL_STRIP_PROGRAM!$INSTALL_STRIP_PROGRAM$ac_delim
+mkdir_p!$mkdir_p$ac_delim
+AWK!$AWK$ac_delim
+SET_MAKE!$SET_MAKE$ac_delim
+am__leading_dot!$am__leading_dot$ac_delim
+AMTAR!$AMTAR$ac_delim
+am__tar!$am__tar$ac_delim
+am__untar!$am__untar$ac_delim
+CC!$CC$ac_delim
+DEPDIR!$DEPDIR$ac_delim
+am__include!$am__include$ac_delim
+am__quote!$am__quote$ac_delim
+AMDEP_TRUE!$AMDEP_TRUE$ac_delim
+AMDEP_FALSE!$AMDEP_FALSE$ac_delim
+AMDEPBACKSLASH!$AMDEPBACKSLASH$ac_delim
+CCDEPMODE!$CCDEPMODE$ac_delim
+am__fastdepCC_TRUE!$am__fastdepCC_TRUE$ac_delim
+am__fastdepCC_FALSE!$am__fastdepCC_FALSE$ac_delim
+AS!$AS$ac_delim
+AR!$AR$ac_delim
+RANLIB!$RANLIB$ac_delim
+READELF!$READELF$ac_delim
+MAINTAINER_MODE_TRUE!$MAINTAINER_MODE_TRUE$ac_delim
+MAINTAINER_MODE_FALSE!$MAINTAINER_MODE_FALSE$ac_delim
+MAINT!$MAINT$ac_delim
+CCAS!$CCAS$ac_delim
+CCASFLAGS!$CCASFLAGS$ac_delim
+NEWLIB_CFLAGS!$NEWLIB_CFLAGS$ac_delim
+LDFLAGS!$LDFLAGS$ac_delim
+ELIX_LEVEL_0_TRUE!$ELIX_LEVEL_0_TRUE$ac_delim
+ELIX_LEVEL_0_FALSE!$ELIX_LEVEL_0_FALSE$ac_delim
+ELIX_LEVEL_1_TRUE!$ELIX_LEVEL_1_TRUE$ac_delim
+ELIX_LEVEL_1_FALSE!$ELIX_LEVEL_1_FALSE$ac_delim
+ELIX_LEVEL_2_TRUE!$ELIX_LEVEL_2_TRUE$ac_delim
+ELIX_LEVEL_2_FALSE!$ELIX_LEVEL_2_FALSE$ac_delim
+ELIX_LEVEL_3_TRUE!$ELIX_LEVEL_3_TRUE$ac_delim
+_ACEOF
+
+  if test `sed -n "s/.*$ac_delim\$/X/p" conf$$subs.sed | grep -c X` = 97; then
+    break
+  elif $ac_last_try; then
+    { { echo "$as_me:$LINENO: error: could not make $CONFIG_STATUS" >&5
+echo "$as_me: error: could not make $CONFIG_STATUS" >&2;}
+   { (exit 1); exit 1; }; }
+  else
+    ac_delim="$ac_delim!$ac_delim _$ac_delim!! "
+  fi
+done
+
+ac_eof=`sed -n '/^CEOF[0-9]*$/s/CEOF/0/p' conf$$subs.sed`
+if test -n "$ac_eof"; then
+  ac_eof=`echo "$ac_eof" | sort -nru | sed 1q`
+  ac_eof=`expr $ac_eof + 1`
+fi
+
+cat >>$CONFIG_STATUS <<_ACEOF
+cat >"\$tmp/subs-1.sed" <<\CEOF$ac_eof
+/@[a-zA-Z_][a-zA-Z_0-9]*@/!b
+_ACEOF
+sed '
+s/[,\\&]/\\&/g; s/@/@|#_!!_#|/g
+s/^/s,@/; s/!/@,|#_!!_#|/
+:n
+t n
+s/'"$ac_delim"'$/,g/; t
+s/$/\\/; p
+N; s/^.*\n//; s/[,\\&]/\\&/g; s/@/@|#_!!_#|/g; b n
+' >>$CONFIG_STATUS <conf$$subs.sed
+rm -f conf$$subs.sed
+cat >>$CONFIG_STATUS <<_ACEOF
+CEOF$ac_eof
+_ACEOF
+
+
+ac_delim='%!_!# '
+for ac_last_try in false false false false false :; do
+  cat >conf$$subs.sed <<_ACEOF
+ELIX_LEVEL_3_FALSE!$ELIX_LEVEL_3_FALSE$ac_delim
+ELIX_LEVEL_4_TRUE!$ELIX_LEVEL_4_TRUE$ac_delim
+ELIX_LEVEL_4_FALSE!$ELIX_LEVEL_4_FALSE$ac_delim
+USE_LIBTOOL_TRUE!$USE_LIBTOOL_TRUE$ac_delim
+USE_LIBTOOL_FALSE!$USE_LIBTOOL_FALSE$ac_delim
+OBJEXT!$OBJEXT$ac_delim
+oext!$oext$ac_delim
+aext!$aext$ac_delim
+lpfx!$lpfx$ac_delim
+libm_machine_dir!$libm_machine_dir$ac_delim
+machine_dir!$machine_dir$ac_delim
+sys_dir!$sys_dir$ac_delim
+LIBOBJS!$LIBOBJS$ac_delim
+LTLIBOBJS!$LTLIBOBJS$ac_delim
+_ACEOF
+
+  if test `sed -n "s/.*$ac_delim\$/X/p" conf$$subs.sed | grep -c X` = 14; then
+    break
+  elif $ac_last_try; then
+    { { echo "$as_me:$LINENO: error: could not make $CONFIG_STATUS" >&5
+echo "$as_me: error: could not make $CONFIG_STATUS" >&2;}
+   { (exit 1); exit 1; }; }
+  else
+    ac_delim="$ac_delim!$ac_delim _$ac_delim!! "
+  fi
+done
+
+ac_eof=`sed -n '/^CEOF[0-9]*$/s/CEOF/0/p' conf$$subs.sed`
+if test -n "$ac_eof"; then
+  ac_eof=`echo "$ac_eof" | sort -nru | sed 1q`
+  ac_eof=`expr $ac_eof + 1`
+fi
+
+cat >>$CONFIG_STATUS <<_ACEOF
+cat >"\$tmp/subs-2.sed" <<\CEOF$ac_eof
+/@[a-zA-Z_][a-zA-Z_0-9]*@/!b end
+_ACEOF
+sed '
+s/[,\\&]/\\&/g; s/@/@|#_!!_#|/g
+s/^/s,@/; s/!/@,|#_!!_#|/
+:n
+t n
+s/'"$ac_delim"'$/,g/; t
+s/$/\\/; p
+N; s/^.*\n//; s/[,\\&]/\\&/g; s/@/@|#_!!_#|/g; b n
+' >>$CONFIG_STATUS <conf$$subs.sed
+rm -f conf$$subs.sed
+cat >>$CONFIG_STATUS <<_ACEOF
+:end
+s/|#_!!_#|//g
+CEOF$ac_eof
+_ACEOF
+
+
+# VPATH may cause trouble with some makes, so we remove $(srcdir),
+# ${srcdir} and @srcdir@ from VPATH if srcdir is ".", strip leading and
+# trailing colons and then remove the whole line if VPATH becomes empty
+# (actually we leave an empty line to preserve line numbers).
+if test "x$srcdir" = x.; then
+  ac_vpsub='/^[	 ]*VPATH[	 ]*=/{
+s/:*\$(srcdir):*/:/
+s/:*\${srcdir}:*/:/
+s/:*@srcdir@:*/:/
+s/^\([^=]*=[	 ]*\):*/\1/
+s/:*$//
+s/^[^=]*=[	 ]*$//
+}'
+fi
+
+cat >>$CONFIG_STATUS <<\_ACEOF
+fi # test -n "$CONFIG_FILES"
+
+
+for ac_tag in  :F $CONFIG_FILES      :C $CONFIG_COMMANDS
+do
+  case $ac_tag in
+  :[FHLC]) ac_mode=$ac_tag; continue;;
+  esac
+  case $ac_mode$ac_tag in
+  :[FHL]*:*);;
+  :L* | :C*:*) { { echo "$as_me:$LINENO: error: Invalid tag $ac_tag." >&5
+echo "$as_me: error: Invalid tag $ac_tag." >&2;}
+   { (exit 1); exit 1; }; };;
+  :[FH]-) ac_tag=-:-;;
+  :[FH]*) ac_tag=$ac_tag:$ac_tag.in;;
+  esac
+  ac_save_IFS=$IFS
+  IFS=:
+  set x $ac_tag
+  IFS=$ac_save_IFS
+  shift
+  ac_file=$1
+  shift
+
+  case $ac_mode in
+  :L) ac_source=$1;;
+  :[FH])
+    ac_file_inputs=
+    for ac_f
+    do
+      case $ac_f in
+      -) ac_f="$tmp/stdin";;
+      *) # Look for the file first in the build tree, then in the source tree
+	 # (if the path is not absolute).  The absolute path cannot be DOS-style,
+	 # because $ac_f cannot contain `:'.
+	 test -f "$ac_f" ||
+	   case $ac_f in
+	   [\\/$]*) false;;
+	   *) test -f "$srcdir/$ac_f" && ac_f="$srcdir/$ac_f";;
+	   esac ||
+	   { { echo "$as_me:$LINENO: error: cannot find input file: $ac_f" >&5
+echo "$as_me: error: cannot find input file: $ac_f" >&2;}
+   { (exit 1); exit 1; }; };;
+      esac
+      ac_file_inputs="$ac_file_inputs $ac_f"
+    done
+
+    # Let's still pretend it is `configure' which instantiates (i.e., don't
+    # use $as_me), people would be surprised to read:
+    #    /* config.h.  Generated by config.status.  */
+    configure_input="Generated from "`IFS=:
+	  echo $* | sed 's|^[^:]*/||;s|:[^:]*/|, |g'`" by configure."
+    if test x"$ac_file" != x-; then
+      configure_input="$ac_file.  $configure_input"
+      { echo "$as_me:$LINENO: creating $ac_file" >&5
+echo "$as_me: creating $ac_file" >&6;}
+    fi
+
+    case $ac_tag in
+    *:-:* | *:-) cat >"$tmp/stdin";;
+    esac
+    ;;
+  esac
+
+  ac_dir=`$as_dirname -- "$ac_file" ||
+$as_expr X"$ac_file" : 'X\(.*[^/]\)//*[^/][^/]*/*$' \| \
+	 X"$ac_file" : 'X\(//\)[^/]' \| \
+	 X"$ac_file" : 'X\(//\)$' \| \
+	 X"$ac_file" : 'X\(/\)' \| . 2>/dev/null ||
+echo X"$ac_file" |
+    sed '/^X\(.*[^/]\)\/\/*[^/][^/]*\/*$/{
+	    s//\1/
+	    q
+	  }
+	  /^X\(\/\/\)[^/].*/{
+	    s//\1/
+	    q
+	  }
+	  /^X\(\/\/\)$/{
+	    s//\1/
+	    q
+	  }
+	  /^X\(\/\).*/{
+	    s//\1/
+	    q
+	  }
+	  s/.*/./; q'`
+  { as_dir="$ac_dir"
+  case $as_dir in #(
+  -*) as_dir=./$as_dir;;
+  esac
+  test -d "$as_dir" || { $as_mkdir_p && mkdir -p "$as_dir"; } || {
+    as_dirs=
+    while :; do
+      case $as_dir in #(
+      *\'*) as_qdir=`echo "$as_dir" | sed "s/'/'\\\\\\\\''/g"`;; #(
+      *) as_qdir=$as_dir;;
+      esac
+      as_dirs="'$as_qdir' $as_dirs"
+      as_dir=`$as_dirname -- "$as_dir" ||
+$as_expr X"$as_dir" : 'X\(.*[^/]\)//*[^/][^/]*/*$' \| \
+	 X"$as_dir" : 'X\(//\)[^/]' \| \
+	 X"$as_dir" : 'X\(//\)$' \| \
+	 X"$as_dir" : 'X\(/\)' \| . 2>/dev/null ||
+echo X"$as_dir" |
+    sed '/^X\(.*[^/]\)\/\/*[^/][^/]*\/*$/{
+	    s//\1/
+	    q
+	  }
+	  /^X\(\/\/\)[^/].*/{
+	    s//\1/
+	    q
+	  }
+	  /^X\(\/\/\)$/{
+	    s//\1/
+	    q
+	  }
+	  /^X\(\/\).*/{
+	    s//\1/
+	    q
+	  }
+	  s/.*/./; q'`
+      test -d "$as_dir" && break
+    done
+    test -z "$as_dirs" || eval "mkdir $as_dirs"
+  } || test -d "$as_dir" || { { echo "$as_me:$LINENO: error: cannot create directory $as_dir" >&5
+echo "$as_me: error: cannot create directory $as_dir" >&2;}
+   { (exit 1); exit 1; }; }; }
+  ac_builddir=.
+
+case "$ac_dir" in
+.) ac_dir_suffix= ac_top_builddir_sub=. ac_top_build_prefix= ;;
+*)
+  ac_dir_suffix=/`echo "$ac_dir" | sed 's,^\.[\\/],,'`
+  # A ".." for each directory in $ac_dir_suffix.
+  ac_top_builddir_sub=`echo "$ac_dir_suffix" | sed 's,/[^\\/]*,/..,g;s,/,,'`
+  case $ac_top_builddir_sub in
+  "") ac_top_builddir_sub=. ac_top_build_prefix= ;;
+  *)  ac_top_build_prefix=$ac_top_builddir_sub/ ;;
+  esac ;;
+esac
+ac_abs_top_builddir=$ac_pwd
+ac_abs_builddir=$ac_pwd$ac_dir_suffix
+# for backward compatibility:
+ac_top_builddir=$ac_top_build_prefix
+
+case $srcdir in
+  .)  # We are building in place.
+    ac_srcdir=.
+    ac_top_srcdir=$ac_top_builddir_sub
+    ac_abs_top_srcdir=$ac_pwd ;;
+  [\\/]* | ?:[\\/]* )  # Absolute name.
+    ac_srcdir=$srcdir$ac_dir_suffix;
+    ac_top_srcdir=$srcdir
+    ac_abs_top_srcdir=$srcdir ;;
+  *) # Relative name.
+    ac_srcdir=$ac_top_build_prefix$srcdir$ac_dir_suffix
+    ac_top_srcdir=$ac_top_build_prefix$srcdir
+    ac_abs_top_srcdir=$ac_pwd/$srcdir ;;
+esac
+ac_abs_srcdir=$ac_abs_top_srcdir$ac_dir_suffix
+
+
+  case $ac_mode in
+  :F)
+  #
+  # CONFIG_FILE
+  #
+
+  case $INSTALL in
+  [\\/$]* | ?:[\\/]* ) ac_INSTALL=$INSTALL ;;
+  *) ac_INSTALL=$ac_top_build_prefix$INSTALL ;;
+  esac
+_ACEOF
+
+cat >>$CONFIG_STATUS <<\_ACEOF
+# If the template does not know about datarootdir, expand it.
+# FIXME: This hack should be removed a few years after 2.60.
+ac_datarootdir_hack=; ac_datarootdir_seen=
+
+case `sed -n '/datarootdir/ {
+  p
+  q
+}
+/@datadir@/p
+/@docdir@/p
+/@infodir@/p
+/@localedir@/p
+/@mandir@/p
+' $ac_file_inputs` in
+*datarootdir*) ac_datarootdir_seen=yes;;
+*@datadir@*|*@docdir@*|*@infodir@*|*@localedir@*|*@mandir@*)
+  { echo "$as_me:$LINENO: WARNING: $ac_file_inputs seems to ignore the --datarootdir setting" >&5
+echo "$as_me: WARNING: $ac_file_inputs seems to ignore the --datarootdir setting" >&2;}
+_ACEOF
+cat >>$CONFIG_STATUS <<_ACEOF
+  ac_datarootdir_hack='
+  s&@datadir@&$datadir&g
+  s&@docdir@&$docdir&g
+  s&@infodir@&$infodir&g
+  s&@localedir@&$localedir&g
+  s&@mandir@&$mandir&g
+    s&\\\${datarootdir}&$datarootdir&g' ;;
+esac
+_ACEOF
+
+# Neutralize VPATH when `$srcdir' = `.'.
+# Shell code in configure.ac might set extrasub.
+# FIXME: do we really want to maintain this feature?
+cat >>$CONFIG_STATUS <<_ACEOF
+  sed "$ac_vpsub
+$extrasub
+_ACEOF
+cat >>$CONFIG_STATUS <<\_ACEOF
+:t
+/@[a-zA-Z_][a-zA-Z_0-9]*@/!b
+s&@configure_input@&$configure_input&;t t
+s&@top_builddir@&$ac_top_builddir_sub&;t t
+s&@srcdir@&$ac_srcdir&;t t
+s&@abs_srcdir@&$ac_abs_srcdir&;t t
+s&@top_srcdir@&$ac_top_srcdir&;t t
+s&@abs_top_srcdir@&$ac_abs_top_srcdir&;t t
+s&@builddir@&$ac_builddir&;t t
+s&@abs_builddir@&$ac_abs_builddir&;t t
+s&@abs_top_builddir@&$ac_abs_top_builddir&;t t
+s&@INSTALL@&$ac_INSTALL&;t t
+$ac_datarootdir_hack
+" $ac_file_inputs | sed -f "$tmp/subs-1.sed" | sed -f "$tmp/subs-2.sed" >$tmp/out
+
+test -z "$ac_datarootdir_hack$ac_datarootdir_seen" &&
+  { ac_out=`sed -n '/\${datarootdir}/p' "$tmp/out"`; test -n "$ac_out"; } &&
+  { ac_out=`sed -n '/^[	 ]*datarootdir[	 ]*:*=/p' "$tmp/out"`; test -z "$ac_out"; } &&
+  { echo "$as_me:$LINENO: WARNING: $ac_file contains a reference to the variable \`datarootdir'
+which seems to be undefined.  Please make sure it is defined." >&5
+echo "$as_me: WARNING: $ac_file contains a reference to the variable \`datarootdir'
+which seems to be undefined.  Please make sure it is defined." >&2;}
+
+  rm -f "$tmp/stdin"
+  case $ac_file in
+  -) cat "$tmp/out"; rm -f "$tmp/out";;
+  *) rm -f "$ac_file"; mv "$tmp/out" $ac_file;;
+  esac
+ ;;
+
+
+  :C)  { echo "$as_me:$LINENO: executing $ac_file commands" >&5
+echo "$as_me: executing $ac_file commands" >&6;}
+ ;;
+  esac
+
+
+  case $ac_file$ac_mode in
+    "depfiles":C) test x"$AMDEP_TRUE" != x"" || for mf in $CONFIG_FILES; do
+  # Strip MF so we end up with the name of the file.
+  mf=`echo "$mf" | sed -e 's/:.*$//'`
+  # Check whether this is an Automake generated Makefile or not.
+  # We used to match only the files named `Makefile.in', but
+  # some people rename them; so instead we look at the file content.
+  # Grep'ing the first line is not enough: some people post-process
+  # each Makefile.in and add a new line on top of each file to say so.
+  # So let's grep whole file.
+  if grep '^#.*generated by automake' $mf > /dev/null 2>&1; then
+    dirpart=`$as_dirname -- "$mf" ||
+$as_expr X"$mf" : 'X\(.*[^/]\)//*[^/][^/]*/*$' \| \
+	 X"$mf" : 'X\(//\)[^/]' \| \
+	 X"$mf" : 'X\(//\)$' \| \
+	 X"$mf" : 'X\(/\)' \| . 2>/dev/null ||
+echo X"$mf" |
+    sed '/^X\(.*[^/]\)\/\/*[^/][^/]*\/*$/{
+	    s//\1/
+	    q
+	  }
+	  /^X\(\/\/\)[^/].*/{
+	    s//\1/
+	    q
+	  }
+	  /^X\(\/\/\)$/{
+	    s//\1/
+	    q
+	  }
+	  /^X\(\/\).*/{
+	    s//\1/
+	    q
+	  }
+	  s/.*/./; q'`
+  else
+    continue
+  fi
+  # Extract the definition of DEPDIR, am__include, and am__quote
+  # from the Makefile without running `make'.
+  DEPDIR=`sed -n 's/^DEPDIR = //p' < "$mf"`
+  test -z "$DEPDIR" && continue
+  am__include=`sed -n 's/^am__include = //p' < "$mf"`
+  test -z "am__include" && continue
+  am__quote=`sed -n 's/^am__quote = //p' < "$mf"`
+  # When using ansi2knr, U may be empty or an underscore; expand it
+  U=`sed -n 's/^U = //p' < "$mf"`
+  # Find all dependency output files, they are included files with
+  # $(DEPDIR) in their names.  We invoke sed twice because it is the
+  # simplest approach to changing $(DEPDIR) to its actual value in the
+  # expansion.
+  for file in `sed -n "
+    s/^$am__include $am__quote\(.*(DEPDIR).*\)$am__quote"'$/\1/p' <"$mf" | \
+       sed -e 's/\$(DEPDIR)/'"$DEPDIR"'/g' -e 's/\$U/'"$U"'/g'`; do
+    # Make sure the directory exists.
+    test -f "$dirpart/$file" && continue
+    fdir=`$as_dirname -- "$file" ||
+$as_expr X"$file" : 'X\(.*[^/]\)//*[^/][^/]*/*$' \| \
+	 X"$file" : 'X\(//\)[^/]' \| \
+	 X"$file" : 'X\(//\)$' \| \
+	 X"$file" : 'X\(/\)' \| . 2>/dev/null ||
+echo X"$file" |
+    sed '/^X\(.*[^/]\)\/\/*[^/][^/]*\/*$/{
+	    s//\1/
+	    q
+	  }
+	  /^X\(\/\/\)[^/].*/{
+	    s//\1/
+	    q
+	  }
+	  /^X\(\/\/\)$/{
+	    s//\1/
+	    q
+	  }
+	  /^X\(\/\).*/{
+	    s//\1/
+	    q
+	  }
+	  s/.*/./; q'`
+    { as_dir=$dirpart/$fdir
+  case $as_dir in #(
+  -*) as_dir=./$as_dir;;
+  esac
+  test -d "$as_dir" || { $as_mkdir_p && mkdir -p "$as_dir"; } || {
+    as_dirs=
+    while :; do
+      case $as_dir in #(
+      *\'*) as_qdir=`echo "$as_dir" | sed "s/'/'\\\\\\\\''/g"`;; #(
+      *) as_qdir=$as_dir;;
+      esac
+      as_dirs="'$as_qdir' $as_dirs"
+      as_dir=`$as_dirname -- "$as_dir" ||
+$as_expr X"$as_dir" : 'X\(.*[^/]\)//*[^/][^/]*/*$' \| \
+	 X"$as_dir" : 'X\(//\)[^/]' \| \
+	 X"$as_dir" : 'X\(//\)$' \| \
+	 X"$as_dir" : 'X\(/\)' \| . 2>/dev/null ||
+echo X"$as_dir" |
+    sed '/^X\(.*[^/]\)\/\/*[^/][^/]*\/*$/{
+	    s//\1/
+	    q
+	  }
+	  /^X\(\/\/\)[^/].*/{
+	    s//\1/
+	    q
+	  }
+	  /^X\(\/\/\)$/{
+	    s//\1/
+	    q
+	  }
+	  /^X\(\/\).*/{
+	    s//\1/
+	    q
+	  }
+	  s/.*/./; q'`
+      test -d "$as_dir" && break
+    done
+    test -z "$as_dirs" || eval "mkdir $as_dirs"
+  } || test -d "$as_dir" || { { echo "$as_me:$LINENO: error: cannot create directory $as_dir" >&5
+echo "$as_me: error: cannot create directory $as_dir" >&2;}
+   { (exit 1); exit 1; }; }; }
+    # echo "creating $dirpart/$file"
+    echo '# dummy' > "$dirpart/$file"
+  done
+done
+ ;;
+
+  esac
+done # for ac_tag
+
+
+{ (exit 0); exit 0; }
+_ACEOF
+chmod +x $CONFIG_STATUS
+ac_clean_files=$ac_clean_files_save
+
+
+# configure is writing to config.log, and then calls config.status.
+# config.status does its own redirection, appending to config.log.
+# Unfortunately, on DOS this fails, as config.log is still kept open
+# by configure, so config.status won't be able to write to it; its
+# output is simply discarded.  So we exec the FD to /dev/null,
+# effectively closing config.log, so it can be properly (re)opened and
+# appended to by config.status.  When coming back to configure, we
+# need to make the FD available again.
+if test "$no_create" != yes; then
+  ac_cs_success=:
+  ac_config_status_args=
+  test "$silent" = yes &&
+    ac_config_status_args="$ac_config_status_args --quiet"
+  exec 5>/dev/null
+  $SHELL $CONFIG_STATUS $ac_config_status_args || ac_cs_success=false
+  exec 5>>config.log
+  # Use ||, not &&, to avoid exiting from the if with $? = 1, which
+  # would make configure fail if this is the last instruction.
+  $ac_cs_success || { (exit 1); exit 1; }
+fi
+
diff -urN newlib-1.15.0/newlib/libc/sys/kielder/configure.in newlib-1.15.0_new/newlib/libc/sys/kielder/configure.in
--- newlib-1.15.0/newlib/libc/sys/kielder/configure.in	1970-01-01 00:00:00.000000000 +0000
+++ newlib-1.15.0_new/newlib/libc/sys/kielder/configure.in	2007-09-22 17:52:00.093750000 +0100
@@ -0,0 +1,14 @@
+dnl This is the newlib/libc/sys/kielder configure.in file.
+dnl Process this file with autoconf to produce a configure script.
+
+AC_PREREQ(2.59)
+AC_INIT([newlib],[NEWLIB_VERSION])
+AC_CONFIG_SRCDIR([environ.c])
+
+dnl Can't be done in NEWLIB_CONFIGURE because that confuses automake. 
+AC_CONFIG_AUX_DIR(../../../..)
+
+NEWLIB_CONFIGURE(../../..)
+
+AC_CONFIG_FILES(Makefile)
+AC_OUTPUT
diff -urN newlib-1.15.0/newlib/libc/sys/kielder/creat.c newlib-1.15.0_new/newlib/libc/sys/kielder/creat.c
--- newlib-1.15.0/newlib/libc/sys/kielder/creat.c	1970-01-01 00:00:00.000000000 +0000
+++ newlib-1.15.0_new/newlib/libc/sys/kielder/creat.c	2007-09-22 16:27:54.828125000 +0100
@@ -0,0 +1,15 @@
+#include <fcntl.h>
+#include <sys/syscall.h>
+
+
+
+
+/*
+ *
+ */
+
+int creat (const char *path, mode_t mode)
+{
+  return open (path, O_WRONLY | O_CREAT | O_TRUNC, mode);
+}
+
diff -urN newlib-1.15.0/newlib/libc/sys/kielder/crt0.S newlib-1.15.0_new/newlib/libc/sys/kielder/crt0.S
--- newlib-1.15.0/newlib/libc/sys/kielder/crt0.S	1970-01-01 00:00:00.000000000 +0000
+++ newlib-1.15.0_new/newlib/libc/sys/kielder/crt0.S	2007-09-22 16:27:54.828125000 +0100
@@ -0,0 +1,137 @@
+.extern main
+.extern __init_sig_trampoline
+.extern atexit
+.extern environ
+.extern exit
+.extern __bss_start
+.extern _end
+.global _start
+
+
+
+.align  8
+.data
+
+
+__argc:
+	.long	0
+__argv:
+	.long	0
+__envc:
+	.long	0
+	
+
+
+
+.text
+.align 4
+
+
+.text
+_start:
+
+	mov %edx, __argc
+	mov %ecx, __argv
+
+	mov %edi, __envc	
+	cmp $0, %edi
+	je __SkipEnviron
+	
+	mov %esi, environ
+__SkipEnviron:
+
+
+
+	
+/	pushl	$__do_global_dtors
+/	call	atexit
+/	add $4, %esp
+
+/	call	__do_global_ctors
+
+
+	call __init_sigtrampoline
+
+
+	pushl   __argv
+	pushl	__argc
+	call	main
+	add $4, %esp
+
+
+
+/ call exit from the C library so atexit gets called, and the
+/ C++ destructors get run. This calls our exit routine below	 
+/ when it's done.
+/
+	pushl	%eax
+	call	exit
+
+1:
+	jmp	1b
+
+
+
+
+/
+/ ctors starts with -1 and ends with 0
+/
+
+/__do_global_ctors:
+/	ret
+/
+/
+/	mov $__CTOR_LIST__, %ebx
+/	add $4, %ebx	
+/
+/__do_ctors_1:
+/
+/	mov (%ebx), %eax
+/	cmp $0, %eax
+/	je __do_ctors_2
+/
+/	call *%eax
+/	add $4, %ebx
+/	jmp __do_ctors_1
+/
+/__do_ctors_2:	
+/	ret
+/
+/
+/
+/
+/
+/ dtors starts with -1 and ends with 0
+/
+/
+/
+/__do_global_dtors:
+/	mov $__DTOR_LIST__, %ebx
+/	add $4, %ebx
+/
+/__do_dtors_1:
+/	mov (%ebx), %eax
+/	cmp $0, %eax
+/	je __do_dtors_2
+/
+/	add $4, %ebx
+/	jmp __do_dtors_1
+/
+/__do_dtors_2:	
+/	sub $4, %ebx
+/	
+/	cmp $__DTOR_LIST__, %ebx
+/	jbe __do_dtors_3
+/
+/	mov (%ebx), %eax
+/	call *%eax
+/	sub $4, %ebx
+/	
+/	jmp __do_dtors_2
+/
+/__do_dtors_3:
+/	ret
+/
+/
+/
+
diff -urN newlib-1.15.0/newlib/libc/sys/kielder/debug.c newlib-1.15.0_new/newlib/libc/sys/kielder/debug.c
--- newlib-1.15.0/newlib/libc/sys/kielder/debug.c	1970-01-01 00:00:00.000000000 +0000
+++ newlib-1.15.0_new/newlib/libc/sys/kielder/debug.c	2007-09-22 16:27:54.828125000 +0100
@@ -0,0 +1,46 @@
+#include <_ansi.h>
+#include <_syslist.h>
+#include <sys/syscall.h>
+#include <sys/ksyscalls.h>
+#include <stdio.h>
+#include <errno.h>
+
+
+
+
+/*
+ *
+ */
+
+#define DEBUG_BUFFER_SZ		80
+char __debug_buffer[DEBUG_BUFFER_SZ];
+
+
+
+
+/* __dbgprintf();
+ */
+
+void __dbgprintf (int level, const char *fmt, ...)
+{
+	va_list argp;
+	
+	va_start(argp, fmt);
+	vsnprintf(__debug_buffer, DEBUG_BUFFER_SZ, fmt, argp);
+	va_end(argp);
+		
+	__sys_debug (0, __debug_buffer);
+}
+
+
+
+
+/*
+ *
+ */
+
+int __sys_debug (int level, char *str)
+{
+	return __syscall2 (_sysidx_debug, level, str);
+}
+
diff -urN newlib-1.15.0/newlib/libc/sys/kielder/dir.c newlib-1.15.0_new/newlib/libc/sys/kielder/dir.c
--- newlib-1.15.0/newlib/libc/sys/kielder/dir.c	1970-01-01 00:00:00.000000000 +0000
+++ newlib-1.15.0_new/newlib/libc/sys/kielder/dir.c	2007-10-02 09:43:26.078125000 +0100
@@ -0,0 +1,62 @@
+#include <_ansi.h>
+#include <_syslist.h>
+#include <sys/types.h>
+#include <unistd.h>
+#include <sys/stat.h>
+#include <sys/syscall.h>
+#include <errno.h>
+
+
+
+
+/*
+ *
+ */
+
+char *getcwd(char *buf, size_t size)
+{
+	return (char *) __syscall2 (_sysidx_getcwd, buf, size);
+}
+
+
+
+
+/*
+ *
+ */
+
+int chdir(const char *path)
+{
+	return __syscall1 (_sysidx_chdir, path);
+}
+
+
+
+
+/*
+ *
+ */
+
+int mkdir (const char *path, mode_t mode)
+{
+	return __syscall2 (_sysidx_mkdir, path, mode);
+
+}
+
+
+
+
+/*
+ *
+ */
+
+int rmdir (const char *path)
+{
+	return __syscall1 (_sysidx_rmdir, path);
+}
+
+
+
+
+
+
diff -urN newlib-1.15.0/newlib/libc/sys/kielder/dummy.S newlib-1.15.0_new/newlib/libc/sys/kielder/dummy.S
--- newlib-1.15.0/newlib/libc/sys/kielder/dummy.S	1970-01-01 00:00:00.000000000 +0000
+++ newlib-1.15.0_new/newlib/libc/sys/kielder/dummy.S	2007-09-28 19:20:45.828125000 +0100
@@ -0,0 +1,8 @@
+/* Dummy.S 
+ *
+ * Needed to make configure/automake whatever you call it
+ * compile crt0.o from crt0.S seperately.
+ * 
+ * Seems that this automake/configure thingy can't build
+ * standalone object files without it.
+ */
\ No newline at end of file
diff -urN newlib-1.15.0/newlib/libc/sys/kielder/dup.c newlib-1.15.0_new/newlib/libc/sys/kielder/dup.c
--- newlib-1.15.0/newlib/libc/sys/kielder/dup.c	1970-01-01 00:00:00.000000000 +0000
+++ newlib-1.15.0_new/newlib/libc/sys/kielder/dup.c	2007-09-22 16:27:54.843750000 +0100
@@ -0,0 +1,31 @@
+#include <_ansi.h>
+#include <_syslist.h>
+#include <errno.h>
+#include <unistd.h>
+#include <sys/syscall.h>
+
+
+
+
+/*
+ *
+ */
+
+int dup (int fd)
+{
+	return __syscall1 (_sysidx_dup, fd);
+}
+
+
+
+
+/*
+ *
+ */
+
+int dup2 (int fd, int fd2)
+{
+	return __syscall2 (_sysidx_dup2, fd, fd2);
+}
+
+
diff -urN newlib-1.15.0/newlib/libc/sys/kielder/environ.c newlib-1.15.0_new/newlib/libc/sys/kielder/environ.c
--- newlib-1.15.0/newlib/libc/sys/kielder/environ.c	1970-01-01 00:00:00.000000000 +0000
+++ newlib-1.15.0_new/newlib/libc/sys/kielder/environ.c	2007-09-22 16:27:54.843750000 +0100
@@ -0,0 +1,6 @@
+/*
+ * Version of environ for no OS.
+ */
+
+char *__env[1] = { 0 }; 
+char **environ = __env;
diff -urN newlib-1.15.0/newlib/libc/sys/kielder/execl.c newlib-1.15.0_new/newlib/libc/sys/kielder/execl.c
--- newlib-1.15.0/newlib/libc/sys/kielder/execl.c	1970-01-01 00:00:00.000000000 +0000
+++ newlib-1.15.0_new/newlib/libc/sys/kielder/execl.c	2007-09-22 16:27:54.859375000 +0100
@@ -0,0 +1,49 @@
+/* execl.c */
+
+/* This and the other exec*.c files in this directory require 
+   the target to provide the _execve syscall.  */
+
+#include <_ansi.h>
+#include <unistd.h>
+
+/* Only deal with a pointer to environ, to work around subtle bugs with shared
+   libraries and/or small data systems where the user declares his own
+   'environ'.  */
+static char ***p_environ = &environ;
+
+#ifdef _HAVE_STDC
+
+#include <stdarg.h>
+
+int
+_DEFUN(execl, (path, arg0, ...), 
+      _CONST char *path _AND
+      _CONST char *arg0 _DOTS)
+
+#else
+
+#include <varargs.h>
+
+int
+_DEFUN(execl, (path, arg0, va_alist),
+     _CONST char *path _AND
+     _CONST char *arg0 _AND
+     va_dcl)
+
+#endif
+
+{
+  int i;
+  va_list args;
+  _CONST char *argv[256];
+
+  va_start (args, arg0);
+  argv[0] = arg0;
+  i = 1;
+  do
+      argv[i] = va_arg (args, _CONST char *);
+  while (argv[i++] != NULL);
+  va_end (args);
+
+  return execve (path, (char * _CONST  *) argv, *p_environ);
+}
diff -urN newlib-1.15.0/newlib/libc/sys/kielder/execle.c newlib-1.15.0_new/newlib/libc/sys/kielder/execle.c
--- newlib-1.15.0/newlib/libc/sys/kielder/execle.c	1970-01-01 00:00:00.000000000 +0000
+++ newlib-1.15.0_new/newlib/libc/sys/kielder/execle.c	2007-09-22 16:27:54.859375000 +0100
@@ -0,0 +1,46 @@
+/* execle.c */
+
+/* This and the other exec*.c files in this directory require 
+   the target to provide the _execve syscall.  */
+
+#include <_ansi.h>
+#include <unistd.h>
+
+#ifdef _HAVE_STDC
+
+#include <stdarg.h>
+
+int
+_DEFUN(execle, (path, arg0, ...),
+      _CONST char *path _AND
+      _CONST char *arg0 _DOTS)
+
+#else
+
+#include <varargs.h>
+
+int
+_DEFUN(execle, (path, arg0, va_alist),
+     _CONST char *path _AND
+     _CONST char *arg0 _AND
+     va_dcl)
+
+#endif
+
+{
+  int i;
+  va_list args;
+  _CONST char * _CONST *envp;
+  _CONST char *argv[256];
+
+  va_start (args, arg0);
+  argv[0] = arg0;
+  i = 1;
+  do
+    argv[i] = va_arg (args, _CONST char *);
+  while (argv[i++] != NULL);
+  envp = va_arg (args, _CONST char * _CONST *);
+  va_end (args);
+
+  return execve (path, (char * _CONST *) argv, (char * _CONST *) envp);
+}
diff -urN newlib-1.15.0/newlib/libc/sys/kielder/execlp.c newlib-1.15.0_new/newlib/libc/sys/kielder/execlp.c
--- newlib-1.15.0/newlib/libc/sys/kielder/execlp.c	1970-01-01 00:00:00.000000000 +0000
+++ newlib-1.15.0_new/newlib/libc/sys/kielder/execlp.c	2007-09-22 16:27:54.859375000 +0100
@@ -0,0 +1,44 @@
+/* execlp.c */
+
+/* This and the other exec*.c files in this directory require 
+   the target to provide the _execve syscall.  */
+
+#include <_ansi.h>
+#include <unistd.h>
+
+#ifdef _HAVE_STDC
+
+#include <stdarg.h>
+
+int
+_DEFUN(execlp, (path, arg0, ...),
+      _CONST char *path _AND
+      _CONST char *arg0 _DOTS)
+
+#else
+
+#include <varargs.h>
+
+int
+_DEFUN(execlp, (path, arg0, va_alist),
+     _CONST char *path _AND
+     _CONST char *arg0 _AND
+     va_dcl)
+
+#endif
+
+{
+  int i;
+  va_list args;
+  _CONST char *argv[256];
+
+  va_start (args, arg0);
+  argv[0] = arg0;
+  i = 1;
+  do
+      argv[i] = va_arg (args, _CONST char *);
+  while (argv[i++] != NULL);
+  va_end (args);
+
+  return execvp (path, (char * _CONST *) argv);
+}
diff -urN newlib-1.15.0/newlib/libc/sys/kielder/execv.c newlib-1.15.0_new/newlib/libc/sys/kielder/execv.c
--- newlib-1.15.0/newlib/libc/sys/kielder/execv.c	1970-01-01 00:00:00.000000000 +0000
+++ newlib-1.15.0_new/newlib/libc/sys/kielder/execv.c	2007-09-22 16:27:54.875000000 +0100
@@ -0,0 +1,20 @@
+/* execv.c */
+
+/* This and the other exec*.c files in this directory require 
+   the target to provide the _execve syscall.  */
+
+#include <_ansi.h>
+#include <unistd.h>
+
+/* Only deal with a pointer to environ, to work around subtle bugs with shared
+   libraries and/or small data systems where the user declares his own
+   'environ'.  */
+static char ***p_environ = &environ;
+
+int
+_DEFUN (execv, (path, argv), 
+	const char *path _AND
+	char * const argv[])
+{
+  return execve (path, (char * _CONST *) argv, *p_environ);
+}
diff -urN newlib-1.15.0/newlib/libc/sys/kielder/execve.c newlib-1.15.0_new/newlib/libc/sys/kielder/execve.c
--- newlib-1.15.0/newlib/libc/sys/kielder/execve.c	1970-01-01 00:00:00.000000000 +0000
+++ newlib-1.15.0_new/newlib/libc/sys/kielder/execve.c	2007-09-22 16:27:54.875000000 +0100
@@ -0,0 +1,29 @@
+#include <_ansi.h>
+#include <_syslist.h>
+#include <errno.h>
+#include <sys/syscall.h>
+#include <sys/unistd.h>
+#include <stdlib.h>
+
+
+
+
+/*
+ *
+ */
+
+
+
+
+/*
+ *
+ */
+ 
+int execve (const char *__path, char * const __argv[], char * const __envp[] )
+{
+	return __syscall3 (_sysidx_exec, __path, __argv, __envp);
+}
+
+
+
+
diff -urN newlib-1.15.0/newlib/libc/sys/kielder/execvp.c newlib-1.15.0_new/newlib/libc/sys/kielder/execvp.c
--- newlib-1.15.0/newlib/libc/sys/kielder/execvp.c	1970-01-01 00:00:00.000000000 +0000
+++ newlib-1.15.0_new/newlib/libc/sys/kielder/execvp.c	2007-09-22 16:27:54.875000000 +0100
@@ -0,0 +1,69 @@
+/* execvp.c */
+
+/* This and the other exec*.c files in this directory require 
+   the target to provide the _execve syscall.  */
+
+#include <_ansi.h>
+#include <stdlib.h>
+#include <unistd.h>
+#include <dirent.h>
+#include <string.h>
+#include <errno.h>
+#include <ctype.h>
+
+#define PATH_DELIM ':'
+
+/*
+ * Copy string, until c or <nul> is encountered.
+ * NUL-terminate the destination string (s1).
+ */
+
+static char *
+_DEFUN (strccpy, (s1, s2, c),
+	char *s1 _AND
+	char *s2 _AND
+	char c)
+{
+  char *dest = s1;
+
+  while (*s2 && *s2 != c)
+    *s1++ = *s2++;
+  *s1 = 0;
+
+  return dest;
+}
+
+int
+_DEFUN (execvp, (file, argv),
+	_CONST char *file _AND
+	char * _CONST argv[])
+{
+  char *path = getenv ("PATH");
+  char buf[MAXNAMLEN];
+
+  /* If $PATH doesn't exist, just pass FILE on unchanged.  */
+  if (!path)
+    return execv (file, argv);
+
+  /* If FILE contains a directory, don't search $PATH.  */
+  if (strchr (file, '/')
+      )
+    return execv (file, argv);
+
+  while (*path)
+    {
+      strccpy (buf, path, PATH_DELIM);
+      /* An empty entry means the current directory.  */
+      if (*buf != 0 && buf[strlen(buf) - 1] != '/')
+	strcat (buf, "/");
+      strcat (buf, file);
+      if (execv (buf, argv) == -1 && errno != ENOENT)
+	return -1;
+      while (*path && *path != PATH_DELIM)
+	path++;
+      if (*path == PATH_DELIM)
+	path++;			/* skip over delim */
+    }
+
+  return -1;
+}
diff -urN newlib-1.15.0/newlib/libc/sys/kielder/fcntl.c newlib-1.15.0_new/newlib/libc/sys/kielder/fcntl.c
--- newlib-1.15.0/newlib/libc/sys/kielder/fcntl.c	1970-01-01 00:00:00.000000000 +0000
+++ newlib-1.15.0_new/newlib/libc/sys/kielder/fcntl.c	2007-09-22 16:27:54.890625000 +0100
@@ -0,0 +1,47 @@
+#include <_ansi.h>
+#include <_syslist.h>
+#include <sys/syscall.h>
+#include <errno.h>
+#include <fcntl.h>
+#include <stdarg.h>
+
+
+
+
+/*
+ * fcntl();
+ */
+
+int fcntl(int fd, int cmd, ...)
+{
+	va_list ap;
+	int arg;
+	int rc;
+	
+	va_start(ap, cmd);
+	
+	
+	switch (cmd)
+	{
+		case F_DUPFD:
+		case F_SETFD:
+		case F_SETFL:
+		case F_SETOWN:
+			arg = va_arg(ap, int);
+			rc = __syscall3 (_sysidx_fcntl, fd, cmd, arg);
+			break;
+
+		case F_GETFD:
+		case F_GETFL:
+		case F_GETOWN:
+			rc = __syscall3 (_sysidx_fcntl, fd, cmd, 0);
+			break;
+
+		default:
+			errno = EINVAL;
+			rc = -1;
+	}
+	
+	va_end(ap);
+	return rc;
+}
diff -urN newlib-1.15.0/newlib/libc/sys/kielder/fork.c newlib-1.15.0_new/newlib/libc/sys/kielder/fork.c
--- newlib-1.15.0/newlib/libc/sys/kielder/fork.c	1970-01-01 00:00:00.000000000 +0000
+++ newlib-1.15.0_new/newlib/libc/sys/kielder/fork.c	2007-09-22 16:27:54.890625000 +0100
@@ -0,0 +1,16 @@
+#include <_ansi.h>
+#include <_syslist.h>
+#include <sys/syscall.h>
+#include <errno.h>
+
+
+
+
+/*
+ *
+ */
+
+int fork (void)
+{
+	return  __syscall0 (_sysidx_fork);
+}
diff -urN newlib-1.15.0/newlib/libc/sys/kielder/format.c newlib-1.15.0_new/newlib/libc/sys/kielder/format.c
--- newlib-1.15.0/newlib/libc/sys/kielder/format.c	1970-01-01 00:00:00.000000000 +0000
+++ newlib-1.15.0_new/newlib/libc/sys/kielder/format.c	2008-04-15 10:24:45.156250000 +0100
@@ -0,0 +1,18 @@
+#include <_ansi.h>
+#include <_syslist.h>
+#include <errno.h>
+#include <sys/syscall.h>
+
+
+
+
+/*
+ *
+ */
+ 
+int kos_format (char *mount, char *label, unsigned long flags, unsigned long cluster_size)
+{
+	return __syscall5 (_sysidx_format, mount, label, flags, cluster_size);
+}
+
+
diff -urN newlib-1.15.0/newlib/libc/sys/kielder/fstat.c newlib-1.15.0_new/newlib/libc/sys/kielder/fstat.c
--- newlib-1.15.0/newlib/libc/sys/kielder/fstat.c	1970-01-01 00:00:00.000000000 +0000
+++ newlib-1.15.0_new/newlib/libc/sys/kielder/fstat.c	2007-09-22 16:27:54.906250000 +0100
@@ -0,0 +1,18 @@
+#include <_ansi.h>
+#include <_syslist.h>
+#include <sys/types.h>
+#include <sys/stat.h>
+#include <sys/syscall.h>
+#include <errno.h>
+#include <stdio.h>
+
+
+
+/*
+ *
+ */
+
+int fstat (int fd, struct stat *st)
+{
+	return __syscall2 (_sysidx_fstat, fd, st);
+}
diff -urN newlib-1.15.0/newlib/libc/sys/kielder/getpid.c newlib-1.15.0_new/newlib/libc/sys/kielder/getpid.c
--- newlib-1.15.0/newlib/libc/sys/kielder/getpid.c	1970-01-01 00:00:00.000000000 +0000
+++ newlib-1.15.0_new/newlib/libc/sys/kielder/getpid.c	2007-09-22 16:27:54.906250000 +0100
@@ -0,0 +1,29 @@
+#include <_ansi.h>
+#include <_syslist.h>
+#include <errno.h>
+#include <sys/syscall.h>
+#include <unistd.h>
+
+
+
+/*
+ * Get process pid
+ */
+
+int getpid (void)
+{
+	return __syscall0 (_sysidx_getpid);
+}
+
+
+
+
+/*
+ * Get parent process pid
+ */
+
+int getppid(void)
+{
+	return __syscall0 (_sysidx_getppid);
+}
+
diff -urN newlib-1.15.0/newlib/libc/sys/kielder/gettod.c newlib-1.15.0_new/newlib/libc/sys/kielder/gettod.c
--- newlib-1.15.0/newlib/libc/sys/kielder/gettod.c	1970-01-01 00:00:00.000000000 +0000
+++ newlib-1.15.0_new/newlib/libc/sys/kielder/gettod.c	2007-09-22 16:27:54.921875000 +0100
@@ -0,0 +1,31 @@
+#include <_ansi.h>
+#include <_syslist.h>
+#include <sys/time.h>
+#include <sys/times.h>
+#include <sys/syscall.h>
+#include <errno.h>
+
+
+
+
+/*
+ *
+ */
+
+int gettimeofday (struct timeval  *ptimeval, struct timezone *ptimezone)
+{
+	return __syscall3 (_sysidx_gettimeofday, ptimeval);
+}
+
+
+
+
+/*
+ *
+ */
+
+int settimeofday(const struct timeval *tp, const struct timezone *tzp)
+{
+	return 0;
+}
+
diff -urN newlib-1.15.0/newlib/libc/sys/kielder/id.c newlib-1.15.0_new/newlib/libc/sys/kielder/id.c
--- newlib-1.15.0/newlib/libc/sys/kielder/id.c	1970-01-01 00:00:00.000000000 +0000
+++ newlib-1.15.0_new/newlib/libc/sys/kielder/id.c	2007-10-02 09:59:11.453125000 +0100
@@ -0,0 +1,109 @@
+#include <_ansi.h>
+#include <_syslist.h>
+#include <sys/syscall.h>
+#include <errno.h>
+#include <unistd.h>
+#include <sys/stat.h>
+#include <pwd.h>
+
+
+
+
+/*
+ *
+ */
+
+int getpgrp(void)
+{
+	return __syscall0 (_sysidx_getpgrp);
+}
+
+
+
+
+/*
+ * 
+ */
+
+pid_t setpgrp(void)
+{
+	return __syscall0 (_sysidx_setpgrp);
+}
+
+
+
+
+/*
+ *
+ */
+
+uid_t getuid(void)
+{
+	return __syscall0 (_sysidx_getuid);
+}
+
+
+
+
+/*
+ *
+ */
+
+int setuid(uid_t uid)
+{
+	return __syscall1 (_sysidx_setuid, uid);
+}
+
+
+
+
+/*
+ *
+ */
+
+gid_t getgid(void)
+{
+	return __syscall0 (_sysidx_getgid);
+}
+
+
+
+
+/*
+ *
+ */
+
+int setgid(gid_t gid)
+{
+	return __syscall1 (_sysidx_setgid, gid);
+}
+
+
+
+
+/*
+ *
+ */
+
+uid_t geteuid(void)
+{
+	return __syscall0 (_sysidx_geteuid);
+}
+
+
+
+
+/*
+ *
+ */
+
+gid_t getegid(void)
+{
+	return __syscall0 (_sysidx_getegid);
+}
+
+
+
+
+
+
diff -urN newlib-1.15.0/newlib/libc/sys/kielder/include/getopt.h newlib-1.15.0_new/newlib/libc/sys/kielder/include/getopt.h
--- newlib-1.15.0/newlib/libc/sys/kielder/include/getopt.h	1970-01-01 00:00:00.000000000 +0000
+++ newlib-1.15.0_new/newlib/libc/sys/kielder/include/getopt.h	2007-09-28 15:02:43.781250000 +0100
@@ -0,0 +1,144 @@
+/****************************************************************************
+
+getopt.h - Read command line options
+
+AUTHOR: Gregory Pietsch
+CREATED Thu Jan 09 22:37:00 1997
+
+DESCRIPTION:
+
+The getopt() function parses the command line arguments.  Its arguments argc
+and argv are the argument count and array as passed to the main() function
+on program invocation.  The argument optstring is a list of available option
+characters.  If such a character is followed by a colon (`:'), the option
+takes an argument, which is placed in optarg.  If such a character is
+followed by two colons, the option takes an optional argument, which is
+placed in optarg.  If the option does not take an argument, optarg is NULL.
+
+The external variable optind is the index of the next array element of argv
+to be processed; it communicates from one call to the next which element to
+process.
+
+The getopt_long() function works like getopt() except that it also accepts
+long options started by two dashes `--'.  If these take values, it is either
+in the form
+
+--arg=value
+
+ or
+
+--arg value
+
+It takes the additional arguments longopts which is a pointer to the first
+element of an array of type GETOPT_LONG_OPTION_T, defined below.  The last
+element of the array has to be filled with NULL for the name field.
+
+The longind pointer points to the index of the current long option relative
+to longopts if it is non-NULL.
+
+The getopt() function returns the option character if the option was found
+successfully, `:' if there was a missing parameter for one of the options,
+`?' for an unknown option character, and EOF for the end of the option list.
+
+The getopt_long() function's return value is described below.
+
+The function getopt_long_only() is identical to getopt_long(), except that a
+plus sign `+' can introduce long options as well as `--'.
+
+Describe how to deal with options that follow non-option ARGV-elements.
+
+If the caller did not specify anything, the default is REQUIRE_ORDER if the
+environment variable POSIXLY_CORRECT is defined, PERMUTE otherwise.
+
+REQUIRE_ORDER means don't recognize them as options; stop option processing
+when the first non-option is seen.  This is what Unix does.  This mode of
+operation is selected by either setting the environment variable
+POSIXLY_CORRECT, or using `+' as the first character of the optstring
+parameter.
+
+PERMUTE is the default.  We permute the contents of ARGV as we scan, so that
+eventually all the non-options are at the end.  This allows options to be
+given in any order, even with programs that were not written to expect this.
+
+RETURN_IN_ORDER is an option available to programs that were written to
+expect options and other ARGV-elements in any order and that care about the
+ordering of the two.  We describe each non-option ARGV-element as if it were
+the argument of an option with character code 1.  Using `-' as the first
+character of the optstring parameter selects this mode of operation.
+
+The special argument `--' forces an end of option-scanning regardless of the
+value of `ordering'.  In the case of RETURN_IN_ORDER, only `--' can cause
+getopt() and friends to return EOF with optind != argc.
+
+COPYRIGHT NOTICE AND DISCLAIMER:
+
+Copyright (C) 1997 Gregory Pietsch
+
+This file and the accompanying getopt.c implementation file are hereby 
+placed in the public domain without restrictions.  Just give the author 
+credit, don't claim you wrote it or prevent anyone else from using it.
+
+Gregory Pietsch's current e-mail address:
+gpietsch@comcast.net
+****************************************************************************/
+
+#ifndef GETOPT_H
+#define GETOPT_H
+
+#include <_ansi.h>
+
+/* include files needed by this include file */
+
+/* macros defined by this include file */
+#define NO_ARG          0
+#define REQUIRED_ARG    1
+#define OPTIONAL_ARG    2
+
+
+/* FIX : Needed by coreutils */
+#define no_argument		    0
+#define required_argument	1
+#define optional_argument	2
+
+
+
+/* types defined by this include file */
+
+struct option
+{
+  char *name;                   /* the name of the long option */
+  int has_arg;                  /* one of the above macros */
+  int *flag;                    /* determines if getopt_long() returns a
+                                 * value for a long option; if it is
+                                 * non-NULL, 0 is returned as a function
+                                 * value and the value of val is stored in
+                                 * the area pointed to by flag.  Otherwise,
+                                 * val is returned. */
+  int val;                      /* determines the value to return if flag is
+                                 * NULL. */
+};
+
+#ifdef __cplusplus
+extern "C"
+{
+#endif
+
+  /* externally-defined variables */
+  extern char *optarg;
+  extern int optind;
+  extern int opterr;
+  extern int optopt;
+
+  /* function prototypes */
+  int _EXFUN (getopt, (int __argc, char *const __argv[], const char *__optstring));
+  int _EXFUN (getopt_long, (int __argc, char *const __argv[], const char *__shortopts, const struct option *__longopts, int *__longind));
+  int _EXFUN (getopt_long_only, (int __argc, char *const __argv[], const char *__shortopts, const struct option *__longopts, int *__longind));
+
+#ifdef __cplusplus
+};
+
+#endif
+
+#endif /* GETOPT_H */
+
+/* END OF FILE getopt.h */
diff -urN newlib-1.15.0/newlib/libc/sys/kielder/include/limits.h newlib-1.15.0_new/newlib/libc/sys/kielder/include/limits.h
--- newlib-1.15.0/newlib/libc/sys/kielder/include/limits.h	1970-01-01 00:00:00.000000000 +0000
+++ newlib-1.15.0_new/newlib/libc/sys/kielder/include/limits.h	2007-09-22 16:27:54.921875000 +0100
@@ -0,0 +1,166 @@
+/*
+ *  This file lists the minimums for the limits set by each of
+ *  the POSIX features subsets.
+ *
+ *  XXX: Careful attention needs to be paid to section 2.8 in 1003.1b-1993
+ *       to segregrate the variables below based on their "class" according
+ *       to our implementation.  We also need to set the Run-Time Invariant
+ *       and other related values.
+ *
+ *  $Id: limits.h,v 1.2 1999/09/07 21:18:36 ranjith Exp $
+ */
+
+#ifndef _GCC_LIMITS_H_  /* if we have not seen gcc's limits.h yet */
+#include_next <limits.h>
+#endif
+
+#include <sys/syslimits.h>
+
+#ifndef __POSIX_LIMITS_h
+#define __POSIX_LIMITS_h
+
+/****************************************************************************
+ ****************************************************************************
+ *                                                                          *
+ *         P1003.1b-1993 defines the constants below this comment.          *
+ *                                                                          *
+ **************************************************************************** 
+ ****************************************************************************/
+
+#define _POSIX_AIO_LISTIO_MAX   2
+#define _POSIX_AIO_MAX          1
+#define _POSIX_ARG_MAX          4096
+#define _POSIX_CHILD_MAX        6
+#define _POSIX_DELAYTIMER_MAX   32
+#define _POSIX_LINK_MAX         8
+#define _POSIX_MAX_CANON        255
+#define _POSIX_MAX_INPUT        255
+#define _POSIX_MQ_OPEN_MAX      8
+#define _POSIX_MQ_PRIO_MAX      32
+#define _POSIX_NAME_MAX         255
+#define _POSIX_NGROUPS_MAX      0
+#define _POSIX_OPEN_MAX         64
+#define _POSIX_PATH_MAX         255
+#define _POSIX_PIPE_BUF         512
+#define _POSIX_RTSIG_MAX        8
+#define _POSIX_SEM_NSEMS_MAX    256
+#define _POSIX_SEM_VALUE_MAX    32767
+#define _POSIX_SIGQUEUE_MAX     32
+#define _POSIX_SSIZE_MAX        32767
+#define _POSIX_STREAM_MAX       8
+#define _POSIX_TIMER_MAX        32
+#define _POSIX_TZNAME_MAX       3
+
+/*
+ *  Definitions of the following may be omitted if the value is >= stated
+ *  minimum but is indeterminate.
+ */
+
+#define AIO_LISTIO_MAX          2
+#define AIO_MAX                 1
+#define AIO_PRIO_DELTA_MAX      0
+#define DELAYTIMER_MAX          32
+#define MQ_OPEN_MAX             8
+#define MQ_PRIO_MAX             32
+#define PAGESIZE                1
+#define RTSIG_MAX               8
+#define SEM_NSEMS_MAX           256
+#define SEM_VALUE_MAX           32767
+#define SIGQUEUE_MAX            32
+#define STREAM_MAX              8
+#define TIMER_MAX               32
+#define TZNAME_MAX              3
+
+/*
+ *  Invariant values
+ */
+
+#define SSIZE_MAX               32767
+
+/*
+ *  Maximum Values
+ */
+
+#define _POSIX_CLOCKRES_MIN      0   /* in nanoseconds */
+
+/****************************************************************************
+ ****************************************************************************
+ *                                                                          *
+ *         P1003.1c/D10 defines the constants below this comment.           *
+ *
+ *  XXX: doc seems to have printing problems in this table :(
+ *                                                                          *
+ **************************************************************************** 
+ ****************************************************************************/
+
+#define _POSIX_LOGIN_NAME_MAX                9
+#define _POSIX_THREAD_DESTRUCTOR_ITERATIONS  4
+#define _POSIX_THREAD_KEYS_MAX               28
+#define _POSIX_THREAD_THREADS_MAX            64
+#define _POSIX_TTY_NAME_MAX                  9
+
+/*
+ *  Definitions of the following may be omitted if the value is >= stated
+ *  minimum but is indeterminate.
+ *
+ *  NOTE:  LOGIN_NAME_MAX is named LOGNAME_MAX under Solaris 2.x.  Perhaps
+ *         the draft specification will be changing.  jrs 05/24/96
+ */
+
+#define LOGIN_NAME_MAX                      _POSIX_LOGIN_NAME_MAX
+#define TTY_NAME_MAX                        _POSIX_TTY_NAME_MAX
+#define PTHREAD_DESTRUCTOR_ITERATIONS       _POSIX_THREAD_DESTRUCTOR_ITERATIONS
+
+/*
+ *  RTEMS is smart enough to give us the minimum stack size if we ask
+ *  for too little.  Because the real RTEMS limit for this is cpu dependent
+ *  AND rtems header files are not installed yet, we cannot use the cpu
+ *  dependent constant CPU_STACK_MINIMUM_SIZE.  Moreover, we do not want
+ *  to duplicate that information here so we will just let RTEMS magically
+ *  give us its minimum stack size.
+ *
+ *  NOTE:  The other alternative is to have this be a macro for a 
+ *         routine in RTEMS which returns the constant.
+ */
+
+#define PTHREAD_STACK_MIN                   0
+
+/*
+ *  The maximum number of keys (PTHREAD_KEYS_MAX) and threads
+ *  (PTHREAD_THREADS_MAX) are configurable and may exceed the minimum.
+ *
+#define PTHREAD_KEYS_MAX                    _POSIX_THREAD_KEYS_MAX
+#define PTHREAD_THREADS_MAX                 _POSIX_THREAD_THREADS_MAX
+*/
+
+
+/****************************************************************************
+ ****************************************************************************
+ *                                                                          *
+ *         P1003.4b/D8 defines the constants below this comment.            *
+ *                                                                          *
+ **************************************************************************** 
+ ****************************************************************************/
+
+#define _POSIX_INTERRUPT_OVERRUN_MAX        32
+
+/*
+ *  Definitions of the following may be omitted if the value is >= stated
+ *  minimum but is indeterminate.
+ */
+
+#define INTERRUPT_OVERRUN_MAX               32
+
+/*
+ *  Pathname Variables
+ */
+
+#define MIN_ALLOC_SIZE      
+#define REC_MIN_XFER_SIZE   
+#define REC_MAX_XFER_SIZE   
+#define REC_INCR_XFER_SIZE  
+#define REC_XFER_ALIGN      
+#define MAX_ATOMIC_SIZE     
+
+#endif
+/* end of include file */
diff -urN newlib-1.15.0/newlib/libc/sys/kielder/include/mntent.h newlib-1.15.0_new/newlib/libc/sys/kielder/include/mntent.h
--- newlib-1.15.0/newlib/libc/sys/kielder/include/mntent.h	1970-01-01 00:00:00.000000000 +0000
+++ newlib-1.15.0_new/newlib/libc/sys/kielder/include/mntent.h	2007-09-22 16:27:54.937500000 +0100
@@ -0,0 +1,87 @@
+#ifndef	_MNTENT_H
+#define	_MNTENT_H
+
+
+#ifdef __cplusplus
+extern "C" {
+#endif
+
+#include <stdio.h>
+
+
+
+
+/*
+ *
+ */
+
+struct mntent
+{
+	char    *mnt_fsname;
+	char    *mnt_dir;
+	char    *mnt_type;
+	char    *mnt_opts;
+	int     mnt_freq;
+	int     mnt_passno;
+};
+
+
+
+
+/*
+ *
+ */
+
+#define MNT_CHECKLIST  "/etc/fstab" 
+#define	MNTTAB		"/etc/mnttab"
+#define	VFSTAB		"/etc/vfstab"
+#define	MNTMAXSTR	128
+
+
+/*
+ *
+ */
+ 
+#define MNTTYPE_IGNORE	"ignore"	/* Ignore this entry.  */
+#define MNTTYPE_NFS	"nfs"		/* Network file system.  */
+#define MNTTYPE_SWAP	"swap"		/* Swap device.  */
+
+
+
+
+/*
+ * Generic mount options
+ */
+
+#define MNTOPT_DEFAULTS	"defaults"	/* Use all default options.  */
+#define MNTOPT_RO	"ro"		/* Read only.  */
+#define MNTOPT_RW	"rw"		/* Read/write.  */
+#define MNTOPT_SUID	"suid"		/* Set uid allowed.  */
+#define MNTOPT_NOSUID	"nosuid"	/* No set uid allowed.  */
+#define MNTOPT_NOAUTO	"noauto"	/* Do not auto mount.  */
+
+
+
+
+/*
+ * Prototypes
+ */
+
+FILE *setmntent(const char *filename, const char *type);
+struct mntent *getmntent(FILE *filep);
+int addmntent(FILE *filep, const struct mntent *mnt);
+int endmntent(FILE *filep);
+char *hasmntopt(const struct mntent *mnt, const char *opt);
+struct mntent *getmntent_r (FILE *stream, struct mntent *result, char *buffer, int bufsize);
+
+
+
+
+#ifdef __cplusplus
+}
+#endif
+
+
+#endif
+
+
diff -urN newlib-1.15.0/newlib/libc/sys/kielder/include/netdb.h newlib-1.15.0_new/newlib/libc/sys/kielder/include/netdb.h
--- newlib-1.15.0/newlib/libc/sys/kielder/include/netdb.h	1970-01-01 00:00:00.000000000 +0000
+++ newlib-1.15.0_new/newlib/libc/sys/kielder/include/netdb.h	2007-09-29 23:05:47.875000000 +0100
@@ -0,0 +1,169 @@
+/* 
+ */
+
+
+
+#ifndef _NETDB_H_
+#define _NETDB_H_
+
+#include <inttypes.h>
+#include <sys/types.h>
+#include <sys/socket.h>
+#include <sys/cdefs.h>
+#include <netinet/in.h>
+
+
+
+/* The <netdb.h> header may define the in_port_t type and the in_addr_t type
+ *  as described in <netinet/in.h>.
+ */
+
+
+
+struct hostent
+{
+	char   *h_name;
+	char  **h_aliases;
+	int     h_addrtype;
+	int     h_length;
+	char  **h_addr_list;
+}; 
+   
+
+
+struct netent
+{
+	char     *n_name;
+	char    **n_aliases;
+	int       n_addrtype;
+	uint32_t n_net;
+};
+
+
+
+
+struct protoent
+{
+	char   *p_name;
+	char  **p_aliases;
+	int     p_proto;
+};
+
+
+
+struct servent
+{
+	char   *s_name;
+	char  **s_aliases;
+	int     s_port;
+	char   *s_proto;
+};
+
+
+
+
+#define IPPORT_RESERVED   1
+
+extern int h_errno;
+
+
+
+
+#define HOST_NOT_FOUND 1
+#define NO_DATA 2
+#define NO_RECOVERY 3
+#define TRY_AGAIN 4
+
+
+
+struct addrinfo
+{
+	int               ai_flags;
+	int               ai_family;
+	int               ai_socktype;
+	int               ai_protocol;
+	socklen_t         ai_addrlen;
+	struct sockaddr  *ai_addr;
+	char             *ai_canonname;
+	struct addrinfo  *ai_next;
+};
+
+
+
+
+#define AI_PASSIVE			(1<<0)
+#define AI_CANONNAME		(1<<1)
+#define AI_NUMERICHOST		(1<<2)
+#define AI_NUMERICSERV		(1<<3)
+#define AI_V4MAPPED			(1<<4)
+#define AI_ALL				(1<<5)
+#define AI_ADDRCONFIG		(1<<6)
+
+
+
+
+#define NI_NOFQDN			(1<<0)
+#define NI_NUMERICHOST		(1<<1)
+#define NI_NAMEREQD			(1<<2)
+#define NI_NUMERICSERV		(1<<3)
+#define NI_NUMERICSCOPE		(1<<4)
+#define NI_DGRAM			(1<<5)
+
+
+
+
+#define EAI_AGAIN			1
+#define EAI_BADFLAGS		2
+#define EAI_FAIL			3
+#define EAI_FAMILY			4
+#define EAI_MEMORY			5
+#define EAI_NONAME			6
+#define EAI_SERVICE			7
+#define EAI_SOCKTYPE		8
+#define EAI_SYSTEM			9
+#define EAI_OVERFLOW		10
+#define EAI_NODATA          11
+
+#define EAI_ADDRFAMILY      12
+
+
+
+
+
+
+void endhostent (void);
+void endnetent (void);
+void endprotoent (void);
+void endservent (void);
+void freeaddrinfo (struct addrinfo *);
+const char *gai_strerror (int);
+int getaddrinfo (const char *restrict, const char *restrict, const struct addrinfo *restrict, struct addrinfo **restrict);
+struct hostent *gethostbyaddr (const void *, socklen_t, int);
+struct hostent *gethostbyname (const char *);
+struct hostent *gethostent (void);
+int getnameinfo (const struct sockaddr *restrict, socklen_t, char *restrict, socklen_t, char *restrict, socklen_t, int);
+struct netent *getnetbyaddr (uint32_t, int);
+struct netent *getnetbyname (const char *);
+struct netent *getnetent (void);
+struct protoent *getprotobyname (const char *);
+struct protoent *getprotobynumber (int);
+struct protoent *getprotoent (void);
+struct servent *getservbyname (const char *, const char *);
+struct servent *getservbyport (int, const char *);
+struct servent *getservent (void);
+void sethostent (int);
+void setnetent (int);
+void setprotoent (int);
+void setservent (int);
+
+
+
+
+
+
+
+
+
+
+#endif /* !_NETDB_ */
+
diff -urN newlib-1.15.0/newlib/libc/sys/kielder/include/termios.h newlib-1.15.0_new/newlib/libc/sys/kielder/include/termios.h
--- newlib-1.15.0/newlib/libc/sys/kielder/include/termios.h	1970-01-01 00:00:00.000000000 +0000
+++ newlib-1.15.0_new/newlib/libc/sys/kielder/include/termios.h	2007-09-22 16:27:54.937500000 +0100
@@ -0,0 +1,234 @@
+/* termios.h
+ *
+ * termios.h is identical to /sys/termios.h.  Some applications appear to use
+ * different source directories, so this file exists in both directories.
+ */
+
+#ifndef _SYS_TERMIOS_H_
+#define _SYS_TERMIOS_H_
+
+#include <sys/types.h>
+#include <sys/cdefs.h>
+
+
+
+
+/*
+ * Control Characters in termios.c_cc[]
+ */
+ 
+#define	VEOF		0
+#define	VEOL		1
+#define	VEOL2		2
+#define	VERASE		3
+#define VWERASE 	4
+#define VKILL		5
+#define	VREPRINT 	6
+#define VINTR		8
+#define VQUIT		9
+#define VSUSP		10
+#define VDSUSP		11
+#define VSTART		12
+#define VSTOP		13
+#define	VLNEXT		14
+#define	VDISCARD	15
+#define VMIN		16
+#define VTIME		17
+#define VSTATUS		18
+#define	NCCS		20
+
+
+
+
+/*
+ * Input flags
+ */
+
+#define	IGNBRK		0x00000001
+#define	BRKINT		0x00000002
+#define	IGNPAR		0x00000004
+#define	PARMRK		0x00000008
+#define	INPCK		0x00000010
+#define	ISTRIP		0x00000020
+#define	INLCR		0x00000040
+#define	IGNCR		0x00000080
+#define	ICRNL		0x00000100
+#define	IXON		0x00000200
+#define	IXOFF		0x00000400
+#define	IXANY		0x00000800
+#define IMAXBEL		0x00002000
+
+
+
+
+/*
+ * Output flags
+ */
+
+#define	OPOST		0x00000001
+#define ONLCR		0x00000002
+#define OXTABS		0x00000004
+#define ONOEOT		0x00000008
+#define OCRNL		0x00000010
+#define ONOCR		0x00000020
+#define ONLRET		0x00000040
+
+
+
+
+/*
+ * Control flags - hardware control of terminal
+ */
+
+#define	CIGNORE		0x00000001
+#define CSIZE		0x00000300
+#define CS5		    0x00000000
+#define CS6		    0x00000100
+#define CS7		    0x00000200
+#define CS8		    0x00000300
+#define CSTOPB		0x00000400
+#define CREAD		0x00000800
+#define PARENB		0x00001000
+#define PARODD		0x00002000
+#define HUPCL		0x00004000
+#define CLOCAL		0x00008000
+#define	CRTSCTS		0x00010000
+#define	CRTS_IFLOW	CRTSCTS
+#define	CCTS_OFLOW	CRTSCTS
+#define	CDTRCTS		0x00020000
+#define	MDMBUF		0x00100000
+#define	CHWFLOW		(MDMBUF|CRTSCTS|CDTRCTS)
+
+
+
+
+/*
+ * Local flags 
+ */
+
+#define	ECHOKE		0x00000001
+#define	ECHOE		0x00000002
+#define	ECHOK		0x00000004
+#define ECHO		0x00000008
+#define	ECHONL		0x00000010
+#define	ECHOPRT		0x00000020
+#define ECHOCTL  	0x00000040
+#define	ISIG		0x00000080
+#define	ICANON		0x00000100
+#define ALTWERASE	0x00000200
+#define	IEXTEN		0x00000400
+#define EXTPROC     0x00000800
+#define TOSTOP		0x00400000
+#define FLUSHO		0x00800000
+#define	NOKERNINFO	0x02000000
+#define PENDIN		0x20000000
+#define	NOFLSH		0x80000000
+
+
+
+
+/*
+ * struct termios and types
+ */
+
+typedef unsigned int	tcflag_t;
+typedef unsigned char	cc_t;
+typedef unsigned int	speed_t;
+
+struct termios
+{
+	tcflag_t c_iflag;
+	tcflag_t c_oflag;
+	tcflag_t c_cflag;
+	tcflag_t c_lflag;
+	cc_t     c_cc[NCCS];
+	int      c_ispeed;
+	int      c_ospeed;
+};
+
+
+
+
+/*
+ * tcsetattr() action commands
+ */
+ 
+#define	TCSANOW		0
+#define	TCSADRAIN	1
+#define	TCSAFLUSH	2
+#define TCSASOFT	0x10
+
+
+
+
+/*
+ * Standard speeds
+ */
+
+#define B0	0
+#define B50	50
+#define B75	75
+#define B110	110
+#define B134	134
+#define B150	150
+#define B200	200
+#define B300	300
+#define B600	600
+#define B1200	1200
+#define	B1800	1800
+#define B2400	2400
+#define B4800	4800
+#define B9600	9600
+#define B19200	19200
+#define B38400	38400
+#define B7200	7200
+#define B14400	14400
+#define B28800	28800
+#define B57600	57600
+#define B76800	76800
+#define B115200	115200
+#define B230400	230400
+#define EXTA	19200
+#define EXTB	38400
+
+
+
+
+/*
+ * Line Control
+ */
+
+#define	TCIFLUSH	1
+#define	TCOFLUSH	2
+#define TCIOFLUSH	3
+#define	TCOOFF		1
+#define	TCOON		2
+#define TCIOFF		3
+#define TCION		4
+
+
+
+
+/*
+ * Prototypes
+ */
+
+int	cfsetispeed (struct termios *termios_p, speed_t speed);
+int	cfsetospeed (struct termios *termios_p, speed_t speed);
+int	tcgetattr (int fd, struct termios *termios_p);
+int	tcsetattr (int fd, int actions, const struct termios *termios_p);
+int	tcdrain (int fd);
+int	tcflow (int fd, int actions);
+int	tcflush (int fd, int queue_sel);
+int	tcsendbreak (int fd, int duration);
+pid_t tcgetsid (int fd);
+speed_t	cfgetispeed (const struct termios *termios_p);
+speed_t	cfgetospeed (const struct termios *termios_p);
+void cfmakeraw (struct termios *termios_p);
+int	cfsetspeed (struct termios *termios_p, speed_t speed);
+
+
+
+
+#endif /* !_SYS_TERMIOS_H_ */
+
diff -urN newlib-1.15.0/newlib/libc/sys/kielder/inhibit.c newlib-1.15.0_new/newlib/libc/sys/kielder/inhibit.c
--- newlib-1.15.0/newlib/libc/sys/kielder/inhibit.c	1970-01-01 00:00:00.000000000 +0000
+++ newlib-1.15.0_new/newlib/libc/sys/kielder/inhibit.c	2008-04-15 09:23:49.375000000 +0100
@@ -0,0 +1,28 @@
+#include <_ansi.h>
+#include <_syslist.h>
+#include <errno.h>
+#include <sys/syscall.h>
+
+
+
+
+/*
+ *
+ */
+
+int kos_inhibit (char *mount)
+{
+	return __syscall1 (_sysidx_inhibit, mount);
+}
+
+
+
+
+/*
+ *
+ */
+
+int kos_uninhibit (char *mount)
+{
+	return __syscall1 (_sysidx_uninhibit, mount);
+}
diff -urN newlib-1.15.0/newlib/libc/sys/kielder/ioctl.c newlib-1.15.0_new/newlib/libc/sys/kielder/ioctl.c
--- newlib-1.15.0/newlib/libc/sys/kielder/ioctl.c	1970-01-01 00:00:00.000000000 +0000
+++ newlib-1.15.0_new/newlib/libc/sys/kielder/ioctl.c	2007-09-22 16:27:54.953125000 +0100
@@ -0,0 +1,44 @@
+#include <_ansi.h>
+#include <_syslist.h>
+#include <sys/syscall.h>
+#include <errno.h>
+#include <sys/syscall.h>
+#include <sys/ksyscalls.h>
+#include <sys/ioctl.h>
+#include <unistd.h>
+
+
+
+
+/*
+ * ioctl();
+ */
+
+int ioctl (int fd, int request, ... )
+{
+	int arg;
+	int rc;
+	
+	va_list ap;
+	va_start(ap, request);
+	
+	
+	switch (request)
+	{
+		case IOCTL_CON_SETMAP:
+			arg = va_arg(ap, int);
+			rc = __syscall3 (_sysidx_ioctl, fd, request, arg);
+			break;
+	
+		default:
+			errno = EINVAL;
+			rc = -1;
+	}
+	
+	
+	va_end(ap);
+	
+	return rc;
+}
+
+
diff -urN newlib-1.15.0/newlib/libc/sys/kielder/link.c newlib-1.15.0_new/newlib/libc/sys/kielder/link.c
--- newlib-1.15.0/newlib/libc/sys/kielder/link.c	1970-01-01 00:00:00.000000000 +0000
+++ newlib-1.15.0_new/newlib/libc/sys/kielder/link.c	2007-09-22 16:27:54.953125000 +0100
@@ -0,0 +1,43 @@
+#include <_ansi.h>
+#include <_syslist.h>
+#include <errno.h>
+#include <sys/syscall.h>
+#include <unistd.h>
+
+
+
+/*
+ *
+ */
+
+int link (const char *existing, const char *new)
+{
+  errno = ENOSYS;
+  return -1;
+}
+
+
+
+
+/*
+ *
+ */
+
+int readlink(const char *path, char *buf, int bufsize)
+{
+	errno = EINVAL;
+	return -1;
+}
+
+
+
+
+/*
+ *
+ */
+
+int symlink(const char *path1, const char *path2)
+{
+  errno = ENOSYS;
+  return -1;	
+}
diff -urN newlib-1.15.0/newlib/libc/sys/kielder/lists.h newlib-1.15.0_new/newlib/libc/sys/kielder/lists.h
--- newlib-1.15.0/newlib/libc/sys/kielder/lists.h	1970-01-01 00:00:00.000000000 +0000
+++ newlib-1.15.0_new/newlib/libc/sys/kielder/lists.h	2007-09-22 16:27:54.968750000 +0100
@@ -0,0 +1,601 @@
+#ifndef KIELDER_LISTS_H
+#define KIELDER_LISTS_H
+
+
+
+/* -----------------------------------------------------------------------------
+** SYNOPSIS
+**
+** Double linked list with head and tail pointers in the header.
+**
+** -----------------------------------------------------------------------------
+*/
+
+/* Could add a name, makes it easier for arrays */
+
+#define LIST(type)															\
+	struct																	\
+	{																		\
+		struct type *head;													\
+		struct type *tail;													\
+	}
+
+
+#define LIST_DECLARE(name, type)											\
+	struct name																\
+	{																		\
+		struct type *head;													\
+		struct type *tail;													\
+	}
+
+     
+#define LIST_DEFINE(name)													\
+		struct name
+     
+
+#define LIST_ENTRY( type)													\
+	struct																	\
+	{																		\
+		struct type *next;													\
+		struct type *prev;													\
+	}
+	
+
+#define LIST_INIT( header)													\
+	{																		\
+		(header)->head = NULL;												\
+		(header)->tail = NULL;												\
+	}
+	
+
+#define LIST_CONCAT( dest, src, field)										\
+	{																		\
+		if ((src)->head != NULL)											\
+		{																	\
+			if ((dest)->head != NULL)										\
+			{																\
+				((dest)->tail)->field.next = (src)->head;					\
+				((src)->head)->field.prev = (dest)->tail;					\
+				(dest)->tail = (src)->tail;									\
+			}																\
+			else															\
+			{																\
+				((src)->head)->field.prev = NULL;							\
+				(dest)->head = (src)->head;									\
+				(dest)->tail = (src)->tail;									\
+			}																\
+		}																	\
+	}
+
+
+#define LIST_EMPTY( header)													\
+	(((header)->head == NULL) ? 1 : 0)
+
+	
+#define LIST_HEAD( header)													\
+	((header)->head)
+
+
+#define LIST_TAIL( header)													\
+	((header)->tail)
+
+
+#define LIST_NEXT( entry, field)											\
+	((entry)->field.next)
+
+
+#define LIST_PREV( entry, field)											\
+	((entry)->field.prev)
+
+
+#define LIST_ADD_HEAD( header, new_head, field)								\
+	{																		\
+		(new_head)->field.next = (header)->head;							\
+		(new_head)->field.prev = NULL;										\
+																			\
+		if ((header)->head != NULL)											\
+			 (header)->head->field.prev = new_head;							\
+		else																\
+			(header)->tail = new_head;										\
+																			\
+		(header)->head = new_head;											\
+	}
+
+
+#define LIST_ADD_TAIL( header, new_tail, field)								\
+	{																	\
+		(new_tail)->field.next = NULL;										\
+		(new_tail)->field.prev = (header)->tail;							\
+		if ((header)->tail != NULL)											\
+			(header)->tail->field.next = new_tail;							\
+		else																\
+			(header)->head = new_tail;										\
+		(header)->tail = new_tail;											\
+	}
+
+
+#define LIST_REM_HEAD( header, field)										\
+	{																	\
+		(header)->head = (header)->head->field.next;						\
+		if ((header)->head != NULL)											\
+			(header)->head->field.prev = NULL;								\
+		else																\
+			(header)->tail = NULL;											\
+	}
+
+
+#define LIST_REM_TAIL( header, field)										\
+	{																		\
+		(header)->tail = (header)->tail->field.prev;						\
+		if ((header)->tail != NULL)											\
+			(header)->tail->field.next = NULL;								\
+		else																\
+			(header)->head = NULL;											\
+	}
+
+
+#define LIST_INSERT_AFTER( header, prev_entry, new_entry, field)			\
+	{																		\
+		(new_entry)->field.next = (prev_entry)->field.next;					\
+		(new_entry)->field.prev = prev_entry;								\
+		(prev_entry)->field.next = new_entry;								\
+		if ((new_entry)->field.next != NULL)								\
+			(new_entry)->field.next->field.prev = new_entry;				\
+		else																\
+			(header)->tail = new_entry;										\
+	}
+	
+
+#define LIST_INSERT_BEFORE( header, next_entry, new_entry, field)			\
+	{																		\
+		(new_entry)->field.prev = (next_entry)->field.prev;					\
+		(new_entry)->field.next = next_entry;								\
+		(next_entry)->field.prev = new_entry;								\
+		if ((new_entry)->field.prev != NULL)								\
+			(new_entry)->field.prev->field.next = new_entry;				\
+		else																\
+			(header)->head = new_entry;										\
+	}
+	
+
+#define LIST_REM_ENTRY( header, entry, field)								\
+	{																		\
+		if ((entry)->field.prev != NULL)									\
+			(entry)->field.prev->field.next = (entry)->field.next;			\
+		else																\
+			(header)->head = (entry)->field.next;								\
+		if ((entry)->field.next != NULL)									\
+			(entry)->field.next->field.prev = (entry)->field.prev;			\
+		else																\
+			(header)->tail = (entry)->field.prev;								\
+	}
+
+
+
+
+/* -----------------------------------------------------------------------------
+** SYNOPSIS
+**
+** Single linked queue with head and tail pointers in the header.
+**
+** -----------------------------------------------------------------------------
+*/
+
+#define QUEUE( type)														\
+	struct																	\
+	{																		\
+		struct type *head;													\
+		struct type *tail;													\
+	}
+
+
+#define QUEUE_DECLARE(name, type)											\
+	struct name																\
+	{																		\
+		struct type *head;													\
+		struct type *tail;													\
+	}
+
+     
+#define QUEUE_DEFINE(name)													\
+		struct name
+
+
+#define QUEUE_ENTRY( type)													\
+	struct																	\
+	{																		\
+		struct type *next;													\
+	}
+
+
+#define QUEUE_INIT( header)													\
+	{																		\
+		(header)->head = NULL;												\
+		(header)->tail = NULL;												\
+	}
+
+
+#define QUEUE_EMPTY( header)												\
+	(((header)->head == NULL) ? 1 : 0)
+
+	
+#define QUEUE_HEAD( header)													\
+	((header)->head)
+
+
+#define QUEUE_TAIL( header)													\
+	((header)->tail)
+
+
+#define QUEUE_NEXT( entry, field)											\
+	((entry)->field.next)
+
+
+#define QUEUE_ADD_TAIL( header, new_tail, field)							\
+	{																		\
+		(new_tail)->field.next = NULL;										\
+		if ((header)->tail != NULL)											\
+			(header)->tail->field.next = new_tail;							\
+		else																\
+			(header)->head = new_tail;										\
+		(header)->tail = new_tail;											\
+	}
+
+
+#define QUEUE_REM_HEAD( header, field)										\
+	{																		\
+		(header)->head = (header)->head->field.next;						\
+		if ((header)->head == NULL)											\
+			(header)->tail = NULL;											\
+	}
+
+
+#define QUEUE_INSERT_AFTER( header, prec_entry, new_entry, field)			\
+	{																		\
+		(new_entry)->field.next = (prev_entry)->field.next;					\
+		(prev_entry)->field.next = new_entry;								\
+		if ((new_entry)->field.next == NULL)								\
+			(header)->tail = new_entry;										\
+	}
+
+#define QUEUE_REM_AFTER( header, prec_entry, rem_entry, field)				\
+	{																		\
+		if (prec_entry != NULL)												\
+			(prec_entry)->field.next = (rem_entry)->field.next;				\
+		else																\
+		{																	\
+			(header)->head = (header)->head->field.next;					\
+			if ((header)->head == NULL)										\
+				(header)->tail = NULL;										\
+		}																	\
+	}
+
+
+/* -----------------------------------------------------------------------------
+** SYNOPSIS
+**
+** Single linked list with only a head pointer in the header.
+**
+** -----------------------------------------------------------------------------
+*/
+
+#define STACK( type)														\
+	struct																	\
+	{																		\
+		struct type *head;													\
+	}
+
+
+#define STACK_DECLARE(name, type)											\
+	struct name																\
+	{																		\
+		struct type *head;													\
+	}
+
+     
+#define STACK_DEFINE(name)													\
+		struct name
+
+
+#define STACK_ENTRY( type)													\
+	struct																	\
+	{																		\
+		struct type *next;													\
+	}
+
+
+#define STACK_INIT( header)													\
+	(header)->head = NULL;
+
+
+#define STACK_EMPTY( header)												\
+	(((header)->head == NULL) ? 1 : 0)
+
+	
+#define STACK_HEAD( header)													\
+	((header)->head)
+
+
+#define STACK_NEXT( entry, field)											\
+	((entry)->field.next)
+
+
+#define STACK_ADD_HEAD( header, new_head, field)							\
+	{																		\
+		(new_head)->field.next = (header)->head;							\
+		(header)->head = new_head;											\
+	}
+
+
+#define STACK_REM_HEAD( header, field)										\
+	(header)->head = (header)->head->field.next;
+	
+
+#define STACK_INSERT_AFTER( header, prec_entry, new_entry, field)			\
+	{																		\
+		(new_entry)->field.next = (prev_entry)->field.next;					\
+		(prev_entry)->field.next = new_entry;								\
+	}
+
+
+
+
+/* -----------------------------------------------------------------------------
+** SYNOPSIS
+**
+** Double linked list with only a head pointer in the header.
+**
+** -----------------------------------------------------------------------------
+*/
+
+#define HEAP( type)															\
+	struct																	\
+	{																		\
+		struct type *head;													\
+	}
+
+
+#define HEAP_DECLARE(name, type)											\
+	struct name																\
+	{																		\
+		struct type *head;													\
+	}
+
+     
+#define HEAP_DEFINE(name)													\
+		struct name
+
+
+#define HEAP_ENTRY( type)													\
+	struct																	\
+	{																		\
+		struct type *next;													\
+		struct type *prev;													\
+	}
+
+
+#define HEAP_INIT( header)													\
+	(header)->head = NULL;
+
+
+#define HEAP_EMPTY( header)													\
+	(((header)->head == NULL) ? 1 : 0)
+
+	
+#define HEAP_HEAD( header)													\
+	((header)->head)
+
+
+#define HEAP_NEXT( entry, field)											\
+	((entry)->field.next)
+
+
+#define HEAP_PREV( entry, field)											\
+	((entry)->field.prev)
+
+
+#define HEAP_ADD_HEAD( header, new_head, field)								\
+	{																		\
+		(new_head)->field.next = (header)->head;							\
+		(new_head)->field.prev = NULL;										\
+		if ((header)->head != NULL)											\
+			(header)->head->field.prev = new_head;							\
+		(header)->head = new_head;											\
+	}
+
+
+#define HEAP_REM_HEAD( header, field)										\
+	{																		\
+		(header)->head = (header)->head->field.next;						\
+		if ((header)->head != NULL)											\
+			(header)->head->field.prev = NULL;								\
+	}
+
+
+#define HEAP_INSERT_AFTER( header, prev_entry, new_entry, field)			\
+	{																		\
+		(new_entry)->field.next = (prev_entry)->field.next;					\
+		(new_entry)->field.prev = prev_entry;								\
+		(prev_entry)->field.next = new_entry;								\
+		if ((new_entry)->field.next != NULL)								\
+			(new_entry)->field.next->field.prev = new_entry;				\
+	}
+
+
+#define HEAP_INSERT_BEFORE( header, next_entry, new_entry, field)			\
+	{																		\
+		(new_entry)->field.prev = (next_entry)->field.prev;					\
+		(new_entry)->field.next = next_entry;								\
+		(next_entry)->field.prev = new_entry;								\
+		if ((new_entry)->field.prev != NULL)								\
+			(new_entry)->field.prev->field.next = new_entry;				\
+		else																\
+			(header)->head = new_entry;										\
+	}
+
+
+#define HEAP_REM_ENTRY( header, entry, field)								\
+	{																		\
+		if ((entry)->field.prev != NULL)									\
+			(entry)->field.prev->field.next = (entry)->field.next;			\
+		else																\
+			(header)->head = entry->field.next;								\
+		if ((entry)->field.next != NULL)									\
+			(entry)->field.next->field.prev = (entry)->field.prev;			\
+	}
+
+
+
+
+/* -----------------------------------------------------------------------------
+** SYNOPSIS
+**
+** Circular queue with pointer to current head in header.
+**
+** -----------------------------------------------------------------------------
+*/
+
+#define CIRCLEQ( type)														\
+	struct																	\
+	{																		\
+		struct type *head;													\
+	}
+
+
+#define CIRCLEQ_DECLARE(name, type)											\
+	struct name																\
+	{																		\
+		struct type *head;													\
+	}
+
+     
+#define CIRCLEQ_DEFINE(name)												\
+		struct name
+
+
+#define CIRCLEQ_ENTRY( type)												\
+	struct																	\
+	{																		\
+		struct type *next;													\
+		struct type *prev;													\
+	}
+
+
+#define CIRCLEQ_INIT( header)												\
+	(header)->head = NULL;
+
+#define CIRCLEQ_SET_HEAD( header, new_head)									\
+	(header)->head = new_head;
+
+#define CIRCLEQ_EMPTY( header)												\
+	(((header)->head == NULL) ? 1 : 0)
+
+
+#define CIRCLEQ_HEAD( header)												\
+	((header)->head)
+
+
+#define CIRCLEQ_TAIL( header, field)										\
+	 (((header)->head != NULL) ? (header)->head->field.prev : NULL)
+	 
+	 
+#define CIRCLEQ_NEXT( entry, field)											\
+	((entry)->field.next)
+
+
+#define CIRCLEQ_PREV( entry, field)											\
+	((entry)->field.prev)
+
+
+#define CIRCLEQ_FORWARD( header, field)										\
+	{																		\
+		if ((header)->head != NULL)											\
+			(header)->head = (header)->head->field.next;					\
+	}
+
+
+#define CIRCLEQ_REVERSE( header, field)										\
+	{																		\
+		if ((header)->head != NULL)											\
+			(header)->head = (header)->head->field.next;					\
+	}
+
+
+#define CIRCLEQ_ADD_HEAD( header, new_head, field)							\
+	{																		\
+		if ((header)->head != NULL)											\
+		{																	\
+			(new_head)->field.next = (header)->head;						\
+			(new_head)->field.prev = (header)->head->field.prev;			\
+			(header)->head->field.prev = (new_head);						\
+			(new_head)->field.prev->field.next = (new_head);				\
+		}																	\
+		else																\
+		{																	\
+			(new_head)->field.next = (new_head);							\
+			(new_head)->field.prev = (new_head);							\
+		}																	\
+		(header)->head = (new_head);										\
+	}
+
+
+#define CIRCLEQ_ADD_TAIL( header, new_tail, field)							\
+	{																		\
+		if ((header)->head != NULL)											\
+		{																	\
+			(new_tail)->field.next = (header)->head;						\
+			(new_tail)->field.prev = (header)->head->field.prev;			\
+			(new_tail)->field.next->field.prev = (new_tail);				\
+			(new_tail)->field.prev->field.next = (new_tail);				\
+		}																	\
+		else																\
+		{																	\
+			(new_tail)->field.next = (new_tail);							\
+			(new_tail)->field.prev = (new_tail);							\
+			(header)->head = (new_tail);									\
+		}																	\
+	}
+
+
+#define CIRCLEQ_REM_HEAD( header, field)									\
+	{																		\
+		if ((header)->head->field.next != (header)->head)					\
+		{																	\
+			(header)->head->field.next->field.prev = (header)->head->field.prev;\
+			(header)->head->field.prev->field.next = (header)->head->field.next;\
+			(header)->head = (header)->head->field.next;					\
+		}																	\
+		else																\
+			(header)->head = NULL;											\
+	}
+
+
+#define CIRCLEQ_REM_TAIL( header, field)									\
+	{																		\
+		if ((header)->head->field.next != (header)->head)					\
+		{																	\
+			(header)->head->field.prev->field.prev->field.next = (header)->head;\
+			(header)->head->field.prev = (header)->head->field.prev->field.prev;\
+		}																	\
+		else																\
+			(header)->head = NULL;											\
+	}
+
+
+#define CIRCLEQ_REM_ENTRY( header, entry, field)							\
+	{																		\
+		if ((entry)->field.next != (entry))									\
+		{																	\
+			(entry)->field.next->field.prev = (entry)->field.prev;			\
+			(entry)->field.prev->field.next = (entry)->field.next;			\
+			if ((header)->head == (entry))									\
+				(header)->head = (entry)->field.next;						\
+		}																	\
+		else																\
+			(header)->head = NULL;											\
+	}
+
+
+
+
+#endif
diff -urN newlib-1.15.0/newlib/libc/sys/kielder/lseek.c newlib-1.15.0_new/newlib/libc/sys/kielder/lseek.c
--- newlib-1.15.0/newlib/libc/sys/kielder/lseek.c	1970-01-01 00:00:00.000000000 +0000
+++ newlib-1.15.0_new/newlib/libc/sys/kielder/lseek.c	2007-09-22 16:27:54.968750000 +0100
@@ -0,0 +1,12 @@
+#include <_ansi.h>
+#include <_syslist.h>
+#include <errno.h>
+#include <sys/syscall.h>
+
+
+
+int lseek (int file, int ptr, int dir)
+{
+	return __syscall3 (_sysidx_seek, file, ptr, dir);
+}
+
diff -urN newlib-1.15.0/newlib/libc/sys/kielder/machine/limits.h newlib-1.15.0_new/newlib/libc/sys/kielder/machine/limits.h
--- newlib-1.15.0/newlib/libc/sys/kielder/machine/limits.h	1970-01-01 00:00:00.000000000 +0000
+++ newlib-1.15.0_new/newlib/libc/sys/kielder/machine/limits.h	2007-09-22 16:27:54.968750000 +0100
@@ -0,0 +1,6 @@
+/*
+ *  $Id: limits.h,v 1.1 2002/11/07 19:27:36 jjohnstn Exp $
+ */
+
+/* intentionally empty file */
+
diff -urN newlib-1.15.0/newlib/libc/sys/kielder/machine/param.h newlib-1.15.0_new/newlib/libc/sys/kielder/machine/param.h
--- newlib-1.15.0/newlib/libc/sys/kielder/machine/param.h	1970-01-01 00:00:00.000000000 +0000
+++ newlib-1.15.0_new/newlib/libc/sys/kielder/machine/param.h	2007-09-22 16:27:54.984375000 +0100
@@ -0,0 +1,92 @@
+/*
+ *  $Id: param.h,v 1.1 2002/11/07 19:27:36 jjohnstn Exp $
+ */
+
+#ifndef _MACHINE_PARAM_H_
+#define	_MACHINE_PARAM_H_
+
+/*
+ * These aren't really machine-dependent for RTEMS.....
+ */
+
+/*
+#define MACHINE		"i386"
+#define MID_MACHINE	MID_I386
+*/
+
+/*
+ * Round p (pointer or byte index) up to a correctly-aligned value
+ * for all data types (int, long, ...).   The result is unsigned int
+ * and must be cast to any desired pointer type.
+ */
+#define ALIGNBYTES	(sizeof(int) - 1)
+#define ALIGN(p)	(((unsigned)(p) + ALIGNBYTES) & ~ALIGNBYTES)
+
+#define PAGE_SHIFT	12		/* LOG2(PAGE_SIZE) */
+#define PAGE_SIZE	(1<<PAGE_SHIFT)	/* bytes/page */
+#define PAGE_MASK	(PAGE_SIZE-1)
+#define NPTEPG		(PAGE_SIZE/(sizeof (pt_entry_t)))
+
+#define NPDEPG		(PAGE_SIZE/(sizeof (pd_entry_t)))
+#define PDRSHIFT	22		/* LOG2(NBPDR) */
+#define NBPDR		(1<<PDRSHIFT)	/* bytes/page dir */
+
+#define DEV_BSHIFT	9		/* log2(DEV_BSIZE) */
+#define DEV_BSIZE	(1<<DEV_BSHIFT)
+
+#define BLKDEV_IOSIZE	2048
+#define MAXPHYS		(64 * 1024)	/* max raw I/O transfer size */
+
+#define UPAGES	2		/* pages of u-area */
+
+/*
+ * Constants related to network buffer management.
+ * MCLBYTES must be no larger than CLBYTES (the software page size), and,
+ * on machines that exchange pages of input or output buffers with mbuf
+ * clusters (MAPPED_MBUFS), MCLBYTES must also be an integral multiple
+ * of the hardware page size.
+ */
+#ifndef	MSIZE
+#define MSIZE		128		/* size of an mbuf */
+#endif	/* MSIZE */
+
+#ifndef	MCLSHIFT
+#define MCLSHIFT	11		/* convert bytes to m_buf clusters */
+#endif	/* MCLSHIFT */
+#define MCLBYTES	(1 << MCLSHIFT)	/* size of an m_buf cluster */
+#define MCLOFSET	(MCLBYTES - 1)	/* offset within an m_buf cluster */
+
+/*
+ * Some macros for units conversion
+ */
+
+/* clicks to bytes */
+#define ctob(x)	((x)<<PAGE_SHIFT)
+
+/* bytes to clicks */
+#define btoc(x)	(((unsigned)(x)+PAGE_MASK)>>PAGE_SHIFT)
+
+/*
+ * btodb() is messy and perhaps slow because `bytes' may be an off_t.  We
+ * want to shift an unsigned type to avoid sign extension and we don't
+ * want to widen `bytes' unnecessarily.  Assume that the result fits in
+ * a daddr_t.
+ */
+#define btodb(bytes)	 		/* calculates (bytes / DEV_BSIZE) */ \
+	(sizeof (bytes) > sizeof(long) \
+	 ? (daddr_t)((unsigned long long)(bytes) >> DEV_BSHIFT) \
+	 : (daddr_t)((unsigned long)(bytes) >> DEV_BSHIFT))
+
+#define dbtob(db)			/* calculates (db * DEV_BSIZE) */ \
+	((off_t)(db) << DEV_BSHIFT)
+
+/*
+ * Mach derived conversion macros
+ */
+#define trunc_page(x)		((unsigned)(x) & ~PAGE_MASK)
+#define round_page(x)		((((unsigned)(x)) + PAGE_MASK) & ~PAGE_MASK)
+
+#define atop(x)			((unsigned)(x) >> PAGE_SHIFT)
+#define ptoa(x)			((unsigned)(x) << PAGE_SHIFT)
+
+#endif /* !_MACHINE_PARAM_H_ */
diff -urN newlib-1.15.0/newlib/libc/sys/kielder/malloc.c newlib-1.15.0_new/newlib/libc/sys/kielder/malloc.c
--- newlib-1.15.0/newlib/libc/sys/kielder/malloc.c	1970-01-01 00:00:00.000000000 +0000
+++ newlib-1.15.0_new/newlib/libc/sys/kielder/malloc.c	2008-04-15 09:45:52.437500000 +0100
@@ -0,0 +1,407 @@
+#include <_ansi.h>
+#include <_syslist.h>
+#include <sys/ksyscalls.h>
+#include <errno.h>
+#include <sys/types.h>
+#include <stdlib.h>
+#include <string.h>
+#include <lists.h>
+
+
+
+
+/*
+ *
+ */
+
+#define ALIGN_UP(val, alignment)								\
+	(((val + alignment - 1)/alignment)*alignment)
+#define ALIGN_DOWN(val, alignment)								\
+			((val) - ((val) % (alignment)))
+
+
+#define MAX_SLAB_SZ			0x10000
+#define MIN_LARGE_ALLOC_SZ	8192
+#define KMAL_ALIGN			16
+#define KMALLOC_CACHE_CNT 9
+#define KMALLOC_CACHE_SIZES 
+#define MMAP_DEFAULT_ALIGN  0x10000
+
+
+struct KMallocObject
+{
+	QUEUE_ENTRY (KMallocObject) free_entry;
+};
+
+
+struct KMallocSlab
+{
+	LIST_ENTRY (KMallocSlab) unfilled_slab_entry;
+	QUEUE (KMallocObject) free_object_list;
+	struct KMallocCache *cache;
+	size_t slab_sz;
+	size_t object_sz;
+	int max_objects;
+	int init_objects_cnt;
+	int free_cnt;
+};
+
+
+struct KMallocCache
+{
+	LIST (KMallocSlab) unfilled_slab_list;
+	size_t object_sz;
+};
+
+
+
+#define KMALLOC_SLAB_SZ		(ALIGN_UP(sizeof (struct KMallocSlab), KMAL_ALIGN))
+
+
+
+
+/*
+ *
+ */
+
+static unsigned long kmalloc_object_sz[] = {32,64,128,256,512,1024,2048, 4096, 8192};
+static unsigned long current_slab_sz[] = {4096, 4096, 4096, 4096, 4096, 8192,8192, MAX_SLAB_SZ, MAX_SLAB_SZ};
+static unsigned long increment_slab_sz[] = {4096, 4096, 4096, 4096, 4096, 8192,8192, 0, 0};
+
+
+struct KMallocCache kcache[KMALLOC_CACHE_CNT];
+LIST (KMallocSlab) large_slab_list;
+static int __malloc_ready = 0;
+static void *__domalloc (size_t size);
+
+
+
+
+/*
+ * Reentrant MM functions 
+ */
+
+void *_malloc_r (struct _reent *r, size_t size)
+{
+	return malloc (size);
+}
+
+
+
+
+/*
+ *
+ */
+
+void _free_r (struct _reent *r, void *ptr)
+{
+	free (ptr);
+}
+
+
+
+
+/*
+ *
+ */
+
+void *_calloc_r (struct _reent *r, size_t nelem, size_t elsize)
+{
+	return calloc (nelem, elsize);
+}
+
+
+
+
+/*
+ *
+ */
+
+void *_realloc_r (struct _reent *r, void *ptr, size_t size)
+{
+	return realloc (ptr, size);
+}
+
+
+
+
+/*
+ *
+ */
+
+void *malloc (size_t size)
+{
+	void *mem;
+	
+	mem = __domalloc (size);
+	return mem;	
+}
+
+
+
+
+/*
+ * __domalloc();
+ */
+
+static void *__domalloc (size_t size)
+{
+	struct KMallocSlab *slab;
+	struct KMallocObject *obj;
+	void *mem;
+	int kc;
+	int obj_offset;
+	int slab_sz;
+	
+		
+	if (__malloc_ready == 0)
+	{
+		for (kc=0; kc<9; kc++)
+		{
+			kcache[kc].object_sz = kmalloc_object_sz[kc];
+		}
+		
+		__malloc_ready = 1;
+	}
+	
+	
+	if (size == 0)
+	{
+
+		return NULL;
+	}	
+		
+	if (size <= kcache[KMALLOC_CACHE_CNT-1].object_sz)
+	{
+		for (kc=0; kc < KMALLOC_CACHE_CNT; kc ++)
+		{
+			if (size <= kcache[kc].object_sz)
+				break;
+		}
+		
+				
+		slab = LIST_HEAD(&kcache[kc].unfilled_slab_list);
+
+		if (slab == NULL)
+		{
+			/* allocate based on current_slab_sz */
+
+			slab_sz = current_slab_sz[kc];
+
+
+			if ((slab = kos_mmap (NULL, slab_sz, VM_PROT_READWRITE, 0)) == MAP_FAILED)
+			{
+				return NULL;
+			}
+			
+			LIST_ADD_HEAD (&kcache[kc].unfilled_slab_list, slab, unfilled_slab_entry);
+			QUEUE_INIT(&slab->free_object_list);
+		
+			slab->slab_sz = slab_sz;
+			slab->cache = &kcache[kc];
+			slab->object_sz = kcache[kc].object_sz; /* Needed or not ? */
+						
+			/* increment current_slab_sz here */
+			
+			current_slab_sz[kc] += increment_slab_sz[kc];
+			if (current_slab_sz[kc] > MAX_SLAB_SZ)
+				current_slab_sz[kc] = MAX_SLAB_SZ;
+			
+			
+			slab->max_objects = (slab->slab_sz
+								- ALIGN_UP(sizeof (struct KMallocSlab), slab->object_sz))
+								/ slab->object_sz;
+			
+			
+			slab->init_objects_cnt = 0;
+			slab->free_cnt = slab->max_objects;
+		}
+		
+		
+		if (slab->init_objects_cnt < slab->max_objects)
+		{
+			obj_offset = ALIGN_UP(sizeof (struct KMallocSlab), slab->object_sz)
+							+ (slab->init_objects_cnt * slab->object_sz);
+
+			obj = (struct KMallocObject *) ((unsigned char *)slab + obj_offset);
+			QUEUE_ADD_TAIL (&slab->free_object_list, obj, free_entry);
+			slab->init_objects_cnt++;
+		}
+		
+		
+		obj = QUEUE_HEAD(&slab->free_object_list);
+		QUEUE_REM_HEAD(&slab->free_object_list, free_entry);
+		
+		
+		/* Same kcache pointer here */
+		
+		slab->free_cnt--;
+		if (slab->free_cnt == 0)
+			LIST_REM_ENTRY (&kcache[kc].unfilled_slab_list, slab, unfilled_slab_entry);
+		
+		return (void *)obj;
+	}
+	else
+	{		
+		mem = kos_mmap (NULL, size, VM_PROT_READWRITE, 0);
+		
+		if (mem == MAP_FAILED)
+			return NULL;
+		else
+			return mem;
+	}
+}	
+
+
+
+
+/*
+ * free();
+ */
+ 
+void free (void *mem)
+{
+	struct KMallocObject *obj;
+	struct KMallocSlab *slab;
+	struct KMallocCache *kcache;
+
+	
+	obj = (struct KMallocObject *)mem;
+	
+	if (((unsigned long)mem % MMAP_DEFAULT_ALIGN) != 0)
+	{
+		slab = (struct KMallocSlab *) ALIGN_DOWN ((unsigned long)mem, MMAP_DEFAULT_ALIGN);
+		kcache = slab->cache;
+		
+		QUEUE_ADD_TAIL (&slab->free_object_list, obj, free_entry);
+		
+		if (slab->free_cnt == 0)
+		{
+			LIST_ADD_HEAD (&kcache->unfilled_slab_list, slab, unfilled_slab_entry);
+		}
+		
+		slab->free_cnt ++;
+		
+		if (slab->free_cnt == slab->max_objects)
+		{
+			LIST_REM_ENTRY (&kcache->unfilled_slab_list, slab, unfilled_slab_entry);
+			kos_munmap (slab);
+		}
+	}
+	else
+	{
+		kos_munmap (mem);
+	}
+}
+
+
+
+
+/*
+ * calloc()
+ */
+ 
+void *calloc (size_t nelem, size_t elsize)
+{
+	void *mem;
+
+	if ((mem = __domalloc (nelem * elsize)) != NULL)
+	{
+		memset (mem, 0, nelem * elsize);
+	}
+
+	return mem;
+}
+
+
+
+
+/*
+ * Do nothing on shrink!
+ *
+ * go the sys_maplength() route,  it is safer
+ * as other route may not succeed if we run out of
+ * page tables.
+ */
+
+void *realloc(void *ptr, size_t size)
+{
+	unsigned long addr, slab_base;
+	void *nptr;
+	size_t sz;
+	struct KMallocSlab *slab;
+	void *mem;
+	
+	
+	if (ptr == NULL)
+	{
+		mem = __domalloc (size);
+	}
+	else if (size == 0)
+	{
+		free (ptr);
+		mem = NULL;
+	}
+	else
+	{
+		addr = (unsigned long)ptr;
+		slab_base = (addr / MMAP_DEFAULT_ALIGN) * MMAP_DEFAULT_ALIGN;
+		
+		if (addr != slab_base)
+		{
+			slab = (struct KMallocSlab *)slab_base;
+			sz = slab->object_sz;
+			
+			if (size > sz)
+			{
+				nptr = __domalloc (size);
+				
+				if (nptr != NULL)
+				{
+					memcpy (nptr, ptr, sz);
+					free(ptr);
+					mem = nptr;
+				}
+				else
+				{
+					errno = ENOMEM;
+					mem = NULL;
+				}
+			}
+			else
+			{
+				mem = ptr;
+			}
+		}
+		else
+		{
+			sz = kos_sizeofmap (ptr);
+			
+			if (size > sz)
+			{
+				nptr = kos_mmap (0, sz, VM_PROT_READWRITE, 0);
+				
+				if (nptr != MAP_FAILED)
+				{
+					memcpy (nptr, ptr, sz);
+					kos_munmap(ptr);
+					mem = nptr;
+				}
+				else
+				{
+					errno = ENOMEM;
+					mem = NULL;
+				}
+			}
+			else
+			{
+				mem = ptr;
+			}
+		}
+	}
+	
+	return mem;
+}
+
+
+
diff -urN newlib-1.15.0/newlib/libc/sys/kielder/mknod.c newlib-1.15.0_new/newlib/libc/sys/kielder/mknod.c
--- newlib-1.15.0/newlib/libc/sys/kielder/mknod.c	1970-01-01 00:00:00.000000000 +0000
+++ newlib-1.15.0_new/newlib/libc/sys/kielder/mknod.c	2007-09-22 16:27:55.000000000 +0100
@@ -0,0 +1,21 @@
+#include <_ansi.h>
+#include <_syslist.h>
+#include <sys/syscall.h>
+#include <errno.h>
+#include <sys/syscall.h>
+#include <sys/stat.h>
+#include <unistd.h>
+
+
+
+
+/*
+ *
+ */
+
+int mknod (const char *path, mode_t mode, dev_t dev)
+{
+	errno = ENOSYS;
+	return -1;
+}
+
diff -urN newlib-1.15.0/newlib/libc/sys/kielder/mmap.c newlib-1.15.0_new/newlib/libc/sys/kielder/mmap.c
--- newlib-1.15.0/newlib/libc/sys/kielder/mmap.c	1970-01-01 00:00:00.000000000 +0000
+++ newlib-1.15.0_new/newlib/libc/sys/kielder/mmap.c	2008-04-15 09:45:50.984375000 +0100
@@ -0,0 +1,67 @@
+#include <_syslist.h>
+#include <sys/types.h>
+#include <sys/syscall.h>
+#include <sys/ksyscalls.h>
+#include <stdlib.h>
+
+
+
+
+/*
+ * Allocates 64k-aligned block of memory.
+ */
+
+void *kos_mmap (void *addr, size_t len, int prot, int flags)
+{
+	return (void *)__syscall4 (_sysidx_mmap, addr, len, prot, flags);
+}
+
+
+
+
+/*
+ * Frees block of memory pointed to by addr.  This is different to the
+ * POSIX munmap() as the size is not specified.
+ */
+
+int kos_munmap (void *addr)
+{
+	return __syscall1 (_sysidx_munmap, addr);
+}
+
+
+
+
+/*
+ * Change protections of an area of memory.
+ */
+
+int kos_mprotect (void *addr, int prot)
+{
+	return __syscall2 (_sysidx_mprotect, addr, prot);
+}
+
+
+
+
+/*
+ * Get the size of an area of memory.
+ */
+
+size_t kos_sizeofmap (void *ptr)
+{
+	return (size_t) __syscall1 (_sysidx_sizeofmap, ptr);
+}
+
+
+
+
+/*
+ *
+ */
+
+int getpagesize (void)
+{
+	return __syscall0 (_sysidx_getpagesize);
+}
+
diff -urN newlib-1.15.0/newlib/libc/sys/kielder/mntent.c newlib-1.15.0_new/newlib/libc/sys/kielder/mntent.c
--- newlib-1.15.0/newlib/libc/sys/kielder/mntent.c	1970-01-01 00:00:00.000000000 +0000
+++ newlib-1.15.0_new/newlib/libc/sys/kielder/mntent.c	2007-09-22 16:27:55.000000000 +0100
@@ -0,0 +1,67 @@
+#include <stdio.h>
+#include <mntent.h>
+#include <errno.h>
+#include <sys/syscall.h>
+
+
+
+
+/*
+ *
+ */
+
+FILE *setmntent(const char *filename, const char *type)
+{
+	errno = ENOSYS;
+	return NULL;
+}
+
+
+
+
+/*
+ *
+ */
+
+struct mntent *getmntent(FILE *filep)
+{
+	errno = ENOSYS;
+	return NULL;
+}
+
+
+
+
+/*
+ *
+ */
+
+int addmntent(FILE *filep, const struct mntent *mnt)
+{
+	errno = ENOSYS;
+	return 0;
+}
+
+
+
+
+int endmntent(FILE *filep)
+{
+	errno = ENOSYS;
+	return 0;
+}
+
+
+
+
+/*
+ *
+ */
+
+char *hasmntopt(const struct mntent *mnt, const char *opt)
+{
+	errno = ENOSYS;
+	return NULL;
+}
+
+
diff -urN newlib-1.15.0/newlib/libc/sys/kielder/mntent.h newlib-1.15.0_new/newlib/libc/sys/kielder/mntent.h
--- newlib-1.15.0/newlib/libc/sys/kielder/mntent.h	1970-01-01 00:00:00.000000000 +0000
+++ newlib-1.15.0_new/newlib/libc/sys/kielder/mntent.h	2007-09-22 16:27:55.000000000 +0100
@@ -0,0 +1,65 @@
+#ifndef	_MNTENT_H
+#define	_MNTENT_H
+
+
+#ifdef __cplusplus
+extern "C" {
+#endif
+
+#include <stdio.h>
+
+
+struct mntent
+{
+	char    *mnt_fsname;    /* name of mounted file system */
+	char    *mnt_dir;      /* file system path prefix */
+	char    *mnt_type;      /* mount type (see mntent.h) */
+	char    *mnt_opts;      /* mount options (see mntent.h) */
+	int     mnt_freq;      /* dump frequency in days */
+	int     mnt_passno;     /* pass number on parallel fsck */
+};
+
+
+
+
+#define MNT_CHECKLIST  "/etc/fstab" 
+#define	MNTTAB		"/etc/mnttab"
+#define	VFSTAB		"/etc/vfstab"
+#define	MNTMAXSTR	128
+
+#define MNTTYPE_IGNORE	"ignore"	/* Ignore this entry.  */
+#define MNTTYPE_NFS	"nfs"		/* Network file system.  */
+#define MNTTYPE_SWAP	"swap"		/* Swap device.  */
+
+
+/* Generic mount options.  */
+#define MNTOPT_DEFAULTS	"defaults"	/* Use all default options.  */
+#define MNTOPT_RO	"ro"		/* Read only.  */
+#define MNTOPT_RW	"rw"		/* Read/write.  */
+#define MNTOPT_SUID	"suid"		/* Set uid allowed.  */
+#define MNTOPT_NOSUID	"nosuid"	/* No set uid allowed.  */
+#define MNTOPT_NOAUTO	"noauto"	/* Do not auto mount.  */
+
+
+
+
+
+
+
+
+FILE *setmntent(const char *filename, const char *type);
+struct mntent *getmntent(FILE *filep);
+int addmntent(FILE *filep, const struct mntent *mnt);
+int endmntent(FILE *filep);
+char *hasmntopt(const struct mntent *mnt, const char *opt);
+struct mntent *getmntent_r (FILE *stream, struct mntent *result, char *buffer, int bufsize);
+
+
+#ifdef __cplusplus
+}
+#endif
+
+
+#endif
+
+
diff -urN newlib-1.15.0/newlib/libc/sys/kielder/mount.c newlib-1.15.0_new/newlib/libc/sys/kielder/mount.c
--- newlib-1.15.0/newlib/libc/sys/kielder/mount.c	1970-01-01 00:00:00.000000000 +0000
+++ newlib-1.15.0_new/newlib/libc/sys/kielder/mount.c	2008-04-15 12:56:12.812500000 +0100
@@ -0,0 +1,68 @@
+#include <_ansi.h>
+#include <_syslist.h>
+#include <errno.h>
+#include <sys/syscall.h>
+#include <sys/mount.h>
+#include <sys/ksyscalls.h>
+
+
+
+
+/*
+ *
+ */
+
+int kos_mount (char *mount, char *handler, char *device, char **handler_args)
+{
+	return __syscall4 (_sysidx_mount, mount, handler, device, handler_args);
+}
+
+
+
+
+/*
+ *
+ */
+
+int kos_unmount (char *mount)
+{
+	return __syscall1 (_sysidx_unmount, mount);
+}
+
+
+
+
+/*
+ *
+ */
+
+int kos_mountinfo (char *mount, struct statfs *buf)
+{
+	return __syscall2 (_sysidx_mountinfo, mount, buf);
+}
+
+
+
+
+/*
+ * FIXME:  Needs to call opendir/readdir/kos_mountinfo
+ */
+
+int getfsstat (struct statfs *buf, int bufsize, int flags)
+{
+	return 0;
+}
+
+
+
+
+/*
+ *
+ */
+
+int getmntinfo (struct statfs **mntbufp, int flags)
+{
+	return 0;
+}
+
+
diff -urN newlib-1.15.0/newlib/libc/sys/kielder/netinet/in.h newlib-1.15.0_new/newlib/libc/sys/kielder/netinet/in.h
--- newlib-1.15.0/newlib/libc/sys/kielder/netinet/in.h	1970-01-01 00:00:00.000000000 +0000
+++ newlib-1.15.0_new/newlib/libc/sys/kielder/netinet/in.h	2007-09-28 19:19:22.343750000 +0100
@@ -0,0 +1,59 @@
+/* 
+ */
+
+
+
+#ifndef _NETINET_IN_H_
+#define _NETINET_IN_H_
+
+#include <inttypes.h>
+#include <sys/types.h>
+#include <sys/socket.h>
+#include <sys/cdefs.h>
+
+
+
+typedef uint16_t in_port_t;
+typedef uint32_t in_addr_t;
+
+
+
+struct in_addr
+{
+	in_addr_t s_addr;
+};
+
+
+struct sockaddr_in
+{
+	sa_family_t sin_family;
+	in_port_t sin_port;
+	struct in_addr sin_addr;
+};
+
+
+
+
+#define IPPROTO_IP			1
+#define IPPROTO_ICMP		2
+#define IPPROTO_RAW			3
+#define IPPROTO_TCP			4
+#define IPPROTO_UDP			5
+
+
+
+#define INADDR_ANY			1
+#define INADDR_BROADCAST	2
+
+
+#define INET_ADDRSTRLEN		16
+
+
+
+
+
+
+
+
+#endif /* !_NETINET_IN_ */
+
diff -urN newlib-1.15.0/newlib/libc/sys/kielder/open.c newlib-1.15.0_new/newlib/libc/sys/kielder/open.c
--- newlib-1.15.0/newlib/libc/sys/kielder/open.c	1970-01-01 00:00:00.000000000 +0000
+++ newlib-1.15.0_new/newlib/libc/sys/kielder/open.c	2007-09-22 16:27:55.015625000 +0100
@@ -0,0 +1,34 @@
+#include <_ansi.h>
+#include <_syslist.h>
+#include <errno.h>
+#include <sys/syscall.h>
+#include <fcntl.h>
+#include <sys/stat.h>
+
+
+
+/*
+ * open();
+ *
+ * Needs fixing, to use the vararg 'mode' depending on flags.
+ */
+
+int open (const char *file, int flags, ...)
+{
+	int fd;
+	int mode;
+	va_list ap;
+	
+	va_start(ap, flags);
+	
+	if (flags & O_CREAT)
+		mode = va_arg(ap, int);
+	else
+		mode = S_IRUSR | S_IWUSR | S_IRGRP | S_IWGRP | S_IROTH | S_IWOTH;
+	
+	fd = __syscall3 (_sysidx_open, file, flags, mode);
+		
+	va_end(ap);
+	
+	return fd;
+}
diff -urN newlib-1.15.0/newlib/libc/sys/kielder/opendir.c newlib-1.15.0_new/newlib/libc/sys/kielder/opendir.c
--- newlib-1.15.0/newlib/libc/sys/kielder/opendir.c	1970-01-01 00:00:00.000000000 +0000
+++ newlib-1.15.0_new/newlib/libc/sys/kielder/opendir.c	2007-09-22 16:27:55.031250000 +0100
@@ -0,0 +1,49 @@
+#include <sys/types.h>
+#include <dirent.h>
+#include <fcntl.h>
+#include <stdlib.h>
+#include <unistd.h>
+#include <sys/syscall.h>
+
+
+
+DIR *opendir (const char *name)
+{
+	DIR *dirp;
+	struct dirent *dirent;
+	int fd;
+
+
+	fd = __syscall1 (_sysidx_opendir, name);
+	
+	if (fd != -1)
+	{
+		if ((dirp = (DIR *)malloc (sizeof(DIR))) != NULL)
+		{
+			dirent = malloc (sizeof (struct dirent));
+			
+			if (dirent != NULL)
+			{
+				dirent->d_ino = 0;
+				dirent->d_name[0] = '\0';
+				
+				dirp->dirent = dirent;
+				dirp->dd_fd = fd;
+				return dirp;		
+			}
+			
+			free (dirp);
+		}
+		
+		close (fd);
+	}
+	
+	return NULL;
+}
+
+	/*
+	 * If CLSIZE is an exact multiple of DIRBLKSIZ, use a CLSIZE
+	 * buffer that it cluster boundary aligned.
+	 * Hopefully this can be a big win someday by allowing page trades
+	 * to user space to be done by getdirentries()
+	 */
diff -urN newlib-1.15.0/newlib/libc/sys/kielder/pathconf.c newlib-1.15.0_new/newlib/libc/sys/kielder/pathconf.c
--- newlib-1.15.0/newlib/libc/sys/kielder/pathconf.c	1970-01-01 00:00:00.000000000 +0000
+++ newlib-1.15.0_new/newlib/libc/sys/kielder/pathconf.c	2007-09-22 16:27:55.031250000 +0100
@@ -0,0 +1,22 @@
+
+#include <_ansi.h>
+#include <_syslist.h>
+#include <sys/syscall.h>
+#include <errno.h>
+#include <sys/types.h>
+#include <unistd.h>
+
+
+
+long fpathconf(int filedes, int name)
+{
+	return -1;
+}
+
+
+long pathconf(const char *path, int name)
+{
+	return -1;
+}
+
+
diff -urN newlib-1.15.0/newlib/libc/sys/kielder/pipe.c newlib-1.15.0_new/newlib/libc/sys/kielder/pipe.c
--- newlib-1.15.0/newlib/libc/sys/kielder/pipe.c	1970-01-01 00:00:00.000000000 +0000
+++ newlib-1.15.0_new/newlib/libc/sys/kielder/pipe.c	2008-04-15 10:04:07.640625000 +0100
@@ -0,0 +1,18 @@
+
+#include <_ansi.h>
+#include <_syslist.h>
+#include <errno.h>
+#include <sys/syscall.h>
+#include <sys/ksyscalls.h>
+
+
+
+
+/*
+ * pipe()
+ */
+ 
+int pipe (int fd[2])
+{
+	return __syscall1 (_sysidx_pipe, fd);
+}
diff -urN newlib-1.15.0/newlib/libc/sys/kielder/popen.c newlib-1.15.0_new/newlib/libc/sys/kielder/popen.c
--- newlib-1.15.0/newlib/libc/sys/kielder/popen.c	1970-01-01 00:00:00.000000000 +0000
+++ newlib-1.15.0_new/newlib/libc/sys/kielder/popen.c	2007-09-22 16:27:55.046875000 +0100
@@ -0,0 +1,34 @@
+#include <_ansi.h>
+#include <_syslist.h>
+#include <errno.h>
+#include <sys/syscall.h>
+#include <stdio.h>
+
+
+
+
+/*
+ *
+ */
+
+FILE *popen (const char *command, const char *mode)
+{
+	errno = ENOSYS;
+	return NULL;
+}
+
+
+
+
+/*
+ *
+ */
+
+int pclose (FILE *stream)
+{
+	errno = ENOSYS;
+	return -1;
+}
+
+
+
diff -urN newlib-1.15.0/newlib/libc/sys/kielder/pwd.c newlib-1.15.0_new/newlib/libc/sys/kielder/pwd.c
--- newlib-1.15.0/newlib/libc/sys/kielder/pwd.c	1970-01-01 00:00:00.000000000 +0000
+++ newlib-1.15.0_new/newlib/libc/sys/kielder/pwd.c	2007-10-02 12:18:36.796875000 +0100
@@ -0,0 +1,166 @@
+#include <_ansi.h>
+#include <_syslist.h>
+#include <sys/syscall.h>
+#include <errno.h>
+#include <sys/types.h>
+#include <unistd.h>
+#include <sys/stat.h>
+#include <pwd.h>
+
+
+
+
+/*
+ *
+ */
+
+struct passwd *getpwnam(const char *name)
+{
+	return NULL;
+}
+
+
+
+
+/*
+ *
+ */
+
+char *crypt(const char *key, const char *salt)
+{
+	errno = ENOSYS;
+	return NULL;
+}
+
+
+
+
+/*
+ *
+ */
+
+char *getlogin(void)
+{
+	return NULL;
+}
+
+
+
+
+
+/*
+ *
+ */
+
+struct passwd *getpwuid(uid_t uid)
+{
+	errno = ENOSYS;
+	return NULL;
+}
+
+
+
+
+/*
+ *
+ */
+
+struct group *getgrgid(gid_t gid)
+{
+	errno = ENOSYS;
+	return NULL;
+}
+
+
+
+
+/*
+ *
+ */
+
+struct group *getgrnam(const char *name)
+{
+	errno = ENOSYS;
+	return NULL;
+}
+
+
+
+
+/*
+ *
+ */
+
+struct passwd *getpwent(void)
+{
+	return NULL;
+}
+
+
+
+
+/*
+ *
+ */
+
+void setpwent(void)
+{
+}
+
+
+
+
+/*
+ *
+ */
+
+void endpwent(void)
+{
+}
+
+
+
+
+/*
+ *
+ */
+
+void endgrent(void)
+{
+}
+
+
+
+
+/*
+ *
+ */
+
+struct group *getgrent(void)
+{
+	return NULL;
+}
+
+
+
+
+/*
+ *
+ */
+
+void setgrent(void)
+{
+}
+
+
+
+
+/*
+ *
+ */
+
+int setgroups (int ngroups, const gid_t grouplist)
+{
+	errno = ENOSYS;
+	return -1;
+}
\ No newline at end of file
diff -urN newlib-1.15.0/newlib/libc/sys/kielder/read.c newlib-1.15.0_new/newlib/libc/sys/kielder/read.c
--- newlib-1.15.0/newlib/libc/sys/kielder/read.c	1970-01-01 00:00:00.000000000 +0000
+++ newlib-1.15.0_new/newlib/libc/sys/kielder/read.c	2007-09-22 16:27:55.046875000 +0100
@@ -0,0 +1,16 @@
+#include <_ansi.h>
+#include <_syslist.h>
+#include <sys/syscall.h>
+#include <errno.h>
+
+
+
+
+/*
+ *
+ */
+
+int read (int fd, char *ptr, int len)
+{
+	return __syscall3 (_sysidx_read, fd, ptr, len);
+}
diff -urN newlib-1.15.0/newlib/libc/sys/kielder/readdir.c newlib-1.15.0_new/newlib/libc/sys/kielder/readdir.c
--- newlib-1.15.0/newlib/libc/sys/kielder/readdir.c	1970-01-01 00:00:00.000000000 +0000
+++ newlib-1.15.0_new/newlib/libc/sys/kielder/readdir.c	2007-09-22 16:27:55.062500000 +0100
@@ -0,0 +1,20 @@
+#include <sys/types.h>
+#include <dirent.h>
+#include <sys/syscall.h>
+
+
+
+
+/*
+ *
+ */
+
+struct dirent *readdir (register DIR *dirp)
+{
+	if (__syscall2 (_sysidx_readdir, dirp->dd_fd, dirp->dirent) == 0)
+		return dirp->dirent;
+	else
+		return NULL;
+}
+
+
diff -urN newlib-1.15.0/newlib/libc/sys/kielder/readme.txt newlib-1.15.0_new/newlib/libc/sys/kielder/readme.txt
--- newlib-1.15.0/newlib/libc/sys/kielder/readme.txt	1970-01-01 00:00:00.000000000 +0000
+++ newlib-1.15.0_new/newlib/libc/sys/kielder/readme.txt	2008-04-15 11:29:01.359375000 +0100
@@ -0,0 +1,9 @@
+
+When adding files to this directory, add the name
+of the object file to makefile.am then run the following
+commands in this directory.
+
+
+aclocal -I ../../..
+autoconf
+automake --cygnus --add-missing Makefile
diff -urN newlib-1.15.0/newlib/libc/sys/kielder/reboot.c newlib-1.15.0_new/newlib/libc/sys/kielder/reboot.c
--- newlib-1.15.0/newlib/libc/sys/kielder/reboot.c	1970-01-01 00:00:00.000000000 +0000
+++ newlib-1.15.0_new/newlib/libc/sys/kielder/reboot.c	2008-04-15 10:26:33.718750000 +0100
@@ -0,0 +1,19 @@
+#include <_ansi.h>
+#include <_syslist.h>
+#include <errno.h>
+#include <sys/syscall.h>
+
+
+
+
+/*
+ *
+ */
+
+int kos_reboot (unsigned long how)
+{
+	return __syscall1 (_sysidx_reboot, how);
+}
+
+
+
diff -urN newlib-1.15.0/newlib/libc/sys/kielder/rename.c newlib-1.15.0_new/newlib/libc/sys/kielder/rename.c
--- newlib-1.15.0/newlib/libc/sys/kielder/rename.c	1970-01-01 00:00:00.000000000 +0000
+++ newlib-1.15.0_new/newlib/libc/sys/kielder/rename.c	2007-09-22 16:27:55.062500000 +0100
@@ -0,0 +1,16 @@
+#include <_ansi.h>
+#include <_syslist.h>
+#include <errno.h>
+#include <sys/syscall.h>
+
+
+/*
+ * open();
+ *
+ * Needs fixing, to use the vararg 'mode' depending on flags.
+ */
+
+int rename (const char *old_name, const char *new_name)
+{
+	return __syscall2 (_sysidx_rename, old_name, new_name);
+}
diff -urN newlib-1.15.0/newlib/libc/sys/kielder/resource.c newlib-1.15.0_new/newlib/libc/sys/kielder/resource.c
--- newlib-1.15.0/newlib/libc/sys/kielder/resource.c	1970-01-01 00:00:00.000000000 +0000
+++ newlib-1.15.0_new/newlib/libc/sys/kielder/resource.c	2007-10-02 09:42:42.437500000 +0100
@@ -0,0 +1,33 @@
+#include <_ansi.h>
+#include <_syslist.h>
+#include <sys/syscall.h>
+#include <errno.h>
+#include <sys/resource.h>
+
+
+
+
+/*
+ *
+ */
+
+int getrlimit(int resource, struct rlimit *rlp)
+{
+	errno = ENOSYS;
+	return -1;
+}
+
+
+
+
+/*
+ *
+ */
+
+int setrlimit(int resource, const struct rlimit *rlp)
+{
+	errno = ENOSYS;
+	return -1;
+}
+
+
diff -urN newlib-1.15.0/newlib/libc/sys/kielder/rewinddir.c newlib-1.15.0_new/newlib/libc/sys/kielder/rewinddir.c
--- newlib-1.15.0/newlib/libc/sys/kielder/rewinddir.c	1970-01-01 00:00:00.000000000 +0000
+++ newlib-1.15.0_new/newlib/libc/sys/kielder/rewinddir.c	2007-09-22 16:27:55.078125000 +0100
@@ -0,0 +1,16 @@
+#include <sys/types.h>
+#include <dirent.h>
+#include <sys/syscall.h>
+
+
+
+
+/*
+ *
+ */
+
+void rewinddir (DIR *dirp)
+{
+	__syscall1 (_sysidx_rewinddir, dirp->dd_fd);
+}
+
diff -urN newlib-1.15.0/newlib/libc/sys/kielder/select.c newlib-1.15.0_new/newlib/libc/sys/kielder/select.c
--- newlib-1.15.0/newlib/libc/sys/kielder/select.c	1970-01-01 00:00:00.000000000 +0000
+++ newlib-1.15.0_new/newlib/libc/sys/kielder/select.c	2007-09-28 20:03:48.843750000 +0100
@@ -0,0 +1,39 @@
+#include <_ansi.h>
+#include <_syslist.h>
+#include <errno.h>
+#include <sys/syscall.h>
+#include <sys/select.h>
+
+
+
+
+/*
+ *
+ */
+
+int pselect(int nfds, fd_set *readfds,
+       fd_set *writefds, fd_set *errorfds,
+       const struct timespec *timeout,
+       const sigset_t *sigmask)
+{
+	errno = EINTR;
+	return -1;
+}
+       
+
+
+
+/* 
+ *
+ */
+    
+int select(int nfds, fd_set *readfds,
+       fd_set *writefds, fd_set *errorfds,
+       struct timeval *timeout)
+{
+	errno = EINTR;
+	return -1;
+}
+
+
+
diff -urN newlib-1.15.0/newlib/libc/sys/kielder/siglist.c newlib-1.15.0_new/newlib/libc/sys/kielder/siglist.c
--- newlib-1.15.0/newlib/libc/sys/kielder/siglist.c	1970-01-01 00:00:00.000000000 +0000
+++ newlib-1.15.0_new/newlib/libc/sys/kielder/siglist.c	2007-09-22 16:27:55.078125000 +0100
@@ -0,0 +1,126 @@
+#include <_ansi.h>
+#include <_syslist.h>
+#include <sys/syscall.h>
+#include <errno.h>
+#include <signal.h>
+
+
+
+
+/*
+ *
+ */
+ 
+const char * const sys_siglist[NSIG] =
+{
+	/*  0           */ "Unknown Signal",
+	/*  1 SIGHUP    */ "Hangup",
+	/*  2 SIGINT    */ "Interrupt",
+	/*  3 SIGQUIT   */ "Quit",
+	/*  4 SIGILL    */ "Illegal instruction",
+	/*  5 SIGTRAP   */ "BPT trace/trap",
+	/*  6 SIGABORT  */ "ABORT instruction",
+	/*  7 SIGEMT    */ "EMT instruction",
+	/*  8 SIGFPE    */ "Floating point exception",
+	/*  9 SIGKILL   */ "Killed",
+	/* 10 SIGBUS    */ "Bus error",
+	/* 11 SIGSEGV   */ "Segmentation fault",
+	/* 12 SIGSYS    */ "Bad system call",
+	/* 13 SIGPIPE   */ "Broken pipe",
+	/* 14 SIGALRM   */ "Alarm clock",
+	/* 15 SIGTERM   */ "Terminated",
+	/* 16 SIGURG    */ "Urgent IO condition",
+	/* 17 SIGSTOP   */ "Stopped (signal)",
+	/* 18 SIGTSTP   */ "Stopped",
+	/* 19 SIGCONT   */ "Continue",
+	/* 20 SIGCHLD   */ "Child death or stop",
+	/* 21 SIGTTIN   */ "Stopped (tty input)",
+	/* 22 SIGTTOU   */ "Stopped (tty output)",
+	/* 23 SIGIO     */ "I/O ready",
+	/* 24 SIGXCPU   */ "CPU limit",
+	/* 25 SIGXFSZ   */ "File limit",
+	/* 26 SIGVTALRM */ "Alarm (virtual)",
+	/* 27 SIGPROF   */ "Alarm (profile)",
+	/* 28 SIGWINCH  */ "Window changed",
+	/* 29 SIGLOST   */ "Record lock",
+	/* 30 SIGUSR1   */ "User signal 1",
+	/* 31 SIGUSR2   */ "User signal 2"
+};
+
+
+
+
+/*
+ *
+ */
+
+const char * const sys_signame[NSIG] =
+{
+	/*  0           */ "signal 0",
+	/*  1 SIGHUP    */ "hup",
+	/*  2 SIGINT    */ "int",
+	/*  3 SIGQUIT   */ "quit",
+	/*  4 SIGILL    */ "ill",
+	/*  5 SIGTRAP   */ "trap",
+	/*  6 SIGABORT  */ "abort",
+	/*  7 SIGEMT    */ "emt",
+	/*  8 SIGFPE    */ "fpe",
+	/*  9 SIGKILL   */ "kill",
+	/* 10 SIGBUS    */ "bus",
+	/* 11 SIGSEGV   */ "segv",
+	/* 12 SIGSYS    */ "sys",
+	/* 13 SIGPIPE   */ "pipe",
+	/* 14 SIGALRM   */ "alrm",
+	/* 15 SIGTERM   */ "term",
+	/* 16 SIGURG    */ "urg",
+	/* 17 SIGSTOP   */ "stop",
+	/* 18 SIGTSTP   */ "tstp",
+	/* 19 SIGCONT   */ "cont",
+	/* 20 SIGCHLD   */ "chld",
+	/* 21 SIGTTIN   */ "ttin",
+	/* 22 SIGTTOU   */ "ttou",
+	/* 23 SIGIO     */ "io",
+	/* 24 SIGXCPU   */ "xcpu",
+	/* 25 SIGXFSZ   */ "xfsz",
+	/* 26 SIGVTALRM */ "vtalrm",
+	/* 27 SIGPROF   */ "prof",
+	/* 28 SIGWINCH  */ "winch",
+	/* 29 SIGLOST   */ "lost",
+	/* 30 SIGUSR1   */ "usr1",
+	/* 31 SIGUSR2   */ "usr2"
+};
+
+
+
+
+/*
+ * 
+ */
+
+char *strsignal (int sig)
+{
+	if (sig > 0 && sig <NSIG)
+		return (char *) sys_siglist[sig];
+	else
+		return "Unknown signal";
+}
+
+
+
+
+/*
+ *
+ */
+
+void psignal (unsigned int sig, const char *s)
+{
+	const char *sig_str;
+	
+	if (sig > 0 && sig < NSIG)
+		sig_str = sys_siglist[sig];
+	else
+		sig_str = "Unknown signal";
+
+	printf ("%s: %s\n", s, sig_str);
+}
+
diff -urN newlib-1.15.0/newlib/libc/sys/kielder/signal.c newlib-1.15.0_new/newlib/libc/sys/kielder/signal.c
--- newlib-1.15.0/newlib/libc/sys/kielder/signal.c	1970-01-01 00:00:00.000000000 +0000
+++ newlib-1.15.0_new/newlib/libc/sys/kielder/signal.c	2007-10-01 16:32:17.031250000 +0100
@@ -0,0 +1,199 @@
+#include <_ansi.h>
+#include <_syslist.h>
+#include <sys/ksyscalls.h>
+#include <sys/syscall.h>
+#include <errno.h>
+#include <signal.h>
+#include <unistd.h>
+
+
+
+
+/*  __sig_return()  and __sig_trampoline() should be pure assembly routines.
+ */
+
+extern void __kielder_sigtramp(void);
+
+
+
+
+/*
+ * __init_sigtrampoline();   ** Called by crt0
+ */
+
+void __init_sigtrampoline (void)
+{
+	__syscall1 (_sysidx_init_sigtramp, &__kielder_sigtramp);
+}
+
+
+
+
+/*
+ * kill();
+ */
+
+int kill (int pid, int sig)
+{
+	return __syscall2 (_sysidx_kill, pid, sig);
+}
+
+
+
+
+/*
+ * signal();
+ */
+
+_sig_func_ptr signal (int sig, _sig_func_ptr handler)
+{
+	struct sigaction act;
+	
+	act.sa_flags = SA_RESETHAND;
+	act.sa_mask = 0;
+	act.sa_handler = handler;
+		
+	sigaction (sig, &act, NULL);
+}
+
+
+
+
+/*
+ * sigaction();
+ */
+
+int sigaction (int sig, const struct sigaction *act, struct sigaction *oact)
+{
+	return __syscall3 (_sysidx_sigaction, sig, act, oact);
+}
+
+
+
+
+/*
+ * sigprocmask();
+ */
+
+int sigprocmask (int how, const sigset_t *set, sigset_t *oset)
+{
+	return __syscall3 (_sysidx_sigprocmask, how, set, oset);
+}
+
+
+
+
+/*
+ * sigsuspend();
+ */
+
+int sigsuspend (const sigset_t *sigmask)
+{
+	return __syscall1 (_sysidx_sigsuspend, sigmask);
+}
+
+
+
+
+/*
+ * sigpending();
+ */
+
+int sigpending (sigset_t *set)
+{
+	return __syscall1 (_sysidx_sigpending, set);
+}
+
+
+
+
+/*
+ * sigaddset();
+ */
+
+int sigaddset (sigset_t *set, const int v)
+{
+	if (v > 0 && v < NSIG)
+	{
+		*set |= (1<<(v-1));
+		return 0;
+	}
+	else
+	{
+		errno = EINVAL;
+		return -1;
+	}
+}
+
+
+
+
+/*
+ * sigdelset();
+ */
+ 
+int sigdelset (sigset_t *set, const int v)
+{
+	if (v > 0 && v < NSIG)
+	{
+		*set &= ~(1<<(v-1));
+		return 0;
+	}
+	else
+	{
+		errno = EINVAL;
+		return -1;
+	}
+}
+
+
+
+
+/*
+ * sigemptyset();
+ */
+
+int sigemptyset (sigset_t *set)
+{
+	*set = 0;
+	return 0;
+}
+
+
+
+
+/*
+ * sigfillset();
+ */
+
+int sigfillset (sigset_t *set)
+{
+	*set = 0xffffffff;
+	return 0;
+}
+
+
+
+
+/*
+ * sigismember();
+ */
+
+int sigismember (const sigset_t *set, int v)
+{
+	if (v > 0 && v < NSIG)
+	{
+		if (*set & (1<<(v-1)) != 0)
+			return 1;
+		else
+			return 0;
+	}
+	else
+	{
+		errno = EINVAL;
+		return -1;
+	}	
+}
+
+
+
diff -urN newlib-1.15.0/newlib/libc/sys/kielder/sigtramp.s newlib-1.15.0_new/newlib/libc/sys/kielder/sigtramp.s
--- newlib-1.15.0/newlib/libc/sys/kielder/sigtramp.s	1970-01-01 00:00:00.000000000 +0000
+++ newlib-1.15.0_new/newlib/libc/sys/kielder/sigtramp.s	2007-09-22 16:27:55.093750000 +0100
@@ -0,0 +1,66 @@
+.global __kielder_sigtramp
+.equ SF_SIGNUM,     0
+.equ SF_SIGINFO,    4
+.equ SF_UCONTEXT,   8
+.equ SF_SIGHANDLER, 12
+
+
+
+
+.text
+.align 16
+
+
+
+
+/ ****************************************************************************
+/ __kielder_sigtramp:
+/
+/ 
+/ Kernel passes control to __sigtramp to begin signal handling.
+/ A sigframe is placed on the stack by the kernel, stack pointer points to
+/ the sigframe structure.
+
+
+
+__kielder_sigtramp:
+	movl SF_SIGINFO(%esp), %eax
+	cmpl $0x00000000, %eax
+	jne Lcall_siginfohandler
+
+
+Lcall_sighandler:
+	movl SF_SIGNUM(%esp), %eax
+	movl SF_SIGHANDLER(%esp), %edx
+	
+	push %eax
+	call *%edx
+	
+	add $4, %esp
+	movl %esp, %ebx
+	movl $0xffffffff, %eax
+	int $0x30
+	
+	
+Lcall_siginfohandler:
+	movl SF_UCONTEXT(%esp), %eax
+	movl SF_SIGINFO(%esp), %ebx
+	movl SF_SIGNUM(%esp), %ecx
+	movl SF_SIGHANDLER(%esp), %edx
+		
+	push %eax
+	push %ebx
+	push %ecx
+	
+	call *%edx
+
+	add $4, %esp
+	movl %esp, %ebx
+	movl $0xffffffff, %eax
+	int $0x30
+
+
+
+
+	
+
diff -urN newlib-1.15.0/newlib/libc/sys/kielder/sleep.c newlib-1.15.0_new/newlib/libc/sys/kielder/sleep.c
--- newlib-1.15.0/newlib/libc/sys/kielder/sleep.c	1970-01-01 00:00:00.000000000 +0000
+++ newlib-1.15.0_new/newlib/libc/sys/kielder/sleep.c	2007-09-22 16:27:55.109375000 +0100
@@ -0,0 +1,65 @@
+#include <_ansi.h>
+#include <_syslist.h>
+#include <sys/time.h>
+#include <sys/times.h>
+#include <sys/syscall.h>
+#include <errno.h>
+
+
+
+
+/*
+ *
+ */
+
+int __sys_sleep (int seconds, int microseconds)
+{
+	return __syscall2 (_sysidx_sleep, seconds, microseconds);
+}
+
+
+
+
+/*
+ *
+ */
+
+unsigned sleep(unsigned seconds)
+{
+	return __syscall2 (_sysidx_sleep, seconds, 0);
+}
+
+
+
+
+/*
+ *
+ */
+
+int nanosleep (const struct timespec *rqtp, struct timespec *rmtp)
+{
+	int rc;
+	
+	if (rqtp->tv_nsec < 1000000000)
+	{
+		__syscall2 (_sysidx_sleep, 0, rqtp->tv_nsec / 1000);
+	
+		if (rmtp != NULL)
+		{
+			rmtp->tv_nsec = 0;
+		}
+		
+		rc = 0;
+	}
+	else
+	{
+		errno = EINVAL;
+		rc = -1;
+	}
+	
+	return rc;	
+}
+
+
+
+
diff -urN newlib-1.15.0/newlib/libc/sys/kielder/stat.c newlib-1.15.0_new/newlib/libc/sys/kielder/stat.c
--- newlib-1.15.0/newlib/libc/sys/kielder/stat.c	1970-01-01 00:00:00.000000000 +0000
+++ newlib-1.15.0_new/newlib/libc/sys/kielder/stat.c	2007-09-22 16:27:55.109375000 +0100
@@ -0,0 +1,62 @@
+#include <_ansi.h>
+#include <_syslist.h>
+#include <sys/types.h>
+#include <fcntl.h>
+#include <unistd.h>
+#include <sys/stat.h>
+#include <sys/mount.h>
+#include <sys/syscall.h>
+#include <errno.h>
+
+
+
+
+/*
+ *
+ */
+
+int stat (const char *pathname, struct stat *st)
+{
+	return __syscall2 (_sysidx_stat, pathname, st);
+}
+
+
+
+
+/*
+ *
+ */
+
+int lstat (const char *pathname, struct stat *st)
+{
+	return __syscall2 (_sysidx_stat, pathname, st);
+}
+
+
+
+
+/*
+ *
+ */
+
+int statfs(const char *path, struct statfs *buf)
+{
+	errno = ENOSYS;
+	return -1;
+}
+
+
+
+
+/*
+ *
+ */
+
+int fstatfs(int fd, struct statfs *buf)
+{
+	errno = ENOSYS;
+	return -1;
+}
+
+
+
diff -urN newlib-1.15.0/newlib/libc/sys/kielder/statvfs.c newlib-1.15.0_new/newlib/libc/sys/kielder/statvfs.c
--- newlib-1.15.0/newlib/libc/sys/kielder/statvfs.c	1970-01-01 00:00:00.000000000 +0000
+++ newlib-1.15.0_new/newlib/libc/sys/kielder/statvfs.c	2007-09-22 16:27:55.109375000 +0100
@@ -0,0 +1,48 @@
+#include <_ansi.h>
+#include <_syslist.h>
+#include <sys/types.h>
+#include <fcntl.h>
+#include <unistd.h>
+#include <sys/stat.h>
+#include <sys/statvfs.h>
+#include <sys/syscall.h>
+#include <errno.h>
+
+
+
+
+/*
+ *
+ */
+
+int fstatvfs (int fd, struct statvfs *st)
+{
+	/* __syscall2 (_sysidx_fstatvfs, fd, st); */
+
+	return -1;
+}
+
+
+
+
+/*
+ *
+ */
+
+int statvfs (const char *pathname, struct statvfs *st)
+{
+	int fd;
+	
+	
+	if ((fd = open (pathname, O_RDONLY)) < 0)
+		return -1;
+		
+	if (fstatvfs (fd, st) < 0)
+		return -1;
+
+	if (close(fd) <	0)
+		return -1;
+		
+	return 0;
+}
+
diff -urN newlib-1.15.0/newlib/libc/sys/kielder/sync.c newlib-1.15.0_new/newlib/libc/sys/kielder/sync.c
--- newlib-1.15.0/newlib/libc/sys/kielder/sync.c	1970-01-01 00:00:00.000000000 +0000
+++ newlib-1.15.0_new/newlib/libc/sys/kielder/sync.c	2007-09-22 16:27:55.125000000 +0100
@@ -0,0 +1,31 @@
+#include <_ansi.h>
+#include <_syslist.h>
+#include <errno.h>
+#include <sys/syscall.h>
+
+
+
+
+/*
+ *
+ */
+
+int sync (void)
+{
+	return __syscall0 (_sysidx_sync);
+}
+
+
+
+
+/*
+ *
+ */
+
+int fsync (int fd)
+{
+	return __syscall1 (_sysidx_fsync, fd);
+}
+
+
+
diff -urN newlib-1.15.0/newlib/libc/sys/kielder/sys/debug.h newlib-1.15.0_new/newlib/libc/sys/kielder/sys/debug.h
--- newlib-1.15.0/newlib/libc/sys/kielder/sys/debug.h	1970-01-01 00:00:00.000000000 +0000
+++ newlib-1.15.0_new/newlib/libc/sys/kielder/sys/debug.h	2007-09-22 16:27:55.125000000 +0100
@@ -0,0 +1,35 @@
+#ifndef _SYS_DEBUG_H
+#define _SYS_DEBUG_H
+
+#include <sys/types.h>
+
+
+
+void __dbgprintf (int level, const char *fmt, ...);
+int __sys_debug (int level, char *str);
+
+
+
+#ifdef USE_DEBUG
+
+#define DBUG( fmt, args...)										\
+		__dbgprintf (0, fmt , ##args)
+
+#define DBUG1( fmt, args...)									\
+		__dbgprintf (1, fmt , ##args)
+
+#define DBUG2( fmt, args...)									\
+		__dbgprintf (2, fmt , ##args)
+
+#define DBUG3( fmt, args...)									\
+		__dbgprintf (3, fmt , ##args)
+
+#else
+
+#define DBUG	
+#define DBUG1	
+#define DBUG2	
+#define DBUG3	
+
+#endif
+
diff -urN newlib-1.15.0/newlib/libc/sys/kielder/sys/dirent.h newlib-1.15.0_new/newlib/libc/sys/kielder/sys/dirent.h
--- newlib-1.15.0/newlib/libc/sys/kielder/sys/dirent.h	1970-01-01 00:00:00.000000000 +0000
+++ newlib-1.15.0_new/newlib/libc/sys/kielder/sys/dirent.h	2007-09-22 16:27:55.125000000 +0100
@@ -0,0 +1,54 @@
+#ifndef _SYS_DIRENT_H
+#define _SYS_DIRENT_H
+
+#ifdef __cplusplus
+extern "C" {
+#endif
+
+#include <sys/types.h>
+#include <limits.h>
+
+
+/*
+ * struct dirent
+ */
+
+#define NAME_MAX 255
+
+
+struct dirent {
+	long d_ino;						/* inode value */
+	char d_name[NAME_MAX + 1];		/* filename */
+};
+
+
+
+/*
+ * DIR
+ */
+
+typedef struct _dirdesc
+{
+	int	dd_fd;
+	struct dirent *dirent;
+} DIR;
+
+
+
+
+DIR *opendir(const char *);
+struct dirent *readdir(DIR *);
+void rewinddir(DIR *);
+int closedir(DIR *);
+
+
+
+
+
+
+
+
+#ifdef __cplusplus
+}
+#endif 
+#endif
diff -urN newlib-1.15.0/newlib/libc/sys/kielder/sys/errno.h newlib-1.15.0_new/newlib/libc/sys/kielder/sys/errno.h
--- newlib-1.15.0/newlib/libc/sys/kielder/sys/errno.h	1970-01-01 00:00:00.000000000 +0000
+++ newlib-1.15.0_new/newlib/libc/sys/kielder/sys/errno.h	2007-09-22 16:27:55.140625000 +0100
@@ -0,0 +1,163 @@
+/* errno is not a global variable, because that would make using it
+   non-reentrant.  Instead, its address is returned by the function
+   __errno.  */
+
+#ifndef _SYS_ERRNO_H_
+#ifdef __cplusplus
+extern "C" {
+#endif
+#define _SYS_ERRNO_H_
+
+#include <sys/reent.h>
+
+
+#ifndef _REENT_ONLY
+#define errno (*__errno())
+extern int *__errno _PARAMS ((void));
+#endif
+
+
+
+/* Please don't use these variables directly.
+   Use strerror instead. */
+extern __IMPORT _CONST char * _CONST _sys_errlist[];
+extern __IMPORT int _sys_nerr;
+#ifdef __CYGWIN__
+extern __IMPORT const char * const sys_errlist[];
+extern __IMPORT int sys_nerr;
+#endif
+
+#define __errno_r(ptr) ((ptr)->_errno)
+
+#define	EPERM 1		/* Not super-user */
+#define	ENOENT 2	/* No such file or directory */
+#define	ESRCH 3		/* No such process */
+#define	EINTR 4		/* Interrupted system call */
+#define	EIO 5		/* I/O error */
+#define	ENXIO 6		/* No such device or address */
+#define	E2BIG 7		/* Arg list too long */
+#define	ENOEXEC 8	/* Exec format error */
+#define	EBADF 9		/* Bad file number */
+#define	ECHILD 10	/* No children */
+#define	EAGAIN 11	/* No more processes */
+#define	ENOMEM 12	/* Not enough core */
+#define	EACCES 13	/* Permission denied */
+#define	EFAULT 14	/* Bad address */
+#define	ENOTBLK 15	/* Block device required */
+#define	EBUSY 16	/* Mount device busy */
+#define	EEXIST 17	/* File exists */
+#define	EXDEV 18	/* Cross-device link */
+#define	ENODEV 19	/* No such device */
+#define	ENOTDIR 20	/* Not a directory */
+#define	EISDIR 21	/* Is a directory */
+#define	EINVAL 22	/* Invalid argument */
+#define	ENFILE 23	/* Too many open files in system */
+#define	EMFILE 24	/* Too many open files */
+#define	ENOTTY 25	/* Not a typewriter */
+#define	ETXTBSY 26	/* Text file busy */
+#define	EFBIG 27	/* File too large */
+#define	ENOSPC 28	/* No space left on device */
+#define	ESPIPE 29	/* Illegal seek */
+#define	EROFS 30	/* Read only file system */
+#define	EMLINK 31	/* Too many links */
+#define	EPIPE 32	/* Broken pipe */
+#define	EDOM 33		/* Math arg out of domain of func */
+#define	ERANGE 34	/* Math result not representable */
+#define	ENOMSG 35	/* No message of desired type */
+#define	EIDRM 36	/* Identifier removed */
+#define	ECHRNG 37	/* Channel number out of range */
+#define	EL2NSYNC 38	/* Level 2 not synchronized */
+#define	EL3HLT 39	/* Level 3 halted */
+#define	EL3RST 40	/* Level 3 reset */
+#define	ELNRNG 41	/* Link number out of range */
+#define	EUNATCH 42	/* Protocol driver not attached */
+#define	ENOCSI 43	/* No CSI structure available */
+#define	EL2HLT 44	/* Level 2 halted */
+#define	EDEADLK 45	/* Deadlock condition */
+#define	ENOLCK 46	/* No record locks available */
+#define EBADE 50	/* Invalid exchange */
+#define EBADR 51	/* Invalid request descriptor */
+#define EXFULL 52	/* Exchange full */
+#define ENOANO 53	/* No anode */
+#define EBADRQC 54	/* Invalid request code */
+#define EBADSLT 55	/* Invalid slot */
+#define EDEADLOCK 56	/* File locking deadlock error */
+#define EBFONT 57	/* Bad font file fmt */
+#define ENOSTR 60	/* Device not a stream */
+#define ENODATA 61	/* No data (for no delay io) */
+#define ETIME 62	/* Timer expired */
+#define ENOSR 63	/* Out of streams resources */
+#define ENONET 64	/* Machine is not on the network */
+#define ENOPKG 65	/* Package not installed */
+#define EREMOTE 66	/* The object is remote */
+#define ENOLINK 67	/* The link has been severed */
+#define EADV 68		/* Advertise error */
+#define ESRMNT 69	/* Srmount error */
+#define	ECOMM 70	/* Communication error on send */
+#define EPROTO 71	/* Protocol error */
+#define	EMULTIHOP 74	/* Multihop attempted */
+#define	ELBIN 75	/* Inode is remote (not really error) */
+#define	EDOTDOT 76	/* Cross mount point (not really error) */
+#define EBADMSG 77	/* Trying to read unreadable message */
+#define EFTYPE 79	/* Inappropriate file type or format */
+#define ENOTUNIQ 80	/* Given log. name not unique */
+#define EBADFD 81	/* f.d. invalid for this operation */
+#define EREMCHG 82	/* Remote address changed */
+#define ELIBACC 83	/* Can't access a needed shared lib */
+#define ELIBBAD 84	/* Accessing a corrupted shared lib */
+#define ELIBSCN 85	/* .lib section in a.out corrupted */
+#define ELIBMAX 86	/* Attempting to link in too many libs */
+#define ELIBEXEC 87	/* Attempting to exec a shared library */
+#define ENOSYS 88	/* Function not implemented */
+#define ENMFILE 89      /* No more files */
+#define ENOTEMPTY 90	/* Directory not empty */
+#define ENAMETOOLONG 91	/* File or path name too long */
+#define ELOOP 92	/* Too many symbolic links */
+#define EOPNOTSUPP 95	/* Operation not supported on transport endpoint */
+#define EPFNOSUPPORT 96 /* Protocol family not supported */
+#define ECONNRESET 104  /* Connection reset by peer */
+#define ENOBUFS 105	/* No buffer space available */
+#define EAFNOSUPPORT 106 /* Address family not supported by protocol family */
+#define EPROTOTYPE 107	/* Protocol wrong type for socket */
+#define ENOTSOCK 108	/* Socket operation on non-socket */
+#define ENOPROTOOPT 109	/* Protocol not available */
+#define ESHUTDOWN 110	/* Can't send after socket shutdown */
+#define ECONNREFUSED 111	/* Connection refused */
+#define EADDRINUSE 112		/* Address already in use */
+#define ECONNABORTED 113	/* Connection aborted */
+#define ENETUNREACH 114		/* Network is unreachable */
+#define ENETDOWN 115		/* Network interface is not configured */
+#define ETIMEDOUT 116		/* Connection timed out */
+#define EHOSTDOWN 117		/* Host is down */
+#define EHOSTUNREACH 118	/* Host is unreachable */
+#define EINPROGRESS 119		/* Connection already in progress */
+#define EALREADY 120		/* Socket already connected */
+#define EDESTADDRREQ 121	/* Destination address required */
+#define EMSGSIZE 122		/* Message too long */
+#define EPROTONOSUPPORT 123	/* Unknown protocol */
+#define ESOCKTNOSUPPORT 124	/* Socket type not supported */
+#define EADDRNOTAVAIL 125	/* Address not available */
+#define ENETRESET 126
+#define EISCONN 127		/* Socket is already connected */
+#define ENOTCONN 128		/* Socket is not connected */
+#define ETOOMANYREFS 129
+#define EPROCLIM 130
+#define EUSERS 131
+#define EDQUOT 132
+#define ESTALE 133
+#define ENOTSUP 134		/* Not supported */
+#define ENOMEDIUM 135   /* No medium (in tape drive) */
+#define ENOSHARE 136    /* No such host or network path */
+#define ECASECLASH 137  /* Filename exists with different case */
+#define EILSEQ 138
+#define EOVERFLOW 139	/* Value too large for defined data type */
+
+/* From cygwin32.  */
+#define EWOULDBLOCK EAGAIN	/* Operation would block */
+
+#define __ELASTERROR 2000	/* Users can add values starting here */
+
+#ifdef __cplusplus
+}
+#endif
+#endif /* _SYS_ERRNO_H */
diff -urN newlib-1.15.0/newlib/libc/sys/kielder/sys/ioctl.h newlib-1.15.0_new/newlib/libc/sys/kielder/sys/ioctl.h
--- newlib-1.15.0/newlib/libc/sys/kielder/sys/ioctl.h	1970-01-01 00:00:00.000000000 +0000
+++ newlib-1.15.0_new/newlib/libc/sys/kielder/sys/ioctl.h	2007-09-22 16:27:55.140625000 +0100
@@ -0,0 +1,21 @@
+#ifndef _SYS_IOCTL_H
+#define _SYS_IOCTL_H
+
+#ifdef __cplusplus
+extern "C" {
+#endif
+
+#include <sys/types.h>
+
+
+#define  IOCTL_CON_SETMAP	0
+
+
+
+int ioctl (int fd, int request, ...);
+
+
+#ifdef __cplusplus
+}
+#endif 
+#endif
diff -urN newlib-1.15.0/newlib/libc/sys/kielder/sys/ksyscalls.h newlib-1.15.0_new/newlib/libc/sys/kielder/sys/ksyscalls.h
--- newlib-1.15.0/newlib/libc/sys/kielder/sys/ksyscalls.h	1970-01-01 00:00:00.000000000 +0000
+++ newlib-1.15.0_new/newlib/libc/sys/kielder/sys/ksyscalls.h	2008-04-25 12:15:18.234375000 +0100
@@ -0,0 +1,76 @@
+#ifndef _SYS_KSYSCALLS_H
+#define _SYS_KSYSCALLS_H
+
+#include <sys/types.h>
+#include <sys/mount.h>
+
+
+/* Filesystem constants */
+
+#define MAX_PATHNAME_SZ 1024
+
+
+/*
+ * kos_format() flags
+ */
+
+#define FORMATF_QUICK	(1<<0)
+
+
+
+/* kos_mmap() options and results */
+
+#define VM_PROT_NONE		0
+#define VM_PROT_READ		(1<<0)
+#define VM_PROT_WRITE		(1<<1)
+#define VM_PROT_EXEC		(1<<2)
+#define VM_PROT_ALL			(VM_PROT_READ | VM_PROT_WRITE | VM_PROT_EXECUTE)
+#define VM_PROT_READWRITE 	(VM_PROT_READ | VM_PROT_WRITE)
+#define VM_PROT_READEXEC	(VM_PROT_READ | VM_PROT_EXEC)
+
+#define VM_PROT_NOUNMAP		(1<<4)
+#define MAP_FIXED			(1<<0)
+
+#define MAP_FAILED		((void *)-1)
+
+
+
+
+/*
+ * kos_reboot() options
+ */
+ 
+#define KOS_REBOOT_HALT		0
+#define KOS_REBOOT_REBOOT	1
+
+
+
+
+/*
+ *
+ */
+
+void *kos_mmap (void *addr, size_t len, int prot, int flags);
+size_t kos_sizeofmap (void *addr);
+int kos_munmap (void *addr);
+int kos_mprotect (void *addr, int prot);
+
+int kos_mount (char *mount, char *handler, char *device, char **handler_args);
+int kos_unmount (char *mount);
+int kos_mountinfo (char *mount, struct statfs *buf);
+
+int kos_set_assign (char *alias, char *path);
+int kos_get_assign (int idx, char *alias, char *path);
+int kos_sleep (int seconds, int microseconds);
+int kos_debug (int level, char *str);
+int kos_format (char *mount, char *label, unsigned long flags, unsigned long cluster_size);
+
+int kos_relabel (char *mount, char *label);
+int kos_inhibit (char *mount);
+int kos_uninhibit (char *mount);
+int kos_reboot (unsigned long how);
+
+
+
+#endif
+
diff -urN newlib-1.15.0/newlib/libc/sys/kielder/sys/mntent.h newlib-1.15.0_new/newlib/libc/sys/kielder/sys/mntent.h
--- newlib-1.15.0/newlib/libc/sys/kielder/sys/mntent.h	1970-01-01 00:00:00.000000000 +0000
+++ newlib-1.15.0_new/newlib/libc/sys/kielder/sys/mntent.h	2007-09-22 16:27:55.156250000 +0100
@@ -0,0 +1,117 @@
+#ifndef	_SYS_MNTENT_H
+#define	_SYS_MNTENT_H
+
+
+#ifdef __cplusplus
+extern "C" {
+#endif
+
+#include <stdio.h>
+
+
+
+
+
+#define	MNTTYPE_ZFS			"zfs"		/* ZFS file system */
+#define	MNTTYPE_UFS			"ufs"		/* Unix file system */
+#define	MNTTYPE_NFS			"nfs"		/* NFS file system */
+#define	MNTTYPE_NFS3		"nfs3"		/* NFS Version 3 file system */
+#define	MNTTYPE_NFS4		"nfs4"		/* NFS Version 4 file system */
+#define	MNTTYPE_CACHEFS		"cachefs"	/* Cache File System */
+#define	MNTTYPE_PCFS		"pcfs"		/* PC (MSDOS) file system */
+#define	MNTTYPE_PC	MNTTYPE_PCFS		/* Deprecated name; use MNTTYPE_PCFS */
+#define	MNTTYPE_LOFS		"lofs"		/* Loop back file system */
+#define	MNTTYPE_LO	MNTTYPE_LOFS		/* Deprecated name; use MNTTYPE_LOFS */
+#define	MNTTYPE_HSFS		"hsfs"		/* High Sierra (9660) file system */
+#define	MNTTYPE_SWAP		"swap"		/* Swap file system */
+#define	MNTTYPE_TMPFS		"tmpfs"		/* Tmp volatile file system */
+#define	MNTTYPE_AUTOFS		"autofs"	/* Automounter ``file'' system */
+#define	MNTTYPE_MNTFS		"mntfs"		/* In-kernel mnttab */
+#define	MNTTYPE_XMEMFS		"xmemfs"	/* Extended memory FS, IA32 only */
+#define	MNTTYPE_DEV			"dev"		/* /dev file system */
+#define	MNTTYPE_CTFS		"ctfs"		/* Contract file system */
+#define	MNTTYPE_OBJFS		"objfs"		/* Kernel object file system */
+
+#define	MNTOPT_RO			"ro"		/* Read only */
+#define	MNTOPT_RW			"rw"		/* Read/write */
+#define	MNTOPT_RQ			"rq"		/* Read/write with quotas */
+#define	MNTOPT_QUOTA		"quota"		/* Check quotas */
+#define	MNTOPT_NOQUOTA		"noquota"	/* Don't check quotas */
+#define	MNTOPT_ONERROR		"onerror"	/* action to taken on error */
+#define	MNTOPT_SOFT			"soft"		/* Soft mount */
+#define	MNTOPT_SEMISOFT		"semisoft"	/* partial soft, uncommited interface */
+#define	MNTOPT_HARD			"hard"		/* Hard mount */
+#define	MNTOPT_SUID			"suid"		/* Both setuid and devices allowed */
+#define	MNTOPT_NOSUID		"nosuid"	/* Neither setuid nor devices allowed */
+#define	MNTOPT_DEVICES		"devices"	/* Device-special allowed */
+#define	MNTOPT_NODEVICES	"nodevices"	/* Device-special disallowed */
+#define	MNTOPT_SETUID		"setuid"	/* Set uid allowed */
+#define	MNTOPT_NOSETUID		"nosetuid"	/* Set uid not allowed */
+#define	MNTOPT_GRPID		"grpid"		/* SysV-compatible gid on create */
+#define	MNTOPT_REMOUNT		"remount"	/* Change mount options */
+#define	MNTOPT_NOSUB		"nosub"		/* Disallow mounts on subdirs */
+#define	MNTOPT_MULTI		"multi"		/* Do multi-component lookup */
+#define	MNTOPT_INTR			"intr"		/* Allow NFS ops to be interrupted */
+#define	MNTOPT_NOINTR		"nointr"	/* Don't allow interrupted ops */
+#define	MNTOPT_PORT			"port"		/* NFS server IP port number */
+#define	MNTOPT_SECURE		"secure"	/* Secure (AUTH_DES) mounting */
+#define	MNTOPT_RSIZE		"rsize"		/* Max NFS read size (bytes) */
+#define	MNTOPT_WSIZE		"wsize"		/* Max NFS write size (bytes) */
+#define	MNTOPT_TIMEO		"timeo"		/* NFS timeout (1/10 sec) */
+#define	MNTOPT_RETRANS		"retrans"	/* Max retransmissions (soft mnts) */
+#define	MNTOPT_ACTIMEO		"actimeo"	/* Attr cache timeout (sec) */
+#define	MNTOPT_ACREGMIN		"acregmin"	/* Min attr cache timeout (files) */
+#define	MNTOPT_ACREGMAX		"acregmax"	/* Max attr cache timeout (files) */
+#define	MNTOPT_ACDIRMIN		"acdirmin"	/* Min attr cache timeout (dirs) */
+#define	MNTOPT_ACDIRMAX		"acdirmax"	/* Max attr cache timeout (dirs) */
+#define	MNTOPT_NOAC			"noac"		/* Don't cache attributes at all */
+#define	MNTOPT_NOCTO		"nocto"		/* No close-to-open consistency */
+#define	MNTOPT_BG			"bg"		/* Do mount retries in background */
+#define	MNTOPT_FG			"fg"		/* Do mount retries in foreground */
+#define	MNTOPT_RETRY		"retry"		/* Number of mount retries */
+#define	MNTOPT_DEV			"dev"		/* Device id of mounted fs */
+#define	MNTOPT_POSIX		"posix"		/* Get static pathconf for mount */
+#define	MNTOPT_MAP			"map"		/* Automount map */
+#define	MNTOPT_DIRECT		"direct"	/* Automount   direct map mount */
+#define	MNTOPT_INDIRECT		"indirect"	/* Automount indirect map mount */
+#define	MNTOPT_LLOCK		"llock"		/* Local locking (no lock manager) */
+#define	MNTOPT_IGNORE		"ignore"	/* Ignore this entry */
+#define	MNTOPT_VERS			"vers"		/* protocol version number indicator */
+#define	MNTOPT_PROTO		"proto"		/* protocol network_id indicator */
+#define	MNTOPT_SEC			"sec"		/* Security flavor indicator */
+#define	MNTOPT_SYNCDIR		"syncdir"	/* Synchronous local directory ops */
+#define	MNTOPT_NOSETSEC		"nosec"		/* Do no allow setting sec attrs */
+#define	MNTOPT_NOPRINT		"noprint"	/* Do not print messages */
+#define	MNTOPT_LARGEFILES 	"largefiles"		/* allow large files */
+#define	MNTOPT_NOLARGEFILES "nolargefiles" 		/* don't allow large files */
+#define	MNTOPT_FORCEDIRECTIO 	"forcedirectio" /* Force DirectIO on all files */
+#define	MNTOPT_NOFORCEDIRECTIO	"noforcedirectio" /* No Force DirectIO */
+#define	MNTOPT_DISABLEDIRECTIO	"disabledirectio" /* Disable DirectIO ioctls */
+#define	MNTOPT_PUBLIC		"public"	/* Use NFS public file handlee */
+#define	MNTOPT_LOGGING 		"logging" 	/* enable logging */
+#define	MNTOPT_NOLOGGING	"nologging"	/* disable logging */
+#define	MNTOPT_ATIME		"atime"		/* update atime for files */
+#define	MNTOPT_NOATIME 	 	"noatime"	/* do not update atime for files */
+#define	MNTOPT_GLOBAL		"global"	/* Cluster-wide global mount */
+#define	MNTOPT_NOGLOBAL		"noglobal"	/* Mount local to single node */
+#define	MNTOPT_DFRATIME		"dfratime"	/* Deferred access time updates */
+#define	MNTOPT_NODFRATIME 	"nodfratime"/* No Deferred access time updates */
+#define	MNTOPT_NBMAND		"nbmand"	/* allow non-blocking mandatory locks */
+#define	MNTOPT_NONBMAND		"nonbmand"	/* deny non-blocking mandatory locks */
+#define	MNTOPT_XATTR		"xattr"		/* enable extended attributes */
+#define	MNTOPT_NOXATTR		"noxattr"	/* disable extended attributes */
+#define	MNTOPT_EXEC			"exec"		/* enable executables */
+#define	MNTOPT_NOEXEC		"noexec"	/* disable executables */
+#define	MNTOPT_RESTRICT		"restrict"	/* restricted autofs mount */
+#define	MNTOPT_BROWSE		"browse"	/* browsable autofs mount */
+#define	MNTOPT_NOBROWSE		"nobrowse"	/* non-browsable autofs mount */
+
+
+
+
+#ifdef __cplusplus
+}
+#endif
+
+
+#endif
\ No newline at end of file
diff -urN newlib-1.15.0/newlib/libc/sys/kielder/sys/mount.h newlib-1.15.0_new/newlib/libc/sys/kielder/sys/mount.h
--- newlib-1.15.0/newlib/libc/sys/kielder/sys/mount.h	1970-01-01 00:00:00.000000000 +0000
+++ newlib-1.15.0_new/newlib/libc/sys/kielder/sys/mount.h	2008-04-15 10:00:08.437500000 +0100
@@ -0,0 +1,97 @@
+#ifndef	_SYS_MOUNT_H
+#define	_SYS_MOUNT_H
+
+
+#ifdef __cplusplus
+extern "C" {
+#endif
+
+#include <_ansi.h>
+#include <time.h>
+#include <sys/types.h>
+
+
+
+typedef struct { long val[2]; } fsid_t;
+
+#define MFSNAMELEN   15 /* length of fs type name, not inc. nul */
+#define MNAMELEN     90 /* length of buffer for returned name */
+
+struct statfs
+{
+	short   f_otype;    /* type of file system (reserved: zero) */
+	short   f_oflags;   /* copy of mount flags (reserved: zero) */
+	long    f_bsize;    /* fundamental file system block size */
+	long    f_iosize;   /* optimal transfer block size */
+	long    f_blocks;   /* total data blocks in file system */
+	long    f_bfree;    /* free blocks in fs */
+	long    f_bavail;   /* free blocks avail to non-superuser */
+	long    f_files;    /* total file nodes in file system */
+	long    f_ffree;    /* free file nodes in fs */
+	fsid_t  f_fsid;     /* file system id (super-user only) */
+	uid_t   f_owner;    /* user that mounted the file system */
+	short   f_reserved1;        /* reserved for future use */
+	short   f_type;     /* type of file system (reserved) */
+	long    f_flags;    /* copy of mount flags (reserved) */
+	long    f_reserved2[2];     /* reserved for future use */
+	char    f_fstypename[MFSNAMELEN]; /* fs type name */
+	char    f_mntonname[MNAMELEN];    /* directory on which mounted */
+	char    f_mntfromname[MNAMELEN];  /* mounted file system */
+	char    f_reserved3;        /* reserved for future use */
+	long    f_reserved4[4];     /* reserved for future use */
+	
+	short	f_kostype;			/* Type of mount, either device, volume or assign */
+};
+
+
+
+/*
+ * Types for f_kostype;
+ */
+
+#define MNT_KOS_DEVICE		0
+#define MNT_KOS_VOLUMELABEL	1
+#define MNT_KOS_ASSIGN		2
+
+
+
+
+#define MNT_NOWAIT 0
+#define MNT_WAIT 1
+
+#define MNT_RDONLY 0x00000001 /* read only filesystem */
+#define MNT_SYNCHRONOUS 0x00000002 /* file system written 
+    synchronously */
+#define MNT_NOEXEC 0x00000004 /* can't exec from filesystem 
+    */
+#define MNT_NOSUID 0x00000008 /* don't honor setuid bits on 
+    fs */
+#define MNT_NODEV 0x00000010 /* don't interpret special 
+    files */
+#define MNT_UNION 0x00000020 /* union with underlying 
+    filesystem */
+#define MNT_ASYNC 0x00000040 /* file system written 
+    asynchronously */
+#define MNT_DONTBROWSE 0x00100000 /* file system is not 
+    appropriate path to user data */
+#define MNT_IGNORE_OWNERSHIP 0x00200000 /* VFS will ignore 
+    ownership information on filesystem objects */
+#define MNT_AUTOMOUNTED 0x00400000 /* filesystem was mounted
+    by automounter */
+#define MNT_JOURNALED 0x00800000 /* filesystem is journaled 
+    */
+#define MNT_NOUSERXATTR 0x01000000 /* Don't allow user 
+    extended attributes */
+#define MNT_DEFWRITE 0x02000000 /* filesystem should defer 
+    writes */
+
+
+int getfsstat (struct statfs *buf, int bufsize, int flags);
+int getmntinfo (struct statfs **mntbufp, int flags);
+
+
+
+#ifdef __cplusplus
+}
+#endif
+#endif /* _SYS_MOUNT_H */
diff -urN newlib-1.15.0/newlib/libc/sys/kielder/sys/param.h newlib-1.15.0_new/newlib/libc/sys/kielder/sys/param.h
--- newlib-1.15.0/newlib/libc/sys/kielder/sys/param.h	1970-01-01 00:00:00.000000000 +0000
+++ newlib-1.15.0_new/newlib/libc/sys/kielder/sys/param.h	2007-09-22 16:27:55.171875000 +0100
@@ -0,0 +1,241 @@
+/*-
+ * Copyright (c) 1982, 1986, 1989, 1993
+ *	The Regents of the University of California.  All rights reserved.
+ * (c) UNIX System Laboratories, Inc.
+ * All or some portions of this file are derived from material licensed
+ * to the University of California by American Telephone and Telegraph
+ * Co. or Unix System Laboratories, Inc. and are reproduced herein with
+ * the permission of UNIX System Laboratories, Inc.
+ *
+ * Redistribution and use in source and binary forms, with or without
+ * modification, are permitted provided that the following conditions
+ * are met:
+ * 1. Redistributions of source code must retain the above copyright
+ *    notice, this list of conditions and the following disclaimer.
+ * 2. Redistributions in binary form must reproduce the above copyright
+ *    notice, this list of conditions and the following disclaimer in the
+ *    documentation and/or other materials provided with the distribution.
+ * 3. All advertising materials mentioning features or use of this software
+ *    must display the following acknowledgement:
+ *	This product includes software developed by the University of
+ *	California, Berkeley and its contributors.
+ * 4. Neither the name of the University nor the names of its contributors
+ *    may be used to endorse or promote products derived from this software
+ *    without specific prior written permission.
+ *
+ * THIS SOFTWARE IS PROVIDED BY THE REGENTS AND CONTRIBUTORS ``AS IS'' AND
+ * ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
+ * IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE
+ * ARE DISCLAIMED.  IN NO EVENT SHALL THE REGENTS OR CONTRIBUTORS BE LIABLE
+ * FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL
+ * DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS
+ * OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION)
+ * HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT
+ * LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY
+ * OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF
+ * SUCH DAMAGE.
+ *
+ *	@(#)param.h	8.3 (Berkeley) 4/4/95
+ * $Id: param.h,v 1.3 2004/05/07 20:29:24 jjohnstn Exp $
+ */
+
+#ifndef _SYS_PARAM_H_
+#define _SYS_PARAM_H_
+
+/* from newlib's <sys/param.h> */
+
+#include <sys/config.h>
+#include <machine/endian.h>
+
+# define HZ (60)
+# define PATHSIZE (1024)
+
+/* end of from newlib's <sys/param.h> */
+
+#include <unistd.h>
+
+#define	BSD	199506		/* System version (year & month). */
+#define BSD4_3	1
+#define BSD4_4	1
+
+#ifndef NULL
+#define	NULL	0
+#endif
+
+#ifndef LOCORE
+#include <sys/types.h>
+#endif
+
+/*
+ * Machine-independent constants (some used in following include files).
+ * Redefined constants are from POSIX 1003.1 limits file.
+ *
+ * MAXCOMLEN should be >= sizeof(ac_comm) (see <acct.h>)
+ * MAXLOGNAME should be >= UT_NAMESIZE (see <utmp.h>)
+ */
+#include <sys/syslimits.h>
+
+#define	MAXCOMLEN	16		/* max command name remembered */
+#define	MAXINTERP	32		/* max interpreter file name length */
+#define	MAXLOGNAME	12		/* max login name length */
+#define	MAXUPRC		CHILD_MAX	/* max simultaneous processes */
+#define	NCARGS		ARG_MAX		/* max bytes for an exec function */
+#define	NGROUPS		NGROUPS_MAX	/* max number groups */
+#define	NOFILE		OPEN_MAX	/* max open files per process */
+#define	NOGROUP		65535		/* marker for empty group set member */
+#define MAXHOSTNAMELEN	256		/* max hostname size */
+
+/* More types and definitions used throughout the kernel. */
+#ifdef KERNEL
+#include <sys/cdefs.h>
+#include <sys/errno.h>
+#include <sys/time.h>
+#include <sys/resource.h>
+#include <sys/ucred.h>
+#include <sys/uio.h>
+#include <sys/rtprio.h>
+
+#ifndef FALSE
+#define	FALSE	0
+#endif
+#ifndef TRUE
+#define	TRUE	1
+#endif
+#endif
+
+/* Signals. */
+#include <sys/signal.h>
+
+/* Machine type dependent parameters. */
+#include <machine/param.h>
+#include <machine/limits.h>
+
+/*
+ * Priorities.  Note that with 32 run queues, differences less than 4 are
+ * insignificant.
+ */
+#define	PSWP	0
+#define	PVM	4
+#define	PINOD	8
+#define	PRIBIO	16
+#define	PVFS	20
+#define	PZERO	22		/* No longer magic, shouldn't be here.  XXX */
+#define	PSOCK	24
+#define	PWAIT	32
+#define	PLOCK	36
+#define	PPAUSE	40
+#define	PUSER	50
+#define	MAXPRI	127		/* Priorities range from 0 through MAXPRI. */
+
+#define	PRIMASK	0x0ff
+#define	PCATCH	0x100		/* OR'd with pri for tsleep to check signals */
+
+#define	NZERO	0		/* default "nice" */
+
+#define	NBPW	sizeof(int)	/* number of bytes per word (integer) */
+
+#define	CMASK	022		/* default file mask: S_IWGRP|S_IWOTH */
+#define	NODEV	(dev_t)(-1)	/* non-existent device */
+
+/*
+ * Clustering of hardware pages on machines with ridiculously small
+ * page sizes is done here.  The paging subsystem deals with units of
+ * CLSIZE pte's describing PAGE_SIZE (from machine/machparam.h) pages each.
+ */
+#if 0
+#define	CLBYTES		(CLSIZE*PAGE_SIZE)
+#endif
+
+#define	CBLOCK	128		/* Clist block size, must be a power of 2. */
+#define CBQSIZE	(CBLOCK/NBBY)	/* Quote bytes/cblock - can do better. */
+				/* Data chars/clist. */
+#define	CBSIZE	(CBLOCK - sizeof(struct cblock *) - CBQSIZE)
+#define	CROUND	(CBLOCK - 1)	/* Clist rounding. */
+
+/*
+ * File system parameters and macros.
+ *
+ * The file system is made out of blocks of at most MAXBSIZE units, with
+ * smaller units (fragments) only in the last direct block.  MAXBSIZE
+ * primarily determines the size of buffers in the buffer pool.  It may be
+ * made larger without any effect on existing file systems; however making
+ * it smaller make make some file systems unmountable.  Also, MAXBSIZE
+ * must be less than MAXPHYS!!!  DFLTBSIZE is the average amount of
+ * memory allocated by vfs_bio per nbuf.  BKVASIZE is the average amount
+ * of kernel virtual space allocated per nbuf.  BKVASIZE should be >=
+ * DFLTBSIZE.  If it is significantly bigger than DFLTBSIZE, then
+ * kva fragmentation causes fewer performance problems.
+ */
+#define	MAXBSIZE	65536
+#define BKVASIZE	8192
+#define DFLTBSIZE	4096
+#define MAXFRAG 	8
+
+/*
+ * MAXPATHLEN defines the longest permissible path length after expanding
+ * symbolic links. It is used to allocate a temporary buffer from the buffer
+ * pool in which to do the name expansion, hence should be a power of two,
+ * and must be less than or equal to MAXBSIZE.  MAXSYMLINKS defines the
+ * maximum number of symbolic links that may be expanded in a path name.
+ * It should be set high enough to allow all legitimate uses, but halt
+ * infinite loops reasonably quickly.
+ */
+#if !defined(__rtems__)
+#define	MAXPATHLEN	PATH_MAX
+#endif
+#define MAXSYMLINKS	32
+
+/* Bit map related macros. */
+#define	setbit(a,i)	((a)[(i)/NBBY] |= 1<<((i)%NBBY))
+#define	clrbit(a,i)	((a)[(i)/NBBY] &= ~(1<<((i)%NBBY)))
+#define	isset(a,i)	((a)[(i)/NBBY] & (1<<((i)%NBBY)))
+#define	isclr(a,i)	(((a)[(i)/NBBY] & (1<<((i)%NBBY))) == 0)
+
+/* Macros for counting and rounding. */
+#ifndef howmany
+#define	howmany(x, y)	(((x)+((y)-1))/(y))
+#endif
+#define	rounddown(x, y)	(((x)/(y))*(y))
+#define	roundup(x, y)	((((x)+((y)-1))/(y))*(y))  /* to any y */
+#define	roundup2(x, y)	(((x)+((y)-1))&(~((y)-1))) /* if y is powers of two */
+#define powerof2(x)	((((x)-1)&(x))==0)
+
+/* Macros for min/max. */
+#ifndef KERNEL
+#define	MIN(a,b) (((a)<(b))?(a):(b))
+#define	MAX(a,b) (((a)>(b))?(a):(b))
+#endif
+
+/*
+ * Constants for setting the parameters of the kernel memory allocator.
+ *
+ * 2 ** MINBUCKET is the smallest unit of memory that will be
+ * allocated. It must be at least large enough to hold a pointer.
+ *
+ * Units of memory less or equal to MAXALLOCSAVE will permanently
+ * allocate physical memory; requests for these size pieces of
+ * memory are quite fast. Allocations greater than MAXALLOCSAVE must
+ * always allocate and free physical memory; requests for these
+ * size allocations should be done infrequently as they will be slow.
+ *
+ * Constraints: PAGE_SIZE <= MAXALLOCSAVE <= 2 ** (MINBUCKET + 14), and
+ * MAXALLOCSIZE must be a power of two.
+ */
+#define MINBUCKET	4		/* 4 => min allocation of 16 bytes */
+#define MAXALLOCSAVE	(2 * PAGE_SIZE)
+
+/*
+ * Scale factor for scaled integers used to count %cpu time and load avgs.
+ *
+ * The number of CPU `tick's that map to a unique `%age' can be expressed
+ * by the formula (1 / (2 ^ (FSHIFT - 11))).  The maximum load average that
+ * can be calculated (assuming 32 bits) can be closely approximated using
+ * the formula (2 ^ (2 * (16 - FSHIFT))) for (FSHIFT < 15).
+ *
+ * For the scheduler to maintain a 1:1 mapping of CPU `tick' to `%age',
+ * FSHIFT must be at least 11; this gives us a maximum load avg of ~1024.
+ */
+#define	FSHIFT	11		/* bits to right of fixed binary point */
+#define FSCALE	(1<<FSHIFT)
+
+#endif	/* _SYS_PARAM_H_ */
diff -urN newlib-1.15.0/newlib/libc/sys/kielder/sys/queue.h newlib-1.15.0_new/newlib/libc/sys/kielder/sys/queue.h
--- newlib-1.15.0/newlib/libc/sys/kielder/sys/queue.h	1970-01-01 00:00:00.000000000 +0000
+++ newlib-1.15.0_new/newlib/libc/sys/kielder/sys/queue.h	2007-09-22 16:27:55.171875000 +0100
@@ -0,0 +1,611 @@
+/*
+ * Copyright (c) 1991, 1993
+ *	The Regents of the University of California.  All rights reserved.
+ *
+ * Redistribution and use in source and binary forms, with or without
+ * modification, are permitted provided that the following conditions
+ * are met:
+ * 1. Redistributions of source code must retain the above copyright
+ *    notice, this list of conditions and the following disclaimer.
+ * 2. Redistributions in binary form must reproduce the above copyright
+ *    notice, this list of conditions and the following disclaimer in the
+ *    documentation and/or other materials provided with the distribution.
+ * 3. All advertising materials mentioning features or use of this software
+ *    must display the following acknowledgement:
+ *	This product includes software developed by the University of
+ *	California, Berkeley and its contributors.
+ * 4. Neither the name of the University nor the names of its contributors
+ *    may be used to endorse or promote products derived from this software
+ *    without specific prior written permission.
+ *
+ * THIS SOFTWARE IS PROVIDED BY THE REGENTS AND CONTRIBUTORS ``AS IS'' AND
+ * ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
+ * IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE
+ * ARE DISCLAIMED.  IN NO EVENT SHALL THE REGENTS OR CONTRIBUTORS BE LIABLE
+ * FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL
+ * DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS
+ * OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION)
+ * HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT
+ * LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY
+ * OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF
+ * SUCH DAMAGE.
+ *
+ *	@(#)queue.h	8.5 (Berkeley) 8/20/94
+ * $FreeBSD: src/sys/sys/queue.h,v 1.54 2002/08/05 05:18:43 alfred Exp $
+ */
+
+#ifndef _SYS_QUEUE_H_
+#define	_SYS_QUEUE_H_
+
+#include <sys/cdefs.h>
+
+/*
+ * This file defines four types of data structures: singly-linked lists,
+ * singly-linked tail queues, lists and tail queues.
+ *
+ * A singly-linked list is headed by a single forward pointer. The elements
+ * are singly linked for minimum space and pointer manipulation overhead at
+ * the expense of O(n) removal for arbitrary elements. New elements can be
+ * added to the list after an existing element or at the head of the list.
+ * Elements being removed from the head of the list should use the explicit
+ * macro for this purpose for optimum efficiency. A singly-linked list may
+ * only be traversed in the forward direction.  Singly-linked lists are ideal
+ * for applications with large datasets and few or no removals or for
+ * implementing a LIFO queue.
+ *
+ * A singly-linked tail queue is headed by a pair of pointers, one to the
+ * head of the list and the other to the tail of the list. The elements are
+ * singly linked for minimum space and pointer manipulation overhead at the
+ * expense of O(n) removal for arbitrary elements. New elements can be added
+ * to the list after an existing element, at the head of the list, or at the
+ * end of the list. Elements being removed from the head of the tail queue
+ * should use the explicit macro for this purpose for optimum efficiency.
+ * A singly-linked tail queue may only be traversed in the forward direction.
+ * Singly-linked tail queues are ideal for applications with large datasets
+ * and few or no removals or for implementing a FIFO queue.
+ *
+ * A list is headed by a single forward pointer (or an array of forward
+ * pointers for a hash table header). The elements are doubly linked
+ * so that an arbitrary element can be removed without a need to
+ * traverse the list. New elements can be added to the list before
+ * or after an existing element or at the head of the list. A list
+ * may only be traversed in the forward direction.
+ *
+ * A tail queue is headed by a pair of pointers, one to the head of the
+ * list and the other to the tail of the list. The elements are doubly
+ * linked so that an arbitrary element can be removed without a need to
+ * traverse the list. New elements can be added to the list before or
+ * after an existing element, at the head of the list, or at the end of
+ * the list. A tail queue may be traversed in either direction.
+ *
+ * For details on the use of these macros, see the queue(3) manual page.
+ *
+ *
+ *			SLIST	LIST	STAILQ	TAILQ
+ * _HEAD		+	+	+	+
+ * _HEAD_INITIALIZER	+	+	+	+
+ * _ENTRY		+	+	+	+
+ * _INIT		+	+	+	+
+ * _EMPTY		+	+	+	+
+ * _FIRST		+	+	+	+
+ * _NEXT		+	+	+	+
+ * _PREV		-	-	-	+
+ * _LAST		-	-	+	+
+ * _FOREACH		+	+	+	+
+ * _FOREACH_REVERSE	-	-	-	+
+ * _INSERT_HEAD		+	+	+	+
+ * _INSERT_BEFORE	-	+	-	+
+ * _INSERT_AFTER	+	+	+	+
+ * _INSERT_TAIL		-	-	+	+
+ * _CONCAT		-	-	+	+
+ * _REMOVE_HEAD		+	-	+	-
+ * _REMOVE		+	+	+	+
+ *
+ */
+#define QUEUE_MACRO_DEBUG 0
+#if QUEUE_MACRO_DEBUG
+/* Store the last 2 places the queue element or head was altered */
+struct qm_trace {
+	char * lastfile;
+	int lastline;
+	char * prevfile;
+	int prevline;
+};
+
+#define TRACEBUF	struct qm_trace trace;
+#define TRASHIT(x)	do {(x) = (void *)-1;} while (0)
+
+#define QMD_TRACE_HEAD(head) do {					\
+	(head)->trace.prevline = (head)->trace.lastline;		\
+	(head)->trace.prevfile = (head)->trace.lastfile;		\
+	(head)->trace.lastline = __LINE__;				\
+	(head)->trace.lastfile = __FILE__;				\
+} while (0)
+
+#define QMD_TRACE_ELEM(elem) do {					\
+	(elem)->trace.prevline = (elem)->trace.lastline;		\
+	(elem)->trace.prevfile = (elem)->trace.lastfile;		\
+	(elem)->trace.lastline = __LINE__;				\
+	(elem)->trace.lastfile = __FILE__;				\
+} while (0)
+
+#else
+#define QMD_TRACE_ELEM(elem)
+#define QMD_TRACE_HEAD(head)
+#define TRACEBUF
+#define TRASHIT(x)
+#endif	/* QUEUE_MACRO_DEBUG */
+
+/*
+ * Singly-linked List declarations.
+ */
+#define	SLIST_HEAD(name, type)						\
+struct name {								\
+	struct type *slh_first;	/* first element */			\
+}
+
+#define	SLIST_HEAD_INITIALIZER(head)					\
+	{ NULL }
+ 
+#define	SLIST_ENTRY(type)						\
+struct {								\
+	struct type *sle_next;	/* next element */			\
+}
+ 
+/*
+ * Singly-linked List functions.
+ */
+#define	SLIST_EMPTY(head)	((head)->slh_first == NULL)
+
+#define	SLIST_FIRST(head)	((head)->slh_first)
+
+#define	SLIST_FOREACH(var, head, field)					\
+	for ((var) = SLIST_FIRST((head));				\
+	    (var);							\
+	    (var) = SLIST_NEXT((var), field))
+
+#define SLIST_FOREACH_PREVPTR(var, varp, head, field)			\
+	for ((varp) = &SLIST_FIRST((head));				\
+	    ((var) = *(varp)) != NULL;					\
+	    (varp) = &SLIST_NEXT((var), field))
+
+#define	SLIST_INIT(head) do {						\
+	SLIST_FIRST((head)) = NULL;					\
+} while (0)
+
+#define	SLIST_INSERT_AFTER(slistelm, elm, field) do {			\
+	SLIST_NEXT((elm), field) = SLIST_NEXT((slistelm), field);	\
+	SLIST_NEXT((slistelm), field) = (elm);				\
+} while (0)
+
+#define	SLIST_INSERT_HEAD(head, elm, field) do {			\
+	SLIST_NEXT((elm), field) = SLIST_FIRST((head));			\
+	SLIST_FIRST((head)) = (elm);					\
+} while (0)
+
+#define	SLIST_NEXT(elm, field)	((elm)->field.sle_next)
+
+#define	SLIST_REMOVE(head, elm, type, field) do {			\
+	if (SLIST_FIRST((head)) == (elm)) {				\
+		SLIST_REMOVE_HEAD((head), field);			\
+	}								\
+	else {								\
+		struct type *curelm = SLIST_FIRST((head));		\
+		while (SLIST_NEXT(curelm, field) != (elm))		\
+			curelm = SLIST_NEXT(curelm, field);		\
+		SLIST_NEXT(curelm, field) =				\
+		    SLIST_NEXT(SLIST_NEXT(curelm, field), field);	\
+	}								\
+} while (0)
+
+#define	SLIST_REMOVE_HEAD(head, field) do {				\
+	SLIST_FIRST((head)) = SLIST_NEXT(SLIST_FIRST((head)), field);	\
+} while (0)
+
+/*
+ * Singly-linked Tail queue declarations.
+ */
+#define	STAILQ_HEAD(name, type)						\
+struct name {								\
+	struct type *stqh_first;/* first element */			\
+	struct type **stqh_last;/* addr of last next element */		\
+}
+
+#define	STAILQ_HEAD_INITIALIZER(head)					\
+	{ NULL, &(head).stqh_first }
+
+#define	STAILQ_ENTRY(type)						\
+struct {								\
+	struct type *stqe_next;	/* next element */			\
+}
+
+/*
+ * Singly-linked Tail queue functions.
+ */
+#define	STAILQ_CONCAT(head1, head2) do {				\
+	if (!STAILQ_EMPTY((head2))) {					\
+		*(head1)->stqh_last = (head2)->stqh_first;		\
+		(head1)->stqh_last = (head2)->stqh_last;		\
+		STAILQ_INIT((head2));					\
+	}								\
+} while (0)
+
+#define	STAILQ_EMPTY(head)	((head)->stqh_first == NULL)
+
+#define	STAILQ_FIRST(head)	((head)->stqh_first)
+
+#define	STAILQ_FOREACH(var, head, field)				\
+	for((var) = STAILQ_FIRST((head));				\
+	   (var);							\
+	   (var) = STAILQ_NEXT((var), field))
+
+#define	STAILQ_INIT(head) do {						\
+	STAILQ_FIRST((head)) = NULL;					\
+	(head)->stqh_last = &STAILQ_FIRST((head));			\
+} while (0)
+
+#define	STAILQ_INSERT_AFTER(head, tqelm, elm, field) do {		\
+	if ((STAILQ_NEXT((elm), field) = STAILQ_NEXT((tqelm), field)) == NULL)\
+		(head)->stqh_last = &STAILQ_NEXT((elm), field);		\
+	STAILQ_NEXT((tqelm), field) = (elm);				\
+} while (0)
+
+#define	STAILQ_INSERT_HEAD(head, elm, field) do {			\
+	if ((STAILQ_NEXT((elm), field) = STAILQ_FIRST((head))) == NULL)	\
+		(head)->stqh_last = &STAILQ_NEXT((elm), field);		\
+	STAILQ_FIRST((head)) = (elm);					\
+} while (0)
+
+#define	STAILQ_INSERT_TAIL(head, elm, field) do {			\
+	STAILQ_NEXT((elm), field) = NULL;				\
+	*(head)->stqh_last = (elm);					\
+	(head)->stqh_last = &STAILQ_NEXT((elm), field);			\
+} while (0)
+
+#define	STAILQ_LAST(head, type, field)					\
+	(STAILQ_EMPTY((head)) ?						\
+		NULL :							\
+	        ((struct type *)					\
+		((char *)((head)->stqh_last) - __offsetof(struct type, field))))
+
+#define	STAILQ_NEXT(elm, field)	((elm)->field.stqe_next)
+
+#define	STAILQ_REMOVE(head, elm, type, field) do {			\
+	if (STAILQ_FIRST((head)) == (elm)) {				\
+		STAILQ_REMOVE_HEAD((head), field);			\
+	}								\
+	else {								\
+		struct type *curelm = STAILQ_FIRST((head));		\
+		while (STAILQ_NEXT(curelm, field) != (elm))		\
+			curelm = STAILQ_NEXT(curelm, field);		\
+		if ((STAILQ_NEXT(curelm, field) =			\
+		     STAILQ_NEXT(STAILQ_NEXT(curelm, field), field)) == NULL)\
+			(head)->stqh_last = &STAILQ_NEXT((curelm), field);\
+	}								\
+} while (0)
+
+#define	STAILQ_REMOVE_HEAD(head, field) do {				\
+	if ((STAILQ_FIRST((head)) =					\
+	     STAILQ_NEXT(STAILQ_FIRST((head)), field)) == NULL)		\
+		(head)->stqh_last = &STAILQ_FIRST((head));		\
+} while (0)
+
+#define	STAILQ_REMOVE_HEAD_UNTIL(head, elm, field) do {			\
+	if ((STAILQ_FIRST((head)) = STAILQ_NEXT((elm), field)) == NULL)	\
+		(head)->stqh_last = &STAILQ_FIRST((head));		\
+} while (0)
+
+/*
+ * List declarations.
+ */
+#define	LIST_HEAD(name, type)						\
+struct name {								\
+	struct type *lh_first;	/* first element */			\
+}
+
+#define	LIST_HEAD_INITIALIZER(head)					\
+	{ NULL }
+
+#define	LIST_ENTRY(type)						\
+struct {								\
+	struct type *le_next;	/* next element */			\
+	struct type **le_prev;	/* address of previous next element */	\
+}
+
+/*
+ * List functions.
+ */
+
+#define	LIST_EMPTY(head)	((head)->lh_first == NULL)
+
+#define	LIST_FIRST(head)	((head)->lh_first)
+
+#define	LIST_FOREACH(var, head, field)					\
+	for ((var) = LIST_FIRST((head));				\
+	    (var);							\
+	    (var) = LIST_NEXT((var), field))
+
+#define	LIST_INIT(head) do {						\
+	LIST_FIRST((head)) = NULL;					\
+} while (0)
+
+#define	LIST_INSERT_AFTER(listelm, elm, field) do {			\
+	if ((LIST_NEXT((elm), field) = LIST_NEXT((listelm), field)) != NULL)\
+		LIST_NEXT((listelm), field)->field.le_prev =		\
+		    &LIST_NEXT((elm), field);				\
+	LIST_NEXT((listelm), field) = (elm);				\
+	(elm)->field.le_prev = &LIST_NEXT((listelm), field);		\
+} while (0)
+
+#define	LIST_INSERT_BEFORE(listelm, elm, field) do {			\
+	(elm)->field.le_prev = (listelm)->field.le_prev;		\
+	LIST_NEXT((elm), field) = (listelm);				\
+	*(listelm)->field.le_prev = (elm);				\
+	(listelm)->field.le_prev = &LIST_NEXT((elm), field);		\
+} while (0)
+
+#define	LIST_INSERT_HEAD(head, elm, field) do {				\
+	if ((LIST_NEXT((elm), field) = LIST_FIRST((head))) != NULL)	\
+		LIST_FIRST((head))->field.le_prev = &LIST_NEXT((elm), field);\
+	LIST_FIRST((head)) = (elm);					\
+	(elm)->field.le_prev = &LIST_FIRST((head));			\
+} while (0)
+
+#define	LIST_NEXT(elm, field)	((elm)->field.le_next)
+
+#define	LIST_REMOVE(elm, field) do {					\
+	if (LIST_NEXT((elm), field) != NULL)				\
+		LIST_NEXT((elm), field)->field.le_prev = 		\
+		    (elm)->field.le_prev;				\
+	*(elm)->field.le_prev = LIST_NEXT((elm), field);		\
+} while (0)
+
+/*
+ * Tail queue declarations.
+ */
+#define	TAILQ_HEAD(name, type)						\
+struct name {								\
+	struct type *tqh_first;	/* first element */			\
+	struct type **tqh_last;	/* addr of last next element */		\
+	TRACEBUF							\
+}
+
+#define	TAILQ_HEAD_INITIALIZER(head)					\
+	{ NULL, &(head).tqh_first }
+
+#define	TAILQ_ENTRY(type)						\
+struct {								\
+	struct type *tqe_next;	/* next element */			\
+	struct type **tqe_prev;	/* address of previous next element */	\
+	TRACEBUF							\
+}
+
+/*
+ * Tail queue functions.
+ */
+#define	TAILQ_CONCAT(head1, head2, field) do {				\
+	if (!TAILQ_EMPTY(head2)) {					\
+		*(head1)->tqh_last = (head2)->tqh_first;		\
+		(head2)->tqh_first->field.tqe_prev = (head1)->tqh_last;	\
+		(head1)->tqh_last = (head2)->tqh_last;			\
+		TAILQ_INIT((head2));					\
+		QMD_TRACE_HEAD(head);					\
+		QMD_TRACE_HEAD(head2);					\
+	}								\
+} while (0)
+
+#define	TAILQ_EMPTY(head)	((head)->tqh_first == NULL)
+
+#define	TAILQ_FIRST(head)	((head)->tqh_first)
+
+#define	TAILQ_FOREACH(var, head, field)					\
+	for ((var) = TAILQ_FIRST((head));				\
+	    (var);							\
+	    (var) = TAILQ_NEXT((var), field))
+
+#define	TAILQ_FOREACH_REVERSE(var, head, headname, field)		\
+	for ((var) = TAILQ_LAST((head), headname);			\
+	    (var);							\
+	    (var) = TAILQ_PREV((var), headname, field))
+
+#define	TAILQ_INIT(head) do {						\
+	TAILQ_FIRST((head)) = NULL;					\
+	(head)->tqh_last = &TAILQ_FIRST((head));			\
+	QMD_TRACE_HEAD(head);						\
+} while (0)
+
+#define	TAILQ_INSERT_AFTER(head, listelm, elm, field) do {		\
+	if ((TAILQ_NEXT((elm), field) = TAILQ_NEXT((listelm), field)) != NULL)\
+		TAILQ_NEXT((elm), field)->field.tqe_prev = 		\
+		    &TAILQ_NEXT((elm), field);				\
+	else {								\
+		(head)->tqh_last = &TAILQ_NEXT((elm), field);		\
+		QMD_TRACE_HEAD(head);					\
+	}								\
+	TAILQ_NEXT((listelm), field) = (elm);				\
+	(elm)->field.tqe_prev = &TAILQ_NEXT((listelm), field);		\
+	QMD_TRACE_ELEM(&(elm)->field);					\
+	QMD_TRACE_ELEM(&listelm->field);				\
+} while (0)
+
+#define	TAILQ_INSERT_BEFORE(listelm, elm, field) do {			\
+	(elm)->field.tqe_prev = (listelm)->field.tqe_prev;		\
+	TAILQ_NEXT((elm), field) = (listelm);				\
+	*(listelm)->field.tqe_prev = (elm);				\
+	(listelm)->field.tqe_prev = &TAILQ_NEXT((elm), field);		\
+	QMD_TRACE_ELEM(&(elm)->field);					\
+	QMD_TRACE_ELEM(&listelm->field);				\
+} while (0)
+
+#define	TAILQ_INSERT_HEAD(head, elm, field) do {			\
+	if ((TAILQ_NEXT((elm), field) = TAILQ_FIRST((head))) != NULL)	\
+		TAILQ_FIRST((head))->field.tqe_prev =			\
+		    &TAILQ_NEXT((elm), field);				\
+	else								\
+		(head)->tqh_last = &TAILQ_NEXT((elm), field);		\
+	TAILQ_FIRST((head)) = (elm);					\
+	(elm)->field.tqe_prev = &TAILQ_FIRST((head));			\
+	QMD_TRACE_HEAD(head);						\
+	QMD_TRACE_ELEM(&(elm)->field);					\
+} while (0)
+
+#define	TAILQ_INSERT_TAIL(head, elm, field) do {			\
+	TAILQ_NEXT((elm), field) = NULL;				\
+	(elm)->field.tqe_prev = (head)->tqh_last;			\
+	*(head)->tqh_last = (elm);					\
+	(head)->tqh_last = &TAILQ_NEXT((elm), field);			\
+	QMD_TRACE_HEAD(head);						\
+	QMD_TRACE_ELEM(&(elm)->field);					\
+} while (0)
+
+#define	TAILQ_LAST(head, headname)					\
+	(*(((struct headname *)((head)->tqh_last))->tqh_last))
+
+#define	TAILQ_NEXT(elm, field) ((elm)->field.tqe_next)
+
+#define	TAILQ_PREV(elm, headname, field)				\
+	(*(((struct headname *)((elm)->field.tqe_prev))->tqh_last))
+
+#define	TAILQ_REMOVE(head, elm, field) do {				\
+	if ((TAILQ_NEXT((elm), field)) != NULL)				\
+		TAILQ_NEXT((elm), field)->field.tqe_prev = 		\
+		    (elm)->field.tqe_prev;				\
+	else {								\
+		(head)->tqh_last = (elm)->field.tqe_prev;		\
+		QMD_TRACE_HEAD(head);					\
+	}								\
+	*(elm)->field.tqe_prev = TAILQ_NEXT((elm), field);		\
+	TRASHIT((elm)->field.tqe_next);					\
+	TRASHIT((elm)->field.tqe_prev);					\
+	QMD_TRACE_ELEM(&(elm)->field);					\
+} while (0)
+
+
+/*
+ * Circular queue definitions.
+ */
+#define CIRCLEQ_HEAD(name, type)					\
+struct name {								\
+	struct type *cqh_first;		/* first element */		\
+	struct type *cqh_last;		/* last element */		\
+}
+
+#define CIRCLEQ_ENTRY(type)						\
+struct {								\
+	struct type *cqe_next;		/* next element */		\
+	struct type *cqe_prev;		/* previous element */		\
+}
+
+/*
+ * Circular queue functions.
+ */
+#define	CIRCLEQ_INIT(head) {						\
+	(head)->cqh_first = (void *)(head);				\
+	(head)->cqh_last = (void *)(head);				\
+}
+
+#define CIRCLEQ_INSERT_AFTER(head, listelm, elm, field) {		\
+	(elm)->field.cqe_next = (listelm)->field.cqe_next;		\
+	(elm)->field.cqe_prev = (listelm);				\
+	if ((listelm)->field.cqe_next == (void *)(head))		\
+		(head)->cqh_last = (elm);				\
+	else								\
+		(listelm)->field.cqe_next->field.cqe_prev = (elm);	\
+	(listelm)->field.cqe_next = (elm);				\
+}
+
+#define CIRCLEQ_INSERT_BEFORE(head, listelm, elm, field) {		\
+	(elm)->field.cqe_next = (listelm);				\
+	(elm)->field.cqe_prev = (listelm)->field.cqe_prev;		\
+	if ((listelm)->field.cqe_prev == (void *)(head))		\
+		(head)->cqh_first = (elm);				\
+	else								\
+		(listelm)->field.cqe_prev->field.cqe_next = (elm);	\
+	(listelm)->field.cqe_prev = (elm);				\
+}
+
+#define CIRCLEQ_INSERT_HEAD(head, elm, field) {				\
+	(elm)->field.cqe_next = (head)->cqh_first;			\
+	(elm)->field.cqe_prev = (void *)(head);				\
+	if ((head)->cqh_last == (void *)(head))				\
+		(head)->cqh_last = (elm);				\
+	else								\
+		(head)->cqh_first->field.cqe_prev = (elm);		\
+	(head)->cqh_first = (elm);					\
+}
+
+#define CIRCLEQ_INSERT_TAIL(head, elm, field) {				\
+	(elm)->field.cqe_next = (void *)(head);				\
+	(elm)->field.cqe_prev = (head)->cqh_last;			\
+	if ((head)->cqh_first == (void *)(head))			\
+		(head)->cqh_first = (elm);				\
+	else								\
+		(head)->cqh_last->field.cqe_next = (elm);		\
+	(head)->cqh_last = (elm);					\
+}
+
+#define	CIRCLEQ_REMOVE(head, elm, field) {				\
+	if ((elm)->field.cqe_next == (void *)(head))			\
+		(head)->cqh_last = (elm)->field.cqe_prev;		\
+	else								\
+		(elm)->field.cqe_next->field.cqe_prev =			\
+		    (elm)->field.cqe_prev;				\
+	if ((elm)->field.cqe_prev == (void *)(head))			\
+		(head)->cqh_first = (elm)->field.cqe_next;		\
+	else								\
+		(elm)->field.cqe_prev->field.cqe_next =			\
+		    (elm)->field.cqe_next;				\
+}
+
+#ifdef KERNEL
+
+/*
+ * XXX insque() and remque() are an old way of handling certain queues.
+ * They bogusly assumes that all queue heads look alike.
+ */
+
+
+#ifdef	__GNUC__
+
+struct quehead {
+#if defined(__arm__)
+    struct quehead *qh_link  __attribute__((packed));
+    struct quehead *qh_rlink __attribute__((packed));
+#else /* !defined(__arm__)) */
+    struct quehead *qh_link;
+    struct quehead *qh_rlink;
+#endif 
+};
+
+static __inline void
+insque(void *a, void *b)
+{
+	struct quehead *element = (struct quehead *)a,
+		 *head = (struct quehead *)b;
+
+	element->qh_link = head->qh_link;
+	element->qh_rlink = head;
+	head->qh_link = element;
+	element->qh_link->qh_rlink = element;
+}
+
+static __inline void
+remque(void *a)
+{
+	struct quehead *element = (struct quehead *)a;
+
+	element->qh_link->qh_rlink = element->qh_rlink;
+	element->qh_rlink->qh_link = element->qh_link;
+	element->qh_rlink = 0;
+}
+
+#else /* !__GNUC__ */
+
+void	insque(void *a, void *b);
+void	remque(void *a);
+
+#endif /* __GNUC__ */
+
+#endif /* _KERNEL */
+
+#endif /* !_SYS_QUEUE_H_ */
\ No newline at end of file
diff -urN newlib-1.15.0/newlib/libc/sys/kielder/sys/resource.h newlib-1.15.0_new/newlib/libc/sys/kielder/sys/resource.h
--- newlib-1.15.0/newlib/libc/sys/kielder/sys/resource.h	1970-01-01 00:00:00.000000000 +0000
+++ newlib-1.15.0_new/newlib/libc/sys/kielder/sys/resource.h	2007-09-22 16:27:55.187500000 +0100
@@ -0,0 +1,42 @@
+#ifndef _SYS_RESOURCE_H_
+#define _SYS_RESOURCE_H_
+
+#include <sys/time.h>
+
+
+
+
+typedef unsigned long rlim_t;
+
+#define RLIM_INFINITY		0xffffffff
+#define RLIM_SAVED_MAX		0xfffffffe
+#define RLIM_SAVED_CUR		0xfffffffd
+
+
+
+#define RLIMIT_CORE			0
+#define RLIMIT_CPU			1
+#define RLIMIT_DATA			2
+#define RLIMIT_FSIZE		3
+#define RLIMIT_NOFILE		4
+#define RLIMIT_STACK		5
+#define RLIMIT_AS			6
+
+struct rlimit
+{
+	rlim_t rlim_cur;
+	rlim_t rlim_max;
+};
+
+
+
+#define	RUSAGE_SELF	0		/* calling process */
+#define	RUSAGE_CHILDREN	-1		/* terminated child processes */
+
+struct rusage {
+  	struct timeval ru_utime;	/* user time used */
+	struct timeval ru_stime;	/* system time used */
+};
+
+#endif
+
diff -urN newlib-1.15.0/newlib/libc/sys/kielder/sys/signal.h newlib-1.15.0_new/newlib/libc/sys/kielder/sys/signal.h
--- newlib-1.15.0/newlib/libc/sys/kielder/sys/signal.h	1970-01-01 00:00:00.000000000 +0000
+++ newlib-1.15.0_new/newlib/libc/sys/kielder/sys/signal.h	2007-09-22 16:27:55.187500000 +0100
@@ -0,0 +1,200 @@
+/* sys/signal.h */
+
+#ifndef _SYS_SIGNAL_H
+#define _SYS_SIGNAL_H
+
+#ifdef __cplusplus
+extern "C" {
+#endif
+
+
+
+
+#include "_ansi.h"
+#include <sys/features.h>
+#include <sys/types.h>
+
+typedef unsigned long sigset_t;
+
+
+
+/* sigev_notify values
+   NOTE: P1003.1c/D10, p. 34 adds SIGEV_THREAD.  */
+
+#define SIGEV_NONE   1  /* No asynchronous notification shall be delivered */
+                        /*   when the event of interest occurs. */
+#define SIGEV_SIGNAL 2  /* A queued signal, with an application defined */
+                        /*  value, shall be delivered when the event of */
+                        /*  interest occurs. */
+#define SIGEV_THREAD 3  /* A notification function shall be called to */
+                        /*   perform notification. */
+
+/*  Signal Generation and Delivery, P1003.1b-1993, p. 63
+    NOTE: P1003.1c/D10, p. 34 adds sigev_notify_function and
+          sigev_notify_attributes to the sigevent structure.  */
+
+
+union sigval {
+  int    sival_int;    /* Integer signal value */
+  void  *sival_ptr;    /* Pointer signal value */
+};
+
+struct sigevent {
+  int              sigev_notify;               /* Notification type */
+  int              sigev_signo;                /* Signal number */
+  union sigval     sigev_value;                /* Signal value */
+
+  void           (*sigev_notify_function)( union sigval );
+};
+
+/* Signal Actions, P1003.1b-1993, p. 64 */
+/* si_code values, p. 66 */
+
+#define SI_USER    1    /* Sent by a user. kill(), abort(), etc */
+#define SI_QUEUE   2    /* Sent by sigqueue() */
+#define SI_TIMER   3    /* Sent by expiration of a timer_settime() timer */
+#define SI_ASYNCIO 4    /* Indicates completion of asycnhronous IO */
+#define SI_MESGQ   5    /* Indicates arrival of a message at an empty queue */
+
+typedef struct {
+  int          si_signo;    /* Signal number */
+  int          si_code;     /* Cause of the signal */
+  union sigval si_value;    /* Signal value */
+} siginfo_t;
+
+
+
+/*  3.3.8 Synchronously Accept a Signal, P1003.1b-1993, p. 76 */
+
+#define SA_NOCLDSTOP 1   /* Do not generate SIGCHLD when children stop */
+#define SA_SIGINFO   2   /* Invoke the signal catching function with */
+                         /*   three arguments instead of one. */
+
+/* struct sigaction notes from POSIX:
+ *
+ *  (1) Routines stored in sa_handler should take a single int as
+ *      their argument although the POSIX standard does not require this.
+ *  (2) The fields sa_handler and sa_sigaction may overlap, and a conforming
+ *      application should not use both simultaneously.
+ */
+
+typedef void (*_sig_func_ptr)();
+
+struct sigaction {
+  int         sa_flags;       /* Special flags to affect behavior of signal */
+  sigset_t    sa_mask;        /* Additional set of signals to be blocked */
+                              /*   during execution of signal-catching */
+                              /*   function. */
+  union {
+    _sig_func_ptr _handler;  /* SIG_DFL, SIG_IGN, or pointer to a function */
+
+
+    void      (*_sigaction)( int, siginfo_t *, void * );
+  } _signal_handlers;
+};
+
+
+#define sa_handler    _signal_handlers._handler
+#define sa_sigaction  _signal_handlers._sigaction
+
+
+#define SA_NOCLDSTOP (1<<0)
+#define SA_RESETHAND (1<<1)
+#define SA_SIGINFO   (1<<2)
+#define SA_NODEFER   (1<<3)
+
+
+
+
+#define SIG_SETMASK 0	/* set mask with sigprocmask() */
+#define SIG_BLOCK 1	/* set of signals to block */
+#define SIG_UNBLOCK 2	/* set of signals to, well, unblock */
+
+/* These depend upon the type of sigset_t, which right now 
+   is always a long.. They're in the POSIX namespace, but
+   are not ANSI. */
+   
+int sigprocmask (int how, const sigset_t *set, sigset_t *oset);
+int kill (int, int);
+int killpg (pid_t, int);
+int sigaction (int, const struct sigaction *, struct sigaction *);
+int sigaddset (sigset_t *a, const int);
+int sigdelset (sigset_t *b, const int);
+
+int sigismember (const sigset_t *, int);
+int sigfillset (sigset_t *);
+int sigemptyset (sigset_t *);
+int sigpending (sigset_t *);
+int sigsuspend (const sigset_t *);
+int sigpause (int);
+
+
+
+
+/*  3.3.8 Synchronously Accept a Signal, P1003.1b-1993, p. 76
+    NOTE: P1003.1c/D10, p. 39 adds sigwait().  */
+
+int sigwaitinfo (const sigset_t *set, siginfo_t *info);
+int sigtimedwait (const sigset_t *set, siginfo_t *info, const struct timespec  *timeout);
+int sigwait (const sigset_t *set, int *sig);
+
+/*  3.3.9 Queue a Signal to a Process, P1003.1b-1993, p. 78 */
+int sigqueue (pid_t pid, int signo, const union sigval value);
+
+
+/* sys_siglist and sys_signame */
+
+extern const char * const sys_siglist[];
+extern const char * const sys_signame[];
+
+char *strsignal (int);
+void psignal (unsigned int, const char *);
+
+
+/* signals */
+
+#define	SIGHUP	1	/* hangup */
+#define	SIGINT	2	/* interrupt */
+#define	SIGQUIT	3	/* quit */
+#define	SIGILL	4	/* illegal instruction (not reset when caught) */
+#define	SIGTRAP	5	/* trace trap (not reset when caught) */
+#define	SIGIOT	6	/* IOT instruction */
+#define	SIGABRT 6	/* used by abort, replace SIGIOT in the future */
+#define	SIGEMT	7	/* EMT instruction */
+#define	SIGFPE	8	/* floating point exception */
+#define	SIGKILL	9	/* kill (cannot be caught or ignored) */
+#define	SIGBUS	10	/* bus error */
+#define	SIGSEGV	11	/* segmentation violation */
+#define	SIGSYS	12	/* bad argument to system call */
+#define	SIGPIPE	13	/* write on a pipe with no one to read it */
+#define	SIGALRM	14	/* alarm clock */
+#define	SIGTERM	15	/* software termination signal from kill */
+#define	SIGURG	16	/* urgent condition on IO channel */
+#define	SIGSTOP	17	/* sendable stop signal not from tty */
+#define	SIGTSTP	18	/* stop signal from tty */
+#define	SIGCONT	19	/* continue a stopped process */
+#define	SIGCHLD	20	/* to parent on child stop or exit */
+#define	SIGCLD	20	/* System V name for SIGCHLD */
+#define	SIGTTIN	21	/* to readers pgrp upon background tty read */
+#define	SIGTTOU	22	/* like TTIN for output */
+#define	SIGIO	23	/* input/output possible signal */
+#define	SIGPOLL	SIGIO	/* System V name for SIGIO */
+#define	SIGXCPU	24	/* exceeded CPU time limit */
+#define	SIGXFSZ	25	/* exceeded file size limit */
+#define	SIGVTALRM 26	/* virtual time alarm */
+#define	SIGPROF	27	/* profiling time alarm */
+#define	SIGWINCH 28	/* window changed */
+#define	SIGLOST 29	/* resource lost (eg, record-lock lost) */
+#define	SIGUSR1 30	/* user defined signal 1 */
+#define	SIGUSR2 31	/* user defined signal 2 */
+#define NSIG	32      /* signal 0 implied */
+
+
+
+
+
+#ifdef __cplusplus
+}
+#endif
+
+#endif /* _SYS_SIGNAL_H */
diff -urN newlib-1.15.0/newlib/libc/sys/kielder/sys/socket.h newlib-1.15.0_new/newlib/libc/sys/kielder/sys/socket.h
--- newlib-1.15.0/newlib/libc/sys/kielder/sys/socket.h	1970-01-01 00:00:00.000000000 +0000
+++ newlib-1.15.0_new/newlib/libc/sys/kielder/sys/socket.h	2007-10-01 19:15:59.531250000 +0100
@@ -0,0 +1,175 @@
+/* 
+ * sys/socket.h
+ *
+ * Needs CMSG_NXTHDR(mhdr, cmsg) fixing.  Other implementations use
+ * a function __cmsg_nxthdr().
+ *
+ * Sockets are not implemented in Kielder OS.
+ */
+
+
+
+#ifndef _SYS_SOCKET_H_
+#define _SYS_SOCKET_H_
+
+
+#include <inttypes.h>
+#include <sys/types.h>
+
+
+
+typedef int socklen_t;
+typedef unsigned int sa_family_t;
+
+
+struct sockaddr
+{
+	sa_family_t sa_family;
+	char sa_data[];
+};
+
+
+
+
+struct msghdr
+{
+	void *msg_name;
+	socklen_t msg_namelen;
+	struct iovec *msg_iov;
+	int msg_iovlen;
+	void *msg_control;
+	socklen_t msg_controllen;
+	int msg_flags;
+};
+
+
+
+struct cmsghdr
+{
+	socklen_t cmsg_len;
+	int cmsg_level;
+	int cmsg_type;
+};
+
+
+
+#define SCM_RIGHTS       1
+
+
+#define CMSG_DATA(cmsg) ((unsigned char *)(cmsg)+sizeof(struct cmsghdr))
+
+/* FIX */
+#define CMSG_NXTHDR(mhdr, cmsg) NULL
+
+#define CMSG_FIRSTHDR(mhdr) ((size_t) (mhdr)->msg_controllen >= sizeof (struct cmsghdr) \
+   ? (struct cmsghdr *) (mhdr)->msg_control : (struct cmsghdr *) NULL)
+   
+   
+
+struct linger
+{
+	int l_onoff;
+	int l_linger;
+};
+
+
+#define SOCK_DGRAM       1
+#define SOCK_STREAM      2
+#define SOCK_SEQPACKET   3
+
+
+#define SOL_SOCKET       1
+
+
+
+
+
+#define SO_ACCEPTCONN	1
+#define SO_BROADCAST	2
+#define SO_DEBUG		3
+#define SO_DONTROUTE	4
+#define SO_ERROR		5
+#define SO_KEEPALIVE	6
+#define SO_LINGER		7
+#define SO_OOBINLINE	8
+#define SO_RCVBUF		9
+#define SO_RCVLOWAT		10
+#define SO_RCVTIMEO		11
+#define SO_REUSEADDR	12
+#define SO_SNDBUF		13
+#define SO_SNDLOWAT		14
+#define SO_SNDTIMEO		15
+#define SO_TYPE			16
+
+
+
+
+
+
+#define MSG_CTRUNC		1
+#define MSG_DONTROUTE	2
+#define MSG_EOR			3
+#define MSG_OOB			4
+#define MSG_PEEK		5
+#define MSG_TRUNC		6
+#define MSG_WAITALL		7
+
+
+#define AF_UNIX			1
+#define AF_UNSPEC		2
+#define AF_INET			3
+
+#define PF_UNIX			1
+#define PF_UNSPEC		2
+#define PF_INET			3
+
+
+
+#define SHUT_RD			4
+#define SHUT_WR			5
+#define SHUT_RDWR		6
+
+
+
+
+
+
+
+
+
+
+int accept (int socket, struct sockaddr *address, socklen_t *address_len);
+int bind (int socket, const struct sockaddr *address, socklen_t address_len);
+int connect (int socket, const struct sockaddr *address, socklen_t address_len);
+int getpeername (int socket, struct sockaddr *address, socklen_t *address_len);
+int getsockname (int socket, struct sockaddr *address, socklen_t *address_len);
+int getsockopt (int socket, int level, int option_name, void *option_value, socklen_t *option_len);
+int listen (int socket, int backlog);
+ssize_t recv (int socket, void *buffer, size_t length, int flags);
+ssize_t recvfrom (int socket, void *buffer, size_t length, int flags, struct sockaddr *address, socklen_t *address_len);
+ssize_t recvmsg (int socket, struct msghdr *message, int flags);
+ssize_t send (int socket, const void *message, size_t length, int flags);
+ssize_t sendmsg (int socket, const struct msghdr *message, int flags);
+ssize_t sendto (int socket, const void *message, size_t length, int flags, const struct sockaddr *dest_addr, socklen_t dest_len);
+int setsockopt (int socket, int level, int option_name, const void *option_value, socklen_t option_len);
+int shutdown (int socket, int how);
+int socket (int domain, int type, int protocol);
+int socketpair (int domain, int type, int protocol, int socket_vector[2]);
+
+
+
+
+
+
+
+
+
+
+
+
+
+
+
+
+#endif /* !_SYS_SOCKET_H_ */
+
diff -urN newlib-1.15.0/newlib/libc/sys/kielder/sys/stat.h newlib-1.15.0_new/newlib/libc/sys/kielder/sys/stat.h
--- newlib-1.15.0/newlib/libc/sys/kielder/sys/stat.h	1970-01-01 00:00:00.000000000 +0000
+++ newlib-1.15.0_new/newlib/libc/sys/kielder/sys/stat.h	2007-09-22 16:27:55.203125000 +0100
@@ -0,0 +1,121 @@
+#ifndef	_SYS_STAT_H
+#define	_SYS_STAT_H
+
+#ifdef __cplusplus
+extern "C" {
+#endif
+
+#include <_ansi.h>
+#include <time.h>
+#include <sys/types.h>
+
+/* dj's stat defines _STAT_H_ */
+#ifndef _STAT_H_
+
+/* It is intended that the layout of this structure not change when the
+   sizes of any of the basic types change (short, int, long) [via a compile
+   time option].  */
+
+
+struct stat 
+{
+  dev_t		st_dev;
+  ino_t		st_ino;
+  mode_t	st_mode;
+  nlink_t	st_nlink;
+  uid_t		st_uid;
+  gid_t		st_gid;
+  dev_t		st_rdev;
+  off_t		st_size;
+  time_t	st_atime;
+  time_t	st_mtime;
+  time_t	st_ctime;
+  unsigned long  st_blocks;
+  unsigned long st_blksize;
+};
+
+
+
+#define	_IFMT		0170000	/* type of file */
+#define	_IFDIR		0040000	/* directory */
+#define	_IFCHR		0020000	/* character special */
+#define	_IFBLK		0060000	/* block special */
+#define	_IFREG		0100000	/* regular */
+#define	_IFLNK		0120000	/* symbolic link */
+#define	_IFSOCK		0140000	/* socket */
+#define	_IFIFO		0010000	/* fifo */
+
+#define S_BLKSIZE  	1024	/* size of a block */
+
+#define	S_ISUID		0004000	/* set user id on execution */
+#define	S_ISGID		0002000	/* set group id on execution */
+
+#ifndef	_POSIX_SOURCE
+#define	S_ISVTX		0001000	/* save swapped text even after use */
+#define	S_IREAD		0000400	/* read permission, owner */
+#define	S_IWRITE 	0000200	/* write permission, owner */
+#define	S_IEXEC		0000100	/* execute/search permission, owner */
+#define	S_ENFMT 	0002000	/* enforcement-mode locking */
+#define	S_IFMT		_IFMT
+#define	S_IFDIR		_IFDIR
+#define	S_IFCHR		_IFCHR
+#define	S_IFBLK		_IFBLK
+#define	S_IFREG		_IFREG
+#define	S_IFLNK		_IFLNK
+#define	S_IFSOCK	_IFSOCK
+#define	S_IFIFO		_IFIFO
+#endif	/* !_POSIX_SOURCE */
+
+
+#define	S_IRWXU 	(S_IRUSR | S_IWUSR | S_IXUSR)
+#define	S_IRUSR		0000400	/* read permission, owner */
+#define	S_IWUSR		0000200	/* write permission, owner */
+#define	S_IXUSR		0000100/* execute/search permission, owner */
+#define	S_IRWXG		(S_IRGRP | S_IWGRP | S_IXGRP)
+#define	S_IRGRP		0000040	/* read permission, group */
+#define	S_IWGRP		0000020	/* write permission, grougroup */
+#define	S_IXGRP 	0000010/* execute/search permission, group */
+#define	S_IRWXO		(S_IROTH | S_IWOTH | S_IXOTH)
+#define	S_IROTH		0000004	/* read permission, other */
+#define	S_IWOTH		0000002	/* write permission, other */
+#define	S_IXOTH 	0000001/* execute/search permission, other */
+
+#define	S_ISBLK(m)	(((m)&_IFMT) == _IFBLK)
+#define	S_ISCHR(m)	(((m)&_IFMT) == _IFCHR)
+#define	S_ISDIR(m)	(((m)&_IFMT) == _IFDIR)
+#define	S_ISFIFO(m)	(((m)&_IFMT) == _IFIFO)
+#define	S_ISREG(m)	(((m)&_IFMT) == _IFREG)
+#define	S_ISLNK(m)	(((m)&_IFMT) == _IFLNK)
+#define	S_ISSOCK(m)	(((m)&_IFMT) == _IFSOCK)
+
+
+int	_EXFUN(chmod,( const char *__path, mode_t __mode ));
+int _EXFUN(fchmod,(int __fd, mode_t __mode));
+int	_EXFUN(fstat,( int __fd, struct stat *__sbuf ));
+int	_EXFUN(mkdir,( const char *_path, mode_t __mode ));
+int	_EXFUN(mkfifo,( const char *__path, mode_t __mode ));
+int	_EXFUN(stat,( const char *__path, struct stat *__sbuf ));
+int	_EXFUN(lstat,( const char *__path, struct stat *__sbuf ));
+mode_t	_EXFUN(umask,( mode_t __mask ));
+
+#if defined(__rtems__) || defined(__CYGWIN__) && !defined(__INSIDE_CYGWIN__)
+int	_EXFUN(lstat,( const char *__path, struct stat *__buf ));
+int	_EXFUN(mknod,( const char *__path, mode_t __mode, dev_t __dev ));
+#endif
+
+/* Provide prototypes for most of the _<systemcall> names that are
+   provided in newlib for some compilers.  */
+#ifdef _COMPILING_NEWLIB
+int	_EXFUN(_fstat,( int __fd, struct stat *__sbuf ));
+int	_EXFUN(_stat,( const char *__path, struct stat *__sbuf ));
+#ifdef __LARGE64_FILES
+struct stat64;
+int	_EXFUN(_fstat64,( int __fd, struct stat64 *__sbuf ));
+#endif
+#endif
+
+#endif /* !_STAT_H_ */
+#ifdef __cplusplus
+}
+#endif
+#endif /* _SYS_STAT_H */
diff -urN newlib-1.15.0/newlib/libc/sys/kielder/sys/statvfs.h newlib-1.15.0_new/newlib/libc/sys/kielder/sys/statvfs.h
--- newlib-1.15.0/newlib/libc/sys/kielder/sys/statvfs.h	1970-01-01 00:00:00.000000000 +0000
+++ newlib-1.15.0_new/newlib/libc/sys/kielder/sys/statvfs.h	2007-09-22 16:27:55.203125000 +0100
@@ -0,0 +1,41 @@
+#ifndef	_SYS_STATVFS_H
+#define	_SYS_STATVFS_H
+
+#ifdef __cplusplus
+extern "C" {
+#endif
+
+#include <_ansi.h>
+#include <time.h>
+#include <sys/types.h>
+
+
+typedef int fsblkcnt_t;
+typedef int fsfilcnt_t;
+
+struct statvfs 
+{
+	unsigned long f_bsize;    /* File system block size */
+	unsigned long f_frsize;   /* Fundamental file system block size */
+	fsblkcnt_t    f_blocks;   /* Num blocks in units of f_frsize */
+	fsblkcnt_t    f_bfree;    /* Num free blocks */
+	fsblkcnt_t    f_bavail;   /* Num free blocks for non-privileged process */
+	fsfilcnt_t    f_files;    /* Total number of file serial numbers */ 
+	fsfilcnt_t    f_ffree;    /* Total number of free file serial numbers */ 
+	fsfilcnt_t    f_favail;   /* ... for non-privileged process */ 
+	unsigned long f_fsid;     /* File system ID */ 
+	unsigned long f_flag;     /* Bit mask of f_flag values */  
+	unsigned long f_namemax ; /* Maximum filename length */ 
+};
+
+
+
+
+
+
+
+
+#ifdef __cplusplus
+}
+#endif
+#endif /* _SYS_STAT_H */
diff -urN newlib-1.15.0/newlib/libc/sys/kielder/sys/syscall.h newlib-1.15.0_new/newlib/libc/sys/kielder/sys/syscall.h
--- newlib-1.15.0/newlib/libc/sys/kielder/sys/syscall.h	1970-01-01 00:00:00.000000000 +0000
+++ newlib-1.15.0_new/newlib/libc/sys/kielder/sys/syscall.h	2008-04-15 12:56:08.703125000 +0100
@@ -0,0 +1,295 @@
+#ifndef _SYS_SYSCALL_H
+#define _SYS_SYSCALL_H
+
+#include <stdarg.h>
+#include <errno.h>
+
+
+
+
+static inline int __syscall0 (int sysno, ...)
+{
+	int _result;
+	int _new_errno;
+	va_list ap;
+	
+	va_start(ap, sysno);	
+	/* va_arg(ap, int); */
+	
+	asm volatile ("int $48;"
+		: 	"=a" (_result), "=b" (_new_errno)
+		: "a" (sysno)
+		: "ecx", "edx", "esi", "edi", "memory"
+		);
+
+	
+	if (_new_errno != 0)
+		errno = _new_errno;
+	
+		
+	va_end(ap);
+	
+	return _result;
+}
+
+
+
+
+static inline int __syscall1 (int sysno, ...)
+{
+	int _result;
+	int _new_errno;
+	va_list ap;
+	
+	va_start(ap, sysno);	
+	
+	asm volatile ("int $48;"
+		: 	"=a" (_result), "=b" (_new_errno)
+		: "a" (sysno), "b"  (va_arg(ap, int))
+		: "ecx", "edx", "esi", "edi", "memory"
+		);
+	
+	
+	if (_new_errno != 0)
+		errno = _new_errno;
+	
+	va_end(ap);
+	
+	return _result;
+}
+
+
+
+
+static inline int __syscall2 (int sysno, ...)
+{
+	int _result;
+	int _new_errno;
+	va_list ap;
+	
+	va_start(ap, sysno);	
+	
+	asm volatile ("int $48;"
+		: 	"=a" (_result), "=b" (_new_errno)
+		: "a" (sysno), "b"  (va_arg(ap, int)), "c" (va_arg(ap, int))
+		: "edx", "esi", "edi", "memory"
+		);
+	
+	if (_new_errno != 0)
+		errno = _new_errno;
+	
+	va_end(ap);
+	
+	return _result;
+}
+
+
+
+
+/* ************************************************ */
+
+static inline int __syscall3 (int sysno, ...)
+{
+	int _result;
+	int _new_errno;
+	va_list ap;
+	
+	va_start(ap, sysno);	
+	
+	asm volatile ("int $48;"
+		: 	"=a" (_result), "=b" (_new_errno)
+		: "a" (sysno), "b"  (va_arg(ap, int)), "c" (va_arg(ap, int)),
+			"d" (va_arg(ap, int))
+		: "esi", "edi", "memory"
+		);
+	
+	if (_new_errno != 0)
+		errno = _new_errno;
+	
+	va_end(ap);
+	
+	return _result;
+}
+
+
+
+
+
+static inline int __syscall4 (int sysno, ...)
+{
+	int _result;
+	int _new_errno;
+	va_list ap;
+	
+	va_start(ap, sysno);	
+	
+	asm volatile ("int $48;"
+		: 	"=a" (_result), "=b" (_new_errno)
+		: "a" (sysno), "b"  (va_arg(ap, int)), "c" (va_arg(ap, int)),
+		  "d" (va_arg(ap, int)), "S" (va_arg(ap, int))
+		: "edi", "memory"
+		);
+	
+	if (_new_errno != 0)
+		errno = _new_errno;
+	
+	va_end(ap);
+	
+	return _result;
+}
+
+
+
+
+static inline int __syscall5 (int sysno, ...)
+{
+	int _result;
+	int _new_errno;
+	va_list ap;
+	
+	va_start(ap, sysno);	
+	
+	asm volatile ("int $48;"
+		: 	"=a" (_result), "=b" (_new_errno)
+		: "a" (sysno), "b"  (va_arg(ap, int)), "c" (va_arg(ap, int)),
+		  "d" (va_arg(ap, int)), "S" (va_arg(ap, int)), "D" (va_arg(ap, int))
+		: "memory"
+		);
+	
+	if (_new_errno != 0)
+		errno = _new_errno;
+	
+	va_end(ap);
+	
+	return _result;
+}
+
+
+
+
+
+
+
+
+
+
+
+
+
+
+
+
+
+
+
+
+
+
+
+
+/*
+ * Syscall indices
+ */
+
+#define _sysidx_exit			0
+#define _sysidx_createprocess	1
+#define _sysidx_fork			2
+#define _sysidx_exec			3
+#define _sysidx_waitpid			4
+#define _sysidx_getpid			5
+
+#define _sysidx_mmap			6
+#define _sysidx_munmap			7
+#define _sysidx_mprotect		8
+
+#define _sysidx_sleep			9
+#define _sysidx_gettimeofday	10
+
+#define _sysidx_mount			11
+#define _sysidx_unmount			12
+#define _sysidx_open			13
+#define _sysidx_close			14
+#define _sysidx_unlink			15
+#define _sysidx_pipe			16
+#define _sysidx_dup				17
+#define _sysidx_dup2			18
+#define _sysidx_rename			19
+#define _sysidx_ftruncate		20
+#define _sysidx_fstat			21
+#define _sysidx_fstatvfs		22
+#define _sysidx_isatty			23
+#define _sysidx_sync			24
+#define _sysidx_fsync			25
+#define _sysidx_read			26
+#define _sysidx_write			27
+#define _sysidx_seek			28
+#define _sysidx_getcwd			29
+#define _sysidx_chdir			30
+#define _sysidx_mkdir			31
+#define _sysidx_rmdir			32
+
+#define _sysidx_opendir			33
+#define _sysidx_closedir		34
+#define _sysidx_readdir			35
+#define _sysidx_rewinddir		36
+
+#define _sysidx_debug			37
+
+#define _sysidx_tcgetattr		38
+#define _sysidx_tcsetattr		39
+
+#define _sysidx_fcntl			40
+#define _sysidx_sizeofmap		41
+#define _sysidx_stat			42
+#define _sysidx_setassign		43
+#define _sysidx_getassign		44
+
+#define _sysidx_ioctl			45
+#define _sysidx_access			46
+#define _sysidx_umask			47
+#define _sysidx_chmod			48
+#define _sysidx_chown			49
+
+#define _sysidx_getuid			50
+#define _sysidx_setuid			51
+#define _sysidx_geteuid			52
+#define _sysidx_getgid			53
+#define _sysidx_setgid			54
+#define _sysidx_getegid			55
+#define _sysidx_setpgid			56  /* not implemented */
+#define _sysidx_getpgid			57  /* not implemented */
+#define _sysidx_getpgrp			58  /* SysV-like getpgrp */
+
+#define _sysidx_format			59
+#define _sysidx_tcsetpgrp		60
+#define _sysidx_tcgetpgrp		61
+#define _sysidx_kill			62
+#define _sysidx_setpgrp			63  /* SysV-like setpgrp */
+
+#define _sysidx_sigaction		64
+#define _sysidx_sigsuspend		65
+#define _sysidx_sigprocmask     66
+#define _sysidx_init_sigtramp   67
+#define _sysidx_sigpending      68
+
+#define _sysidx_getppid         69
+
+#define _sysidx_alarm			70
+
+#define _sysidx_getpagesize		71
+
+#define _sysidx_inhibit			72
+#define _sysidx_uninhibit		73
+
+#define _sysidx_relabel			74
+#define _sysidx_reboot			75
+#define _sysidx_mountinfo		76
+
+
+
+#define _sysidx_sigreturn       0xffffffff
+
+
+
+    
+#endif
diff -urN newlib-1.15.0/newlib/libc/sys/kielder/sys/syslimits.h newlib-1.15.0_new/newlib/libc/sys/kielder/sys/syslimits.h
--- newlib-1.15.0/newlib/libc/sys/kielder/sys/syslimits.h	1970-01-01 00:00:00.000000000 +0000
+++ newlib-1.15.0_new/newlib/libc/sys/kielder/sys/syslimits.h	2007-09-22 16:27:55.218750000 +0100
@@ -0,0 +1,47 @@
+/* "sys/syslimits.h"
+ * 
+ * Values in this file should match those in "limits.h"
+ */
+ 
+#ifndef _SYS_SYSLIMITS_H_
+#define _SYS_SYSLIMITS_H_
+
+
+
+
+/*
+ * Might be useful to make them match limits.h
+ */
+
+#define	ARG_MAX			 4096
+
+#ifndef CHILD_MAX
+#define	CHILD_MAX		    6
+#endif
+
+#define	LINK_MAX		    8
+#define	MAX_CANON		  255
+#define	MAX_INPUT		  255
+#define	NAME_MAX		  255
+#define	NGROUPS_MAX		   16
+
+#ifndef OPEN_MAX
+#define	OPEN_MAX		   64
+#endif
+
+#define	PATH_MAX		  255
+#define	PIPE_BUF		  512
+#define	IOV_MAX			 1024
+#define	BC_BASE_MAX		   99
+#define	BC_DIM_MAX		 2048
+#define	BC_SCALE_MAX	   99
+#define	BC_STRING_MAX	 1000
+#define	COLL_WEIGHTS_MAX    0
+#define	EXPR_NEST_MAX	   32
+#define	LINE_MAX		 2048
+#define	RE_DUP_MAX		  255
+
+
+
+
+#endif /* !_SYS_SYSLIMITS_H_ */
diff -urN newlib-1.15.0/newlib/libc/sys/kielder/sys/termios.h newlib-1.15.0_new/newlib/libc/sys/kielder/sys/termios.h
--- newlib-1.15.0/newlib/libc/sys/kielder/sys/termios.h	1970-01-01 00:00:00.000000000 +0000
+++ newlib-1.15.0_new/newlib/libc/sys/kielder/sys/termios.h	2007-09-22 16:27:55.218750000 +0100
@@ -0,0 +1,234 @@
+/* termios.h
+ *
+ * termios.h is identical to /sys/termios.h.  Some applications appear to use
+ * different source directories, so this file exists in both directories.
+ */
+
+#ifndef _SYS_TERMIOS_H_
+#define _SYS_TERMIOS_H_
+
+#include <sys/types.h>
+#include <sys/cdefs.h>
+
+
+
+
+/*
+ * Control Characters in termios.c_cc[]
+ */
+ 
+#define	VEOF		0
+#define	VEOL		1
+#define	VEOL2		2
+#define	VERASE		3
+#define VWERASE 	4
+#define VKILL		5
+#define	VREPRINT 	6
+#define VINTR		8
+#define VQUIT		9
+#define VSUSP		10
+#define VDSUSP		11
+#define VSTART		12
+#define VSTOP		13
+#define	VLNEXT		14
+#define	VDISCARD	15
+#define VMIN		16
+#define VTIME		17
+#define VSTATUS		18
+#define	NCCS		20
+
+
+
+
+/*
+ * Input flags
+ */
+
+#define	IGNBRK		0x00000001
+#define	BRKINT		0x00000002
+#define	IGNPAR		0x00000004
+#define	PARMRK		0x00000008
+#define	INPCK		0x00000010
+#define	ISTRIP		0x00000020
+#define	INLCR		0x00000040
+#define	IGNCR		0x00000080
+#define	ICRNL		0x00000100
+#define	IXON		0x00000200
+#define	IXOFF		0x00000400
+#define	IXANY		0x00000800
+#define IMAXBEL		0x00002000
+
+
+
+
+/*
+ * Output flags
+ */
+
+#define	OPOST		0x00000001
+#define ONLCR		0x00000002
+#define OXTABS		0x00000004
+#define ONOEOT		0x00000008
+#define OCRNL		0x00000010
+#define ONOCR		0x00000020
+#define ONLRET		0x00000040
+
+
+
+
+/*
+ * Control flags - hardware control of terminal
+ */
+
+#define	CIGNORE		0x00000001
+#define CSIZE		0x00000300
+#define CS5		    0x00000000
+#define CS6		    0x00000100
+#define CS7		    0x00000200
+#define CS8		    0x00000300
+#define CSTOPB		0x00000400
+#define CREAD		0x00000800
+#define PARENB		0x00001000
+#define PARODD		0x00002000
+#define HUPCL		0x00004000
+#define CLOCAL		0x00008000
+#define	CRTSCTS		0x00010000
+#define	CRTS_IFLOW	CRTSCTS
+#define	CCTS_OFLOW	CRTSCTS
+#define	CDTRCTS		0x00020000
+#define	MDMBUF		0x00100000
+#define	CHWFLOW		(MDMBUF|CRTSCTS|CDTRCTS)
+
+
+
+
+/*
+ * Local flags 
+ */
+
+#define	ECHOKE		0x00000001
+#define	ECHOE		0x00000002
+#define	ECHOK		0x00000004
+#define ECHO		0x00000008
+#define	ECHONL		0x00000010
+#define	ECHOPRT		0x00000020
+#define ECHOCTL  	0x00000040
+#define	ISIG		0x00000080
+#define	ICANON		0x00000100
+#define ALTWERASE	0x00000200
+#define	IEXTEN		0x00000400
+#define EXTPROC     0x00000800
+#define TOSTOP		0x00400000
+#define FLUSHO		0x00800000
+#define	NOKERNINFO	0x02000000
+#define PENDIN		0x20000000
+#define	NOFLSH		0x80000000
+
+
+
+
+/*
+ * struct termios and types
+ */
+
+typedef unsigned int	tcflag_t;
+typedef unsigned char	cc_t;
+typedef unsigned int	speed_t;
+
+struct termios
+{
+	tcflag_t c_iflag;
+	tcflag_t c_oflag;
+	tcflag_t c_cflag;
+	tcflag_t c_lflag;
+	cc_t     c_cc[NCCS];
+	int      c_ispeed;
+	int      c_ospeed;
+};
+
+
+
+
+/*
+ * tcsetattr() action commands
+ */
+ 
+#define	TCSANOW		0
+#define	TCSADRAIN	1
+#define	TCSAFLUSH	2
+#define TCSASOFT	0x10
+
+
+
+
+/*
+ * Standard speeds
+ */
+
+#define B0	0
+#define B50	50
+#define B75	75
+#define B110	110
+#define B134	134
+#define B150	150
+#define B200	200
+#define B300	300
+#define B600	600
+#define B1200	1200
+#define	B1800	1800
+#define B2400	2400
+#define B4800	4800
+#define B9600	9600
+#define B19200	19200
+#define B38400	38400
+#define B7200	7200
+#define B14400	14400
+#define B28800	28800
+#define B57600	57600
+#define B76800	76800
+#define B115200	115200
+#define B230400	230400
+#define EXTA	19200
+#define EXTB	38400
+
+
+
+
+/*
+ * Line Control
+ */
+
+#define	TCIFLUSH	1
+#define	TCOFLUSH	2
+#define TCIOFLUSH	3
+#define	TCOOFF		1
+#define	TCOON		2
+#define TCIOFF		3
+#define TCION		4
+
+
+
+
+/*
+ * Prototypes
+ */
+
+int	cfsetispeed (struct termios *termios_p, speed_t speed);
+int	cfsetospeed (struct termios *termios_p, speed_t speed);
+int	tcgetattr (int fd, struct termios *termios_p);
+int	tcsetattr (int fd, int actions, const struct termios *termios_p);
+int	tcdrain (int fd);
+int	tcflow (int fd, int actions);
+int	tcflush (int fd, int queue_sel);
+int	tcsendbreak (int fd, int duration);
+pid_t tcgetsid (int fd);
+speed_t	cfgetispeed (const struct termios *termios_p);
+speed_t	cfgetospeed (const struct termios *termios_p);
+void cfmakeraw (struct termios *termios_p);
+int	cfsetspeed (struct termios *termios_p, speed_t speed);
+
+
+
+
+#endif /* !_SYS_TERMIOS_H_ */
+
diff -urN newlib-1.15.0/newlib/libc/sys/kielder/sys/uio.h newlib-1.15.0_new/newlib/libc/sys/kielder/sys/uio.h
--- newlib-1.15.0/newlib/libc/sys/kielder/sys/uio.h	1970-01-01 00:00:00.000000000 +0000
+++ newlib-1.15.0_new/newlib/libc/sys/kielder/sys/uio.h	2007-10-01 19:15:39.250000000 +0100
@@ -0,0 +1,33 @@
+/* 
+ * UIO stuff, needed to compile some programs.
+ * readv/writev not implemented.
+ */
+
+
+
+#ifndef _SYS_UIO_H_
+#define _SYS_UIO_H_
+
+#include <sys/types.h>
+
+
+struct iovec
+{
+	void *iov_base;
+	size_t  iov_len;
+};
+
+
+
+
+ssize_t readv (int, const struct iovec *, int);
+ssize_t writev (int, const struct iovec *, int);
+
+
+
+
+
+
+
+#endif /* !_SYS_UIO_H_ */
+
diff -urN newlib-1.15.0/newlib/libc/sys/kielder/sys/unistd.h newlib-1.15.0_new/newlib/libc/sys/kielder/sys/unistd.h
--- newlib-1.15.0/newlib/libc/sys/kielder/sys/unistd.h	1970-01-01 00:00:00.000000000 +0000
+++ newlib-1.15.0_new/newlib/libc/sys/kielder/sys/unistd.h	2007-09-28 15:36:11.265625000 +0100
@@ -0,0 +1,335 @@
+#ifndef _SYS_UNISTD_H
+#define _SYS_UNISTD_H
+
+#ifdef __cplusplus
+extern "C" {
+#endif
+
+#include <_ansi.h>
+#include <sys/types.h>
+#include <sys/_types.h>
+#define __need_size_t
+#define __need_ptrdiff_t
+#include <stddef.h>
+
+extern char **environ;
+
+void	_EXFUN(_exit, (int __status ) _ATTRIBUTE ((noreturn)));
+
+int	_EXFUN(access,(const char *__path, int __amode ));
+unsigned  _EXFUN(alarm, (unsigned __secs ));
+int     _EXFUN(chdir, (const char *__path ));
+int     _EXFUN(chmod, (const char *__path, mode_t __mode ));
+#if !defined(__INSIDE_CYGWIN__)
+int     _EXFUN(chown, (const char *__path, uid_t __owner, gid_t __group ));
+#endif
+#if defined(__CYGWIN__) || defined(__rtems__)
+int     _EXFUN(chroot, (const char *__path ));
+#endif
+int     _EXFUN(close, (int __fildes ));
+char    _EXFUN(*ctermid, (char *__s ));
+char    _EXFUN(*cuserid, (char *__s ));
+#if defined(__CYGWIN__)
+int	_EXFUN(daemon, (int nochdir, int noclose));
+#endif
+int     _EXFUN(dup, (int __fildes ));
+int     _EXFUN(dup2, (int __fildes, int __fildes2 ));
+#if defined(__CYGWIN__)
+void	_EXFUN(endusershell, (void));
+#endif
+int     _EXFUN(execl, (const char *__path, const char *, ... ));
+int     _EXFUN(execle, (const char *__path, const char *, ... ));
+int     _EXFUN(execlp, (const char *__file, const char *, ... ));
+int     _EXFUN(execv, (const char *__path, char * const __argv[] ));
+int     _EXFUN(execve, (const char *__path, char * const __argv[], char * const __envp[] ));
+int     _EXFUN(execvp, (const char *__file, char * const __argv[] ));
+#if defined(__CYGWIN__) || defined(__rtems__)
+int     _EXFUN(fchdir, (int __fildes));
+#endif
+int     _EXFUN(fchmod, (int __fildes, mode_t __mode ));
+#if !defined(__INSIDE_CYGWIN__)
+int     _EXFUN(fchown, (int __fildes, uid_t __owner, gid_t __group ));
+#endif
+pid_t   _EXFUN(fork, (void ));
+long    _EXFUN(fpathconf, (int __fd, int __name ));
+int     _EXFUN(fsync, (int __fd));
+int     _EXFUN(fdatasync, (int __fd));
+char    _EXFUN(*getcwd, (char *__buf, size_t __size ));
+#if defined(__CYGWIN__)
+int	_EXFUN(getdomainname ,(char *__name, size_t __len));
+#endif
+#if !defined(__INSIDE_CYGWIN__)
+gid_t   _EXFUN(getegid, (void ));
+uid_t   _EXFUN(geteuid, (void ));
+gid_t   _EXFUN(getgid, (void ));
+#endif
+int     _EXFUN(getgroups, (int __gidsetsize, gid_t __grouplist[] ));
+#if defined(__CYGWIN__)
+long    _EXFUN(gethostid, (void));
+#endif
+char    _EXFUN(*getlogin, (void ));
+#if defined(_POSIX_THREAD_SAFE_FUNCTIONS)
+int _EXFUN(getlogin_r, (char *name, size_t namesize) );
+#endif
+char 	_EXFUN(*getpass, (const char *__prompt));
+size_t  _EXFUN(getpagesize, (void));
+#if defined(__CYGWIN__)
+int    _EXFUN(getpeereid, (int, uid_t *, gid_t *));
+#endif
+pid_t   _EXFUN(getpgid, (pid_t));
+pid_t   _EXFUN(getpgrp, (void ));
+pid_t   _EXFUN(getpid, (void ));
+pid_t   _EXFUN(getppid, (void ));
+#ifdef __CYGWIN__
+pid_t   _EXFUN(getsid, (pid_t));
+#endif
+#if !defined(__INSIDE_CYGWIN__)
+uid_t   _EXFUN(getuid, (void ));
+#endif
+#ifdef __CYGWIN__
+char *	_EXFUN(getusershell, (void));
+char    _EXFUN(*getwd, (char *__buf ));
+int	_EXFUN(iruserok, (unsigned long raddr, int superuser, const char *ruser, const char *luser));
+#endif
+int     _EXFUN(isatty, (int __fildes ));
+#if !defined(__INSIDE_CYGWIN__)
+int     _EXFUN(lchown, (const char *__path, uid_t __owner, gid_t __group ));
+#endif
+int     _EXFUN(link, (const char *__path1, const char *__path2 ));
+int	_EXFUN(nice, (int __nice_value ));
+#if !defined(__INSIDE_CYGWIN__)
+off_t   _EXFUN(lseek, (int __fildes, off_t __offset, int __whence ));
+#endif
+long    _EXFUN(pathconf, (const char *__path, int __name ));
+int     _EXFUN(pause, (void ));
+#ifdef __CYGWIN__
+int	_EXFUN(pthread_atfork, (void (*)(void), void (*)(void), void (*)(void)));
+#endif
+int     _EXFUN(pipe, (int __fildes[2] ));
+ssize_t _EXFUN(pread, (int __fd, void *__buf, size_t __nbytes, off_t __offset));
+ssize_t _EXFUN(pwrite, (int __fd, const void *__buf, size_t __nbytes, off_t __offset));
+_READ_WRITE_RETURN_TYPE _EXFUN(read, (int __fd, void *__buf, size_t __nbyte ));
+#if defined(__CYGWIN__)
+int	_EXFUN(rresvport, (int *__alport));
+int	_EXFUN(revoke, (char *__path));
+#endif
+int     _EXFUN(rmdir, (const char *__path ));
+#if defined(__CYGWIN__)
+int	_EXFUN(ruserok, (const char *rhost, int superuser, const char *ruser, const char *luser));
+#endif
+void *  _EXFUN(sbrk,  (ptrdiff_t __incr));
+#if !defined(__INSIDE_CYGWIN__)
+#if defined(__CYGWIN__)
+int     _EXFUN(setegid, (gid_t __gid ));
+int     _EXFUN(seteuid, (uid_t __uid ));
+#endif
+int     _EXFUN(setgid, (gid_t __gid ));
+#endif
+#if defined(__CYGWIN__)
+int	_EXFUN(setgroups, (int ngroups, const gid_t *grouplist ));
+#endif
+int     _EXFUN(setpgid, (pid_t __pid, pid_t __pgid ));
+int     _EXFUN(setpgrp, (void ));
+#if defined(__CYGWIN__) && !defined(__INSIDE_CYGWIN__)
+int	_EXFUN(setregid, (gid_t __rgid, gid_t __egid));
+int	_EXFUN(setreuid, (uid_t __ruid, uid_t __euid));
+#endif
+pid_t   _EXFUN(setsid, (void ));
+#if !defined(__INSIDE_CYGWIN__)
+int     _EXFUN(setuid, (uid_t __uid ));
+#endif
+#if defined(__CYGWIN__)
+void	_EXFUN(setusershell, (void));
+#endif
+unsigned _EXFUN(sleep, (unsigned int __seconds ));
+void    _EXFUN(swab, (const void *, void *, ssize_t));
+long    _EXFUN(sysconf, (int __name ));
+pid_t   _EXFUN(tcgetpgrp, (int __fildes ));
+int     _EXFUN(tcsetpgrp, (int __fildes, pid_t __pgrp_id ));
+char    _EXFUN(*ttyname, (int __fildes ));
+#if defined(__CYGWIN__)
+int     _EXFUN(ttyname_r, (int, char *, size_t)); 
+#endif
+int     _EXFUN(unlink, (const char *__path ));
+int     _EXFUN(vhangup, (void ));
+_READ_WRITE_RETURN_TYPE _EXFUN(write, (int __fd, const void *__buf, size_t __nbyte ));
+
+#ifdef __CYGWIN__
+# define __UNISTD_GETOPT__
+# include <getopt.h>
+# undef __UNISTD_GETOPT__
+#else
+extern char *optarg;			/* getopt(3) external variables */
+extern int optind, opterr, optopt;
+int	 getopt(int, char * const [], const char *);
+extern int optreset;			/* getopt(3) external variable */
+#endif
+
+#ifndef        _POSIX_SOURCE
+pid_t   _EXFUN(vfork, (void ));
+
+extern char *suboptarg;			/* getsubopt(3) external variable */
+int	 getsubopt(char **, char * const *, char **);
+#endif /* _POSIX_SOURCE */
+
+#ifdef _COMPILING_NEWLIB
+/* Provide prototypes for most of the _<systemcall> names that are
+   provided in newlib for some compilers.  */
+int     _EXFUN(_close, (int __fildes ));
+pid_t   _EXFUN(_fork, (void ));
+pid_t   _EXFUN(_getpid, (void ));
+int     _EXFUN(_link, (const char *__path1, const char *__path2 ));
+_off_t   _EXFUN(_lseek, (int __fildes, _off_t __offset, int __whence ));
+#ifdef __LARGE64_FILES
+_off64_t _EXFUN(_lseek64, (int __filedes, _off64_t __offset, int __whence ));
+#endif
+_READ_WRITE_RETURN_TYPE _EXFUN(_read, (int __fd, void *__buf, size_t __nbyte ));
+void *  _EXFUN(_sbrk,  (ptrdiff_t __incr));
+int     _EXFUN(_unlink, (const char *__path ));
+_READ_WRITE_RETURN_TYPE _EXFUN(_write, (int __fd, const void *__buf, size_t __nbyte ));
+int     _EXFUN(_execve, (const char *__path, char * const __argv[], char * const __envp[] ));
+#endif
+
+
+int     _EXFUN(ftruncate, (int __fd, off_t __length));
+int     _EXFUN(truncate, (const char *, off_t __length));
+
+int	_EXFUN(getdtablesize, (void));
+int	_EXFUN(setdtablesize, (int));
+useconds_t _EXFUN(ualarm, (useconds_t __useconds, useconds_t __interval));
+unsigned _EXFUN(usleep, (unsigned int __useconds));
+int	_EXFUN(gethostname, (char *__name, size_t __len));
+char *	_EXFUN(mktemp, (char *));
+void    _EXFUN(sync, (void));
+
+int     _EXFUN(readlink, (const char *__path, char *__buf, int __buflen));
+int     _EXFUN(symlink, (const char *__name1, const char *__name2));
+
+#define	F_OK	0
+#define	R_OK	4
+#define	W_OK	2
+#define	X_OK	1
+
+# define	SEEK_SET	0
+# define	SEEK_CUR	1
+# define	SEEK_END	2
+
+#include <sys/features.h>
+
+#define STDIN_FILENO    0       /* standard input file descriptor */
+#define STDOUT_FILENO   1       /* standard output file descriptor */
+#define STDERR_FILENO   2       /* standard error file descriptor */
+
+/*
+ *  4.8.1 Get Configurable System Variables, P1003.1b-1993, p. 96
+ *
+ *  NOTE: Table 4-2, Configurable System Variables, p. 96
+ */
+
+#define _SC_ARG_MAX                 0
+#define _SC_CHILD_MAX               1
+#define _SC_CLK_TCK                 2
+#define _SC_NGROUPS_MAX             3
+#define _SC_OPEN_MAX                4
+  /* no _SC_STREAM_MAX */
+#define _SC_JOB_CONTROL             5
+#define _SC_SAVED_IDS               6
+#define _SC_VERSION                 7
+#define _SC_PAGESIZE                8
+/* CYGWIN-specific values .. do not touch */
+#define _SC_NPROCESSORS_CONF        9
+#define _SC_NPROCESSORS_ONLN       10
+#define _SC_PHYS_PAGES             11
+#define _SC_AVPHYS_PAGES           12
+/* end of CYGWIN-specific values */
+#define _SC_MQ_OPEN_MAX            13
+#define _SC_MQ_PRIO_MAX            14
+#define _SC_RTSIG_MAX              15
+#define _SC_SEM_NSEMS_MAX          16
+#define _SC_SEM_VALUE_MAX          17
+#define _SC_SIGQUEUE_MAX           18
+#define _SC_TIMER_MAX              19
+#define _SC_TZNAME_MAX             20
+
+#define _SC_ASYNCHRONOUS_IO        21
+#define _SC_FSYNC                  22
+#define _SC_MAPPED_FILES           23
+#define _SC_MEMLOCK                24
+#define _SC_MEMLOCK_RANGE          25
+#define _SC_MEMORY_PROTECTION      26
+#define _SC_MESSAGE_PASSING        27
+#define _SC_PRIORITIZED_IO         28
+#define _SC_REALTIME_SIGNALS       29
+#define _SC_SEMAPHORES             30
+#define _SC_SHARED_MEMORY_OBJECTS  31
+#define _SC_SYNCHRONIZED_IO        32
+#define _SC_TIMERS                 33
+#define _SC_AIO_LISTIO_MAX         34
+#define _SC_AIO_MAX                35
+#define _SC_AIO_PRIO_DELTA_MAX     36
+#define _SC_DELAYTIMER_MAX         37
+
+/*
+ *  P1003.1c/D10, p. 52 adds the following.
+ */
+
+#define _SC_THREAD_KEYS_MAX              38
+#define _SC_THREAD_STACK_MIN             39
+#define _SC_THREAD_THREADS_MAX           40
+#define _SC_TTY_NAME_MAX                 41
+
+#define _SC_THREADS                      42
+#define _SC_THREAD_ATTR_STACKADDR        43
+#define _SC_THREAD_ATTR_STACKSIZE        44
+#define _SC_THREAD_PRIORITY_SCHEDULING   45
+#define _SC_THREAD_PRIO_INHERIT          46
+/* _SC_THREAD_PRIO_PROTECT was _SC_THREAD_PRIO_CEILING in early drafts */
+#define _SC_THREAD_PRIO_PROTECT          47
+#define _SC_THREAD_PRIO_CEILING          _SC_THREAD_PRIO_PROTECT
+#define _SC_THREAD_PROCESS_SHARED        48
+#define _SC_THREAD_SAFE_FUNCTIONS        49
+#define _SC_GETGR_R_SIZE_MAX             50
+#define _SC_GETPW_R_SIZE_MAX             51
+#define _SC_LOGIN_NAME_MAX               52
+#define _SC_THREAD_DESTRUCTOR_ITERATIONS 53
+
+#if !defined(__rtems__)
+#define _SC_STREAM_MAX			100
+#endif
+#if !defined(__CYGWIN__) && !defined(__rtems__)
+#define _SC_PRIORITY_SCHEDULING		101
+#endif
+  
+# define	_PC_LINK_MAX	        0
+# define	_PC_MAX_CANON	        1
+# define	_PC_MAX_INPUT	        2
+# define	_PC_NAME_MAX	        3
+# define	_PC_PATH_MAX	        4
+# define	_PC_PIPE_BUF	        5
+# define	_PC_CHOWN_RESTRICTED   	6
+# define	_PC_NO_TRUNC	        7
+# define	_PC_VDISABLE	        8
+# define	_PC_ASYNC_IO            9
+# define	_PC_PRIO_IO            10
+# define	_PC_SYNC_IO            11
+# define	_PC_FILESIZEBITS       12
+# define	_PC_2_SYMLINKS         13
+# define	_PC_SYMLINK_MAX        14
+#ifdef __CYGWIN__
+/* Ask for POSIX permission bits support. */
+# define	_PC_POSIX_PERMISSIONS   90
+/* Ask for full POSIX permission support including uid/gid settings. */
+# define	_PC_POSIX_SECURITY     91
+#endif
+
+/* FIXME: This is temporary until winsup gets sorted out.  */
+#ifdef __CYGWIN__
+#define MAXPATHLEN (260 - 1 /* NUL */)
+#else
+# define	MAXPATHLEN	1024
+#endif
+
+#ifdef __cplusplus
+}
+#endif
+#endif /* _SYS_UNISTD_H */
diff -urN newlib-1.15.0/newlib/libc/sys/kielder/sys/utime.h newlib-1.15.0_new/newlib/libc/sys/kielder/sys/utime.h
--- newlib-1.15.0/newlib/libc/sys/kielder/sys/utime.h	1970-01-01 00:00:00.000000000 +0000
+++ newlib-1.15.0_new/newlib/libc/sys/kielder/sys/utime.h	2007-09-22 16:27:55.234375000 +0100
@@ -0,0 +1,32 @@
+/*
+ *  $Id: utime.h,v 1.1 2002/11/07 19:27:36 jjohnstn Exp $
+ */
+
+#ifndef __UTIME_h__
+#define __UTIME_h__
+
+#ifdef __cplusplus
+extern "C" {
+#endif
+
+/*
+ *  POSIX 1003.1b 5.6.6 Set File Access and Modification Times
+ */
+
+struct utimbuf {
+  time_t  actime;   /* Access time */
+  time_t  modtime;  /* Modification time */
+};
+
+/* Functions */
+
+int utime(
+  const char           *path,
+  const struct utimbuf *times
+);
+
+#ifdef __cplusplus
+};
+#endif
+
+#endif /* _SYS_UTIME_H */
diff -urN newlib-1.15.0/newlib/libc/sys/kielder/sysconf.c newlib-1.15.0_new/newlib/libc/sys/kielder/sysconf.c
--- newlib-1.15.0/newlib/libc/sys/kielder/sysconf.c	1970-01-01 00:00:00.000000000 +0000
+++ newlib-1.15.0_new/newlib/libc/sys/kielder/sysconf.c	2007-09-28 15:48:46.421875000 +0100
@@ -0,0 +1,18 @@
+#include <_ansi.h>
+#include <_syslist.h>
+#include <sys/syscall.h>
+#include <unistd.h>
+#include <errno.h>
+
+
+
+
+/*
+ * sysconf();
+ */
+
+long sysconf (int c)
+{
+	return -1;
+}
+
diff -urN newlib-1.15.0/newlib/libc/sys/kielder/termios.c newlib-1.15.0_new/newlib/libc/sys/kielder/termios.c
--- newlib-1.15.0/newlib/libc/sys/kielder/termios.c	1970-01-01 00:00:00.000000000 +0000
+++ newlib-1.15.0_new/newlib/libc/sys/kielder/termios.c	2007-10-02 09:41:01.406250000 +0100
@@ -0,0 +1,135 @@
+#include <_ansi.h>
+#include <_syslist.h>
+#include <sys/syscall.h>
+#include <sys/ksyscalls.h>
+#include <errno.h>
+#include <unistd.h>
+#include <termios.h>
+
+
+
+
+/*
+ *
+ */
+
+int isatty (int fd)
+{
+	return __syscall1 (_sysidx_isatty, fd);
+}
+
+
+
+
+/*
+ *
+ */
+
+char __ttyname[5] = "/con";
+
+char *ttyname(int fildes)
+{
+	return __ttyname;
+}
+
+
+
+
+/*
+ *
+ */
+
+int tcgetattr (int fd, struct termios *termios)
+{
+	int rc;
+	
+	rc = __syscall2 (_sysidx_tcgetattr, fd, termios);
+
+	return rc;
+}
+
+
+
+
+/*
+ *
+ */
+
+int tcsetattr (int fd, int optional_actions, const struct termios *termios)
+{
+	return __syscall3 (_sysidx_tcsetattr, fd, optional_actions, termios);
+}
+
+
+
+
+/*
+ *
+ */
+
+int cfsetispeed (struct termios *termios_p, speed_t speed)
+{
+	termios_p->c_ispeed = speed;
+	return 0;
+}
+
+
+
+
+/*
+ *
+ */
+
+int cfsetospeed (struct termios *termios_p, speed_t speed)
+{
+	termios_p->c_ospeed = speed;
+	return 0;
+}
+
+
+
+
+/*
+ *
+ */
+
+speed_t cfgetispeed (const struct termios *termios_p)
+{
+	return termios_p->c_ispeed;
+}
+
+
+
+
+/*
+ *
+ */
+
+speed_t cfgetospeed (const struct termios *termios_p)
+{
+	return termios_p->c_ospeed;
+}
+
+
+
+
+/*
+ *
+ */
+
+pid_t tcgetpgrp (int fd)
+{
+	return __syscall1 (_sysidx_tcgetpgrp, fd);
+}
+
+
+
+
+/*
+ *
+ */
+
+int tcsetpgrp (int fd, int pgrp)
+{
+	return __syscall2 (_sysidx_tcsetpgrp, fd, pgrp);
+}
diff -urN newlib-1.15.0/newlib/libc/sys/kielder/time.c newlib-1.15.0_new/newlib/libc/sys/kielder/time.c
--- newlib-1.15.0/newlib/libc/sys/kielder/time.c	1970-01-01 00:00:00.000000000 +0000
+++ newlib-1.15.0_new/newlib/libc/sys/kielder/time.c	2007-09-22 16:27:55.234375000 +0100
@@ -0,0 +1,35 @@
+#include <_ansi.h>
+#include <_syslist.h>
+#include <sys/time.h>
+#include <sys/times.h>
+#include <sys/syscall.h>
+#include <utime.h>
+#include <errno.h>
+
+
+
+
+/*
+ *
+ */
+
+time_t time (time_t *tloc)
+{
+	struct timeval tv;
+	
+	gettimeofday (&tv, NULL);
+	
+	return tv.tv_sec;
+}
+
+
+
+
+/*
+ *
+ */
+
+int utime(const char *path, const struct utimbuf *times)
+{
+	return 0;
+}
diff -urN newlib-1.15.0/newlib/libc/sys/kielder/times.c newlib-1.15.0_new/newlib/libc/sys/kielder/times.c
--- newlib-1.15.0/newlib/libc/sys/kielder/times.c	1970-01-01 00:00:00.000000000 +0000
+++ newlib-1.15.0_new/newlib/libc/sys/kielder/times.c	2007-09-22 16:27:55.250000000 +0100
@@ -0,0 +1,18 @@
+#include <_ansi.h>
+#include <_syslist.h>
+#include <sys/times.h>
+#include <sys/syscall.h>
+#include <errno.h>
+
+
+
+
+/*
+ *
+ */
+
+clock_t times (struct tms *buf)
+{
+  errno = ENOSYS;
+  return -1;
+}
diff -urN newlib-1.15.0/newlib/libc/sys/kielder/truncate.c newlib-1.15.0_new/newlib/libc/sys/kielder/truncate.c
--- newlib-1.15.0/newlib/libc/sys/kielder/truncate.c	1970-01-01 00:00:00.000000000 +0000
+++ newlib-1.15.0_new/newlib/libc/sys/kielder/truncate.c	2007-09-22 16:27:55.250000000 +0100
@@ -0,0 +1,52 @@
+#include <_ansi.h>
+#include <_syslist.h>
+#include <errno.h>
+#include <fcntl.h>
+#include <unistd.h>
+#include <sys/stat.h>
+#include <sys/syscall.h>
+
+
+
+
+/*
+ *
+ */
+
+int ftruncate (int fd, off_t length)
+{
+	return __syscall2 (_sysidx_ftruncate, fd, length);
+}
+
+
+
+
+/*
+ *
+ */
+
+int truncate (const char *pathname, off_t length)
+{
+	int fd;
+	
+	if (length == 0)
+	{
+		if ( (fd = open(pathname, O_WRONLY | O_TRUNC)) < 0)
+			return -1;
+	}
+	else
+	{
+		if ( (fd = open(pathname, O_WRONLY)) < 0)
+			return -1;
+	
+		if (ftruncate(fd, length) <	0)
+			return -1;
+	}
+		
+	if (close(fd) <	0)
+		return -1;
+	
+	return 0;
+}
+
+
diff -urN newlib-1.15.0/newlib/libc/sys/kielder/unlink.c newlib-1.15.0_new/newlib/libc/sys/kielder/unlink.c
--- newlib-1.15.0/newlib/libc/sys/kielder/unlink.c	1970-01-01 00:00:00.000000000 +0000
+++ newlib-1.15.0_new/newlib/libc/sys/kielder/unlink.c	2007-09-22 16:27:55.250000000 +0100
@@ -0,0 +1,18 @@
+#include <_ansi.h>
+#include <_syslist.h>
+#include <errno.h>
+#include <sys/syscall.h>
+
+
+
+
+/*
+ *
+ */
+
+int unlink (char *name)
+{
+	return __syscall1 (_sysidx_unlink, name);
+
+
+}
diff -urN newlib-1.15.0/newlib/libc/sys/kielder/wait.c newlib-1.15.0_new/newlib/libc/sys/kielder/wait.c
--- newlib-1.15.0/newlib/libc/sys/kielder/wait.c	1970-01-01 00:00:00.000000000 +0000
+++ newlib-1.15.0_new/newlib/libc/sys/kielder/wait.c	2007-09-22 16:27:55.265625000 +0100
@@ -0,0 +1,28 @@
+#include <_ansi.h>
+#include <_syslist.h>
+#include <errno.h>
+#include <sys/syscall.h>
+
+
+
+
+/*
+ *
+ */
+
+int wait (int *status)
+{
+	return __syscall3 (_sysidx_waitpid, -1, status, 0);
+}
+
+
+
+
+/*
+ *
+ */
+
+int waitpid (int pid, int *status, int options)
+{
+	return __syscall3 (_sysidx_waitpid, pid, status, options);
+}
diff -urN newlib-1.15.0/newlib/libc/sys/kielder/warning.h newlib-1.15.0_new/newlib/libc/sys/kielder/warning.h
--- newlib-1.15.0/newlib/libc/sys/kielder/warning.h	1970-01-01 00:00:00.000000000 +0000
+++ newlib-1.15.0_new/newlib/libc/sys/kielder/warning.h	2007-09-22 16:27:55.265625000 +0100
@@ -0,0 +1,43 @@
+#ifndef __WARNING_H__
+#define __WARNING_H__
+
+#ifdef HAVE_GNU_LD
+# ifdef HAVE_ELF
+
+/* We want the .gnu.warning.SYMBOL section to be unallocated.  */
+#  ifdef HAVE_ASM_PREVIOUS_DIRECTIVE
+#   define __make_section_unallocated(section_string)   \
+  asm(".section " section_string "; .previous");
+#  elif defined (HAVE_ASM_POPSECTION_DIRECTIVE)
+#   define __make_section_unallocated(section_string)   \
+  asm(".pushsection " section_string "; .popsection");
+#  else
+#   define __make_section_unallocated(section_string)
+#  endif
+
+#  ifdef HAVE_SECTION_ATTRIBUTES
+#   define link_warning(symbol, msg)                     \
+  __make_section_unallocated (".gnu.warning." #symbol)  \
+  static const char __evoke_link_warning_##symbol[]     \
+    __attribute__ ((section (".gnu.warning." #symbol))) = msg;
+#  else
+#   define link_warning(symbol, msg)
+#  endif
+
+#else /* !ELF */
+
+#  define link_warning(symbol, msg)             \
+  asm(".stabs \"" msg "\",30,0,0,0\n"   \
+      ".stabs \"" __SYMBOL_PREFIX #symbol "\",1,0,0,0\n");
+# endif
+#else /* !GNULD */
+/* We will never be heard; they will all die horribly.  */
+# define link_warning(symbol, msg)
+#endif
+
+/* A canned warning for sysdeps/stub functions.  */
+#define stub_warning(name) \
+  link_warning (name, \
+                "warning: " #name " is not implemented and will always fail")
+
+#endif /* __WARNING_H__ */
diff -urN newlib-1.15.0/newlib/libc/sys/kielder/write.c newlib-1.15.0_new/newlib/libc/sys/kielder/write.c
--- newlib-1.15.0/newlib/libc/sys/kielder/write.c	1970-01-01 00:00:00.000000000 +0000
+++ newlib-1.15.0_new/newlib/libc/sys/kielder/write.c	2007-09-22 16:27:55.265625000 +0100
@@ -0,0 +1,18 @@
+#include <_ansi.h>
+#include <_syslist.h>
+#include <sys/syscall.h>
+#include <errno.h>
+#include <sys/syscall.h>
+
+
+
+
+/*
+ *
+ */
+
+int write (int fd, char *ptr, int len)
+{
+	return __syscall3 (_sysidx_write, fd, ptr, len);
+}
+
